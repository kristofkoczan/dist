(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),c=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:u});c.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,c=this.normalizeInstanceIdentifier(void 0===i?o:i);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:c,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=Object(r.e)(h.value,2),f=d[1];c===this.normalizeInstanceIdentifier(d[0])&&f.resolve(u)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return u},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.4.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return dc}),n.d(e,"b",function(){return lc}),n.d(e,"c",function(){return hc}),n.d(e,"d",function(){return su}),n.d(e,"e",function(){return tu}),n.d(e,"f",function(){return da}),n.d(e,"g",function(){return Vo}),n.d(e,"h",function(){return _c}),n.d(e,"i",function(){return Uo}),n.d(e,"j",function(){return mr}),n.d(e,"k",function(){return Va}),n.d(e,"l",function(){return es}),n.d(e,"m",function(){return Je}),n.d(e,"n",function(){return ys}),n.d(e,"o",function(){return oa}),n.d(e,"p",function(){return aa}),n.d(e,"q",function(){return vc}),n.d(e,"r",function(){return Ea}),n.d(e,"s",function(){return $c}),n.d(e,"t",function(){return Dc}),n.d(e,"u",function(){return hn}),n.d(e,"v",function(){return gc}),n.d(e,"w",function(){return mc}),n.d(e,"x",function(){return Ha}),n.d(e,"y",function(){return Ko}),n.d(e,"z",function(){return zo}),n.d(e,"A",function(){return vr}),n.d(e,"B",function(){return Go}),n.d(e,"C",function(){return lr}),n.d(e,"D",function(){return fn}),n.d(e,"E",function(){return ba}),n.d(e,"F",function(){return Lc}),n.d(e,"G",function(){return tn}),n.d(e,"H",function(){return $o}),n.d(e,"I",function(){return Qo}),n.d(e,"J",function(){return Ca}),n.d(e,"K",function(){return D}),n.d(e,"L",function(){return Yc}),n.d(e,"M",function(){return Gc}),n.d(e,"N",function(){return f}),n.d(e,"O",function(){return Sn}),n.d(e,"P",function(){return Wc}),n.d(e,"Q",function(){return ru}),n.d(e,"R",function(){return Hc}),n.d(e,"S",function(){return bc}),n.d(e,"T",function(){return rs}),n.d(e,"U",function(){return Oo}),n.d(e,"V",function(){return cr}),n.d(e,"W",function(){return Kn}),n.d(e,"X",function(){return Rn}),n.d(e,"Y",function(){return Mn}),n.d(e,"Z",function(){return Bn}),n.d(e,"ab",function(){return Ln}),n.d(e,"bb",function(){return Fn}),n.d(e,"cb",function(){return Vn}),n.d(e,"db",function(){return wo}),n.d(e,"eb",function(){return nu}),n.d(e,"fb",function(){return Eo}),n.d(e,"gb",function(){return So}),n.d(e,"hb",function(){return Pn}),n.d(e,"ib",function(){return M}),n.d(e,"jb",function(){return Is}),n.d(e,"kb",function(){return Us}),n.d(e,"lb",function(){return qs}),n.d(e,"mb",function(){return _o}),n.d(e,"nb",function(){return Ct}),n.d(e,"ob",function(){return l}),n.d(e,"pb",function(){return jn}),n.d(e,"qb",function(){return vs}),n.d(e,"rb",function(){return bt}),n.d(e,"sb",function(){return Mo}),n.d(e,"tb",function(){return si}),n.d(e,"ub",function(){return ks}),n.d(e,"vb",function(){return so}),n.d(e,"wb",function(){return ec}),n.d(e,"xb",function(){return G}),n.d(e,"yb",function(){return tt}),n.d(e,"zb",function(){return g}),n.d(e,"Ab",function(){return y}),n.d(e,"Bb",function(){return Z}),n.d(e,"Cb",function(){return et}),n.d(e,"Db",function(){return js}),n.d(e,"Eb",function(){return Ls}),n.d(e,"Fb",function(){return Bs}),n.d(e,"Gb",function(){return Vs}),n.d(e,"Hb",function(){return Fs}),n.d(e,"Ib",function(){return Ms}),n.d(e,"Jb",function(){return Hs}),n.d(e,"Kb",function(){return $e}),n.d(e,"Lb",function(){return mo}),n.d(e,"Mb",function(){return En}),n.d(e,"Nb",function(){return Ye}),n.d(e,"Ob",function(){return uc}),n.d(e,"Pb",function(){return zs}),n.d(e,"Qb",function(){return ic}),n.d(e,"Rb",function(){return $s}),n.d(e,"Sb",function(){return Xs}),n.d(e,"Tb",function(){return Zs}),n.d(e,"Ub",function(){return Rs}),n.d(e,"Vb",function(){return Js}),n.d(e,"Wb",function(){return Za}),n.d(e,"Xb",function(){return Ns}),n.d(e,"Yb",function(){return qt}),n.d(e,"Zb",function(){return hr}),n.d(e,"ac",function(){return X}),n.d(e,"bc",function(){return nc}),n.d(e,"cc",function(){return Xa}),n.d(e,"dc",function(){return io}),n.d(e,"ec",function(){return Ks}),n.d(e,"fc",function(){return go}),n.d(e,"gc",function(){return Ds}),n.d(e,"hc",function(){return cc}),n.d(e,"ic",function(){return ho}),n.d(e,"jc",function(){return fo}),n.d(e,"kc",function(){return po}),n.d(e,"lc",function(){return Ja});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function u(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}function g(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function y(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function b(t){return v(t,w)||v(t,S)}function v(t,e){return t.hasOwnProperty(e)?t[e]:null}function _(t){return t&&(t.hasOwnProperty(E)||t.hasOwnProperty(C))?t[E]:null}const w=c({"\u0275prov":c}),E=c({"\u0275inj":c}),S=c({ngInjectableDef:c}),C=c({ngInjectorDef:c});var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let I;function x(t){const e=I;return I=t,e}function T(t,e,n){const r=b(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&O.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${l(t)}]`)}function k(t){return{toString:t}.toString()}var A=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),D=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const N="undefined"!=typeof globalThis&&globalThis,j="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,P="undefined"!=typeof global&&global,M=N||P||j||R,F={},L=[],V=c({"\u0275cmp":c}),B=c({"\u0275dir":c}),H=c({"\u0275pipe":c}),q=c({"\u0275mod":c}),U=c({"\u0275loc":c}),z=c({"\u0275fac":c}),K=c({__NG_ELEMENT_ID__:c});let W=0;function G(t){return k(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===A.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||L,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||D.Emulated,id:"c",styles:t.styles||L,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=W++,n.inputs=J(t.inputs,e),n.outputs=J(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Q):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map($):null,n})}function Q(t){return nt(t)||function(t){return t[B]||null}(t)}function $(t){return function(t){return t[H]||null}(t)}const Y={};function Z(t){const e={type:t.type,bootstrap:t.bootstrap||L,declarations:t.declarations||L,imports:t.imports||L,exports:t.exports||L,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&k(()=>{Y[t.id]=t.type}),e}function X(t,e){return k(()=>{const n=rt(t,!0);n.declarations=e.declarations||L,n.imports=e.imports||L,n.exports=e.exports||L})}function J(t,e){if(null==t)return F;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const tt=G;function et(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function nt(t){return t[V]||null}function rt(t,e){const n=t[q]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const it=20,st=10;function ot(t){return Array.isArray(t)&&"object"==typeof t[1]}function at(t){return Array.isArray(t)&&!0===t[1]}function ct(t){return 0!=(8&t.flags)}function ut(t){return 2==(2&t.flags)}function lt(t){return 1==(1&t.flags)}function ht(t){return null!==t.template}function dt(t,e){return t.hasOwnProperty(z)?t[z]:null}class ft extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function pt(t){return"string"==typeof t?t:null==t?"":String(t)}function mt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pt(t)}function gt(t,e){const n=e?" in "+e:"";throw new ft("201",`No provider for ${mt(t)} found${n}`)}class yt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function bt(){return vt}function vt(t){return t.type.prototype.ngOnChanges&&(t.setInput=wt),_t}function _t(){const t=Et(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===F)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function wt(t,e,n,r){const i=Et(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:F,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new yt(c&&c.currentValue,e,o===F),t[r]=e}function Et(t){return t.__ngSimpleChanges__||null}bt.ngInherit=!0;let St=void 0;function Ct(t){St=t}function Ot(t){return!!t.listen}const It={createRenderer:(t,e)=>void 0!==St?St:"undefined"!=typeof document?document:void 0};function xt(t){for(;Array.isArray(t);)t=t[0];return t}function Tt(t,e){return xt(e[t])}function kt(t,e){return xt(e[t.index])}function At(t,e){return t.data[e]}function Dt(t,e){const n=e[t];return ot(n)?n:n[0]}function Nt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function jt(t){return 4==(4&t[2])}function Rt(t){return 128==(128&t[2])}function Pt(t,e){return null==e?null:t[e]}function Mt(t){t[18]=0}function Ft(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Lt={lFrame:oe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vt(){return Lt.bindingsEnabled}function Bt(){return Lt.lFrame.lView}function Ht(){return Lt.lFrame.tView}function qt(t){Lt.lFrame.contextLView=t}function Ut(){let t=zt();for(;null!==t&&64===t.type;)t=t.parent;return t}function zt(){return Lt.lFrame.currentTNode}function Kt(t,e){const n=Lt.lFrame;n.currentTNode=t,n.isParent=e}function Wt(){return Lt.lFrame.isParent}function Gt(){Lt.lFrame.isParent=!1}function Qt(){return Lt.isInCheckNoChangesMode}function $t(t){Lt.isInCheckNoChangesMode=t}function Yt(){return Lt.lFrame.bindingIndex++}function Zt(t,e){const n=Lt.lFrame;n.bindingIndex=n.bindingRootIndex=t,Xt(e)}function Xt(t){Lt.lFrame.currentDirectiveIndex=t}function Jt(t){const e=Lt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function te(){return Lt.lFrame.currentQueryIndex}function ee(t){Lt.lFrame.currentQueryIndex=t}function ne(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function re(t,e,n){if(n&O.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&O.Host||(r=ne(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Lt.lFrame=se();return r.currentTNode=e,r.lView=t,!0}function ie(t){const e=se(),n=t[1];Lt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function se(){const t=Lt.lFrame,e=null===t?null:t.child;return null===e?oe(t):e}function oe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ae(){const t=Lt.lFrame;return Lt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ce=ae;function ue(){const t=ae();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function le(){return Lt.lFrame.selectedIndex}function he(t){Lt.lFrame.selectedIndex=t}function de(){const t=Lt.lFrame;return At(t.tView,t.selectedIndex)}function fe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function pe(t,e,n){ye(t,e,3,n)}function me(t,e,n,r){(3&t[2])===n&&ye(t,e,n,r)}function ge(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ye(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(be(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function be(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const ve=-1;class _e{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function we(t,e,n){const r=Ot(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];Se(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ee(t){return 3===t||4===t||6===t}function Se(t){return 64===t.charCodeAt(0)}function Ce(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Oe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Oe(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ie(t){return t!==ve}function xe(t){return 32767&t}function Te(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let ke=!0;function Ae(t){const e=ke;return ke=t,e}let De=0;function Ne(t,e){const n=Re(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,je(r.data,t),je(e,null),je(r.blueprint,null));const i=Pe(t,e),s=t.injectorIndex;if(Ie(i)){const t=xe(i),n=Te(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function je(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Re(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Pe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return ve;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ve}function Me(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(K)&&(r=n[K]),null==r&&(r=n[K]=De++);const i=255&r,s=1<<i,o=64&i,a=32&i,c=e.data;128&i?o?a?c[t+7]|=s:c[t+6]|=s:a?c[t+5]|=s:c[t+4]|=s:o?a?c[t+3]|=s:c[t+2]|=s:a?c[t+1]|=s:c[t]|=s}(t,e,n)}function Fe(t,e,n){if(n&O.Optional)return t;gt(e,"NodeInjector")}function Le(t,e,n,r){if(n&O.Optional&&void 0===r&&(r=null),0==(n&(O.Self|O.Host))){const i=t[9],s=x(void 0);try{return i?i.get(e,r,n&O.Optional):T(e,r,n&O.Optional)}finally{x(s)}}return Fe(r,e,n)}function Ve(t,e,n,r=O.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(K)?t[K]:void 0;return"number"==typeof e?e>=0?255&e:He:e}(n);if("function"==typeof s){if(!re(e,t,r))return r&O.Host?Fe(i,n,r):Le(e,n,r,i);try{const t=s();if(null!=t||r&O.Optional)return t;gt(n)}finally{ce()}}else if("number"==typeof s){let i=null,o=Re(t,e),a=ve,c=r&O.Host?e[16][6]:null;for((-1===o||r&O.SkipSelf)&&(a=-1===o?Pe(t,e):e[o+8],a!==ve&&We(r,!1)?(i=e[1],o=xe(a),e=Te(a,e)):o=-1);-1!==o;){const t=e[1];if(Ke(s,o,t.data)){const t=qe(o,e,n,i,r,c);if(t!==Be)return t}a=e[o+8],a!==ve&&We(r,e[1].data[o+8]===c)&&Ke(s,o,e)?(i=t,o=xe(a),e=Te(a,e)):o=-1}}}return Le(e,n,r,i)}const Be={};function He(){return new Ge(Ut(),Bt())}function qe(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=Ue(a,o,n,null==r?ut(a)&&ke:r!=o&&0!=(3&a.type),i&O.Host&&s===a);return null!==c?ze(e,o,c,a):Be}function Ue(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=o[c];if(t&&ht(t)&&t.type===n)return c}return null}function ze(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof _e){const o=i;o.resolving&&function(t,e){throw new ft("200","Circular dependency in DI detected for "+t)}(mt(s[n]));const a=Ae(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?x(o.injectImpl):null;re(t,r,O.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=vt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&x(c),Ae(a),o.resolving=!1,ce()}}return i}function Ke(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function We(t,e){return!(t&O.Self||t&O.Host&&e)}class Ge{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ve(this._tNode,this._lView,t,void 0,e)}}function Qe(t){const e=t;if(m(t))return()=>{const t=Qe(p(e));return t?t():null};let n=dt(e);if(null===n){const t=_(e);n=t&&t.factory}return n||null}function $e(t){return k(()=>{const e=t.prototype.constructor,n=e[z]||Qe(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[z]||Qe(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Ye(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ee(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ut(),t)}const Ze="__parameters__";function Xe(t,e,n){return k(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Ze)?t[Ze]:Object.defineProperty(t,Ze,{value:[]})[Ze];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Je{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=g({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const tn=Function;function en(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),en(r,e)):e!==t&&e.push(r)}return e}function nn(t,e){t.forEach(t=>Array.isArray(t)?nn(t,e):e(t))}function rn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function sn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function on(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function an(t,e,n){let r=un(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function cn(t,e){const n=un(t,e);if(n>=0)return t[1|n]}function un(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const ln=Xe("Inject",t=>({token:t})),hn=Xe("Optional"),dn=Xe("Self"),fn=Xe("SkipSelf"),pn=Xe("Host"),mn={},gn=/\n/gm,yn="__source",bn=c({provide:String,useValue:c});let vn=void 0;function _n(t){const e=vn;return vn=t,e}function wn(t,e=O.Default){if(void 0===vn)throw new Error("inject() must be called from an injection context");return null===vn?T(t,void 0,e):vn.get(t,e&O.Optional?null:void 0,e)}function En(t,e=O.Default){return(I||wn)(p(t),e)}const Sn=En;function Cn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=O.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof hn||"Optional"===i.ngMetadataName||i===hn?n|=O.Optional:i instanceof fn||"SkipSelf"===i.ngMetadataName||i===fn?n|=O.SkipSelf:i instanceof dn||"Self"===i.ngMetadataName||i===dn?n|=O.Self:i instanceof pn||"Host"===i.ngMetadataName||i===pn?n|=O.Host:t=i instanceof ln||i===ln?i.token:i}e.push(En(t,n))}else e.push(En(r))}return e}let On;function In(t){var e;return(null===(e=function(){if(void 0===On&&(On=null,M.trustedTypes))try{On=M.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return On}())||void 0===e?void 0:e.createHTML(t))||t}class xn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Tn extends xn{getTypeName(){return"HTML"}}class kn extends xn{getTypeName(){return"Style"}}class An extends xn{getTypeName(){return"Script"}}class Dn extends xn{getTypeName(){return"URL"}}class Nn extends xn{getTypeName(){return"ResourceURL"}}function jn(t){return t instanceof xn?t.changingThisBreaksApplicationSecurity:t}function Rn(t,e){const n=Pn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Pn(t){return t instanceof xn&&t.getTypeName()||null}function Mn(t){return new Tn(t)}function Fn(t){return new kn(t)}function Ln(t){return new An(t)}function Vn(t){return new Dn(t)}function Bn(t){return new Nn(t)}class Hn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(In(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class qn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=In(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=In(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Un=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Kn(t){return(t=String(t)).match(Un)||t.match(zn)?t:"unsafe:"+t}function Wn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Gn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Qn=Wn("area,br,col,hr,img,wbr"),$n=Wn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yn=Wn("rp,rt"),Zn=Gn(Yn,$n),Xn=Gn(Qn,Gn($n,Wn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gn(Yn,Wn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zn),Jn=Wn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tr=Wn("srcset"),er=Gn(Jn,tr,Wn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nr=Wn("script,style,template");class rr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Xn.hasOwnProperty(e))return this.sanitizedSomething=!0,!nr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!er.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Jn[s]&&(o=Kn(o)),tr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Kn(t.trim())).join(", ")),this.buf.push(" ",e,'="',or(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Xn.hasOwnProperty(e)&&!Qn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(or(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const ir=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sr=/([^\#-~ |!])/g;function or(t){return t.replace(/&/g,"&amp;").replace(ir,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(sr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ar;function cr(t,e){let n=null;try{ar=ar||function(t){const e=new qn(t);return function(){try{return!!(new window.DOMParser).parseFromString(In(""),"text/html")}catch(t){return!1}}()?new Hn(e):e}(t);let r=e?String(e):"";n=ar.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=ar.getInertBodyElement(r)}while(r!==s);return(new rr).sanitizeChildren(ur(n)||n)}finally{if(n){const t=ur(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var lr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function hr(t){const e=function(){const t=Bt();return t&&t[12]}();return e?e.sanitize(lr.URL,t)||"":Rn(t,"URL")?jn(t):Kn(pt(t))}function dr(t){return t.ngDebugContext}function fr(t){return t.ngOriginalError}function pr(t,...e){t.error(...e)}class mr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||pr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?dr(t)?dr(t):this._findContext(fr(t)):null}_findOriginalError(t){let e=fr(t);for(;e&&fr(e);)e=fr(e);return e}}function gr(t,e){t.__ngContext__=e}const yr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(M))();function br(t){return t instanceof Function?t():t}var vr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function _r(t,e){return(void 0)(t,e)}function wr(t){const e=t[3];return at(e)?e[3]:e}function Er(t){return Cr(t[13])}function Sr(t){return Cr(t[4])}function Cr(t){for(;null!==t&&!at(t);)t=t[4];return t}function Or(t,e,n,r,i){if(null!=r){let s,o=!1;at(r)?s=r:ot(r)&&(o=!0,r=r[0]);const a=xt(r);0===t&&null!==n?null==i?jr(e,n,a):Nr(e,n,a,i||null,!0):1===t&&null!==n?Nr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Pr(t,e);r&&function(t,e,n,r){Ot(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==xt(n)&&Or(e,t,r,s,i);for(let o=st;o<n.length;o++){const i=n[o];qr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Ir(t,e,n){return Ot(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function xr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ft(i,-1)),n.splice(r,1)}function Tr(t,e){if(t.length<=st)return;const n=st+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&xr(s,r),e>0&&(t[n-1][4]=r[4]);const o=sn(t,st+e);qr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function kr(t,e){if(!(256&e[2])){const n=e[11];Ot(n)&&n.destroyNode&&qr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ar(t[1],t);for(;e;){let n=null;if(ot(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ot(e)&&Ar(e[1],e),e=e[3];null===e&&(e=t),ot(e)&&Ar(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ar(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof _e)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):xt(e[t]),a=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Ot(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&at(e[3])){n!==e[3]&&xr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Dr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===D.None||e===D.Emulated)return null}return kt(r,n)}(t,e.parent,n)}function Nr(t,e,n,r,i){Ot(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function jr(t,e,n){Ot(t)?t.appendChild(e,n):e.appendChild(n)}function Rr(t,e,n,r,i){null!==r?Nr(t,e,n,r,i):jr(t,e,n)}function Pr(t,e){return Ot(t)?t.parentNode(e):e.parentNode}function Mr(t,e,n){return Fr(t,e,n)}let Fr=function(t,e,n){return 40&t.type?kt(t,n):null};function Lr(t,e,n,r){const i=Dr(t,r,e),s=e[11],o=Mr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Rr(s,i,n[a],o,!1);else Rr(s,i,n,o,!1)}function Vr(t,e){if(null!==e){const n=e.type;if(3&n)return kt(e,t);if(4&n)return Br(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Vr(t,n);{const n=t[e.index];return at(n)?Br(-1,n):xt(n)}}if(32&n)return _r(e,t)()||xt(t[e.index]);{const n=t[16],r=n[6],i=wr(n),s=r.projection[e.projection];return null!=s?Vr(i,s):Vr(t,e.next)}}return null}function Br(t,e){const n=st+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Vr(t,r)}return e[7]}function Hr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&gr(xt(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)Hr(t,e,n.child,r,i,s,!1),Or(e,t,i,a,s);else if(32&c){const o=_r(n,r);let c;for(;c=o();)Or(e,t,i,c,s);Or(e,t,i,a,s)}else 16&c?Ur(t,e,r,n,i,s):Or(e,t,i,a,s);n=o?n.projectionNext:n.next}}function qr(t,e,n,r,i,s){Hr(n,r,t.firstChild,e,i,s,!1)}function Ur(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Or(e,t,i,a[c],s);else Hr(t,e,a,o[3],i,s,!0)}function zr(t,e,n){Ot(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Kr(t,e,n){Ot(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Wr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Gr="ng-template";function Qr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Wr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function $r(t){return 4===t.type&&t.value!==Gr}function Yr(t,e,n){return e===(4!==t.type||n?t.value:Gr)}function Zr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ee(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Yr(t,c,n)||""===c&&1===e.length){if(Xr(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Qr(t.attrs,u,n)){if(Xr(r))return!1;o=!0}continue}const l=Jr(8&r?"class":c,i,$r(t),n);if(-1===l){if(Xr(r))return!1;o=!0;continue}if(""!==u){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Wr(e,u,0)||2&r&&u!==t){if(Xr(r))return!1;o=!0}}}}else{if(!o&&!Xr(r)&&!Xr(c))return!1;if(o&&Xr(c))continue;o=!1,r=c|1&r}}return Xr(r)||o}function Xr(t){return 0==(1&t)}function Jr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ti(t,e,n=!1){for(let r=0;r<e.length;r++)if(Zr(t,e[r],n))return!0;return!1}function ei(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ni(t,e){return t?":not("+e.trim()+")":e}function ri(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Xr(o)||(e+=ni(s,i),i=""),r=o,s=s||!Xr(r);n++}return""!==i&&(e+=ni(s,i)),e}const ii={};function si(t){oi(Ht(),Bt(),le()+t,Qt())}function oi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&pe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&me(e,r,0,n)}he(n)}function ai(t,e){return t<<17|e<<2}function ci(t){return t>>17&32767}function ui(t){return 2|t}function li(t){return(131068&t)>>2}function hi(t,e){return-131069&t|e<<2}function di(t){return 1|t}function fi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ee(i),n.contentQueries(2,e[s],s)}}}function pi(t,e,n,r,i,s,o,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Mt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function mi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=zt(),o=Wt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Lt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Lt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Kt(s,!0),s}function gi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function yi(t,e,n){ie(e);try{const r=t.viewQuery;null!==r&&Gi(1,r,n);const i=t.template;null!==i&&_i(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&fi(t,e),t.staticViewQueries&&Gi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)qi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ue()}}function bi(t,e,n,r){const i=e[2];if(256==(256&i))return;ie(e);const s=Qt();try{Mt(e),Lt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&_i(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&pe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&me(e,n,0,null),ge(e,0)}if(function(t){for(let e=Er(t);null!==e;e=Sr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ft(r,1),n[2]|=1024}}}(e),function(t){for(let e=Er(t);null!==e;e=Sr(e))for(let t=st;t<e.length;t++){const n=e[t],r=n[1];Rt(n)&&bi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&fi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&pe(e,n)}else{const n=t.contentHooks;null!==n&&me(e,n,1),ge(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)he(~r);else{const i=r,s=n[++t],o=n[++t];Zt(s,i),o(2,e[i])}}}finally{he(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Bi(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Gi(2,c,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&pe(e,n)}else{const n=t.viewHooks;null!==n&&me(e,n,2),ge(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ft(e[3],-1))}finally{ue()}}function vi(t,e,n,r){const i=e[10],s=!Qt(),o=jt(e);try{s&&!o&&i.begin&&i.begin(),o&&yi(t,e,r),bi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function _i(t,e,n,r,i){const s=le();try{he(-1),2&r&&e.length>it&&oi(t,e,it,Qt()),n(r,i)}finally{he(s)}}function wi(t,e,n){if(ct(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ei(t,e,n){Vt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ne(n,e),gr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=ht(r);s&&Mi(e,n,r);const c=ze(e,t,a,n);gr(c,e),null!==o&&Fi(0,a-i,c,r,0,o),s&&(Dt(n.index,e)[8]=c)}}(t,e,n,kt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Lt.lFrame.currentDirectiveIndex;try{he(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Xt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Di(r,i)}}finally{he(-1),Xt(o)}}(t,e,n))}function Si(t,e,n=kt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Ci(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Oi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Oi(t,e,n,r,i,s,o,a,c,u){const l=it+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ii);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Ii(t,e,n,r){const i=$i(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Yi(t).push(r,i.length-1))}function xi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ti(t,e,n,r,i,s,o,a){const c=kt(e,n);let u,l=e.inputs;var h;!a&&null!=l&&(u=l[r])?(Ji(t,n,u,r,i),ut(e)&&function(t,e){const n=Dt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,Ot(s)?s.setProperty(c,r,i):Se(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function ki(t,e,n,r){let i=!1;if(Vt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ti(n,o.selectors,!1)&&(i||(i=[]),Me(Ne(n,e),t,o.type),ht(o)?(Ni(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ri(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,c=gi(t,e,s.length,null);for(let i=0;i<s.length;i++){const u=s[i];n.mergedAttrs=Ce(n.mergedAttrs,u.hostAttrs),Pi(t,n,e,c,u),ji(c,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||$r(e)?null:Li(n,i);s.push(u),o=xi(n,c,o),a=xi(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new ft("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ce(n.mergedAttrs,n.attrs),i}function Ai(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Di(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ni(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ji(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ht(e)&&(n[""]=t)}}function Ri(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Pi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=dt(i.type)),o=new _e(s,ht(i),null);t.blueprint[r]=o,n[r]=o,Ai(t,e,0,r,gi(t,n,i.hostVars,ii),i)}function Mi(t,e,n){const r=kt(e,t),i=Ci(n),s=t[10],o=Ui(t,pi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Fi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Li(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Vi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Bi(t,e){const n=Dt(e,t);if(Rt(n)){const t=n[1];80&n[2]?bi(t,n,t.template,n[8]):n[5]>0&&Hi(n)}}function Hi(t){for(let n=Er(t);null!==n;n=Sr(n))for(let t=st;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];bi(t,e,t.template,e[8])}else e[5]>0&&Hi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Dt(e[n],t);Rt(r)&&r[5]>0&&Hi(r)}}function qi(t,e){const n=Dt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),yi(r,n,n[8])}function Ui(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function zi(t){for(;t;){t[2]|=64;const e=wr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ki(t,e,n){const r=e[10];r.begin&&r.begin();try{bi(t,e,t.template,n)}catch(i){throw Xi(e,i),i}finally{r.end&&r.end()}}function Wi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Nt(n),i=r[1];vi(i,r,i.template,n)}}(t[8])}function Gi(t,e,n){ee(0),e(t,n)}const Qi=(()=>Promise.resolve(null))();function $i(t){return t[7]||(t[7]=[])}function Yi(t){return t.cleanup||(t.cleanup=[])}function Zi(t,e,n){return(null===t||ht(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Xi(t,e){const n=t[9],r=n?n.get(mr,null):null;r&&r.handleError(e)}function Ji(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],u=t.data[o];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function ts(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const es=new Je("INJECTOR",-1);class ns{get(t,e=mn){if(e===mn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const rs=new Je("Set Injector scope."),is={},ss={},os=[];let as=void 0;function cs(){return void 0===as&&(as=new ns),as}function us(t,e=null,n=null,r){return new ls(t,n,e||cs(),r)}class ls{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&nn(e,n=>this.processProvider(n,t,e)),nn([t],t=>this.processInjectorType(t,[],i)),this.records.set(es,fs(void 0,this));const s=this.records.get(rs);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=mn,n=O.Default){this.assertNotDestroyed();const r=_n(this);try{if(!(n&O.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Je)&&b(t);e=n&&this.injectableDefInScope(n)?fs(hs(t),is):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&O.Self?cs():this.parent).get(t,e=n&O.Optional&&e===mn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[yn]&&i.unshift(e[yn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(gn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{_n(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=_(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=_(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{nn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];nn(r,t=>this.processProvider(t,n,r||os))}}this.injectorDefTypes.add(s),this.records.set(s,fs(r.factory,is));const a=r.providers;if(null!=a&&!o){const e=t;nn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ms(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return ps(t)?fs(void 0,t.useValue):fs(ds(t),is)}(t);if(ms(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=fs(void 0,is,!0),e.factory=()=>Cn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===is&&(e.value=ss,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function hs(t){const e=b(t),n=null!==e?e.factory:dt(t);if(null!==n)return n;const r=_(t);if(null!==r)return r.factory;if(t instanceof Je)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=on(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[w]||t[S]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ds(t,e,n){let r=void 0;if(ms(t)){const e=p(t);return dt(e)||hs(e)}if(ps(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Cn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>En(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return dt(e)||hs(e);r=()=>new e(...Cn(t.deps))}var i;return r}function fs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ps(t){return null!==t&&"object"==typeof t&&bn in t}function ms(t){return"function"==typeof t}const gs=function(t,e,n){return function(t,e=null,n=null,r){const i=us(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ys=(()=>{class t{static create(t,e){return Array.isArray(t)?gs(t,e,""):gs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=mn,t.NULL=new ns,t.\u0275prov=g({token:t,providedIn:"any",factory:()=>En(es)}),t.__NG_ELEMENT_ID__=-1,t})();function bs(t,e){fe(Nt(t)[1],Ut())}function vs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=_s(t.inputs),e.declaredInputs=_s(t.declaredInputs),e.outputs=_s(t.outputs);const n=i.hostBindings;n&&Ss(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&ws(t,s),o&&Es(t,o),u(t.inputs,i.inputs),u(t.declaredInputs,i.declaredInputs),u(t.outputs,i.outputs),ht(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===vs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ce(i.hostAttrs,n=Ce(n,i.hostAttrs))}}(r)}function _s(t){return t===F?{}:t===L?[]:t}function ws(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Es(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ss(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Cs=null;function Os(){if(!Cs){const t=M.Symbol;if(t&&t.iterator)Cs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Cs=n)}}}return Cs}function Is(t){return!!xs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Os()in t)}function xs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ts(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ks(t,e,n,r){const i=Bt();return Ts(i,Yt(),e)&&(Ht(),function(t,e,n,r,i,s){const o=kt(t,e);!function(t,e,n,r,i,s,o){if(null==s)Ot(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?pt(s):o(s,r||"",i);Ot(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(de(),i,t,e,n,r)),ks}function As(t,e,n,r){return Ts(t,Yt(),n)?e+pt(n)+r:ii}function Ds(t,e,n,r,i,s,o,a){const c=Bt(),u=Ht(),l=t+it,h=u.firstCreatePass?function(t,e,n,r,i,s,o,a,c){const u=e.consts,l=mi(e,t,4,o||null,Pt(u,a));ki(e,n,l,Pt(u,c)),fe(e,l);const h=l.tViews=Oi(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,s,o):u.data[l];Kt(h,!1);const d=c[11].createComment("");Lr(u,c,d,h),gr(d,c),Ui(c,c[l]=Vi(d,c,d,h)),lt(h)&&Ei(u,c,h),null!=o&&Si(c,h,a)}function Ns(t){return function(t,e){return t[e]}(Lt.lFrame.contextLView,it+t)}function js(t,e=O.Default){const n=Bt();return null===n?En(t,e):Ve(Ut(),n,p(t),e)}function Rs(t,e,n){const r=Bt();return Ts(r,Yt(),e)&&Ti(Ht(),de(),r,t,e,r[11],n,!1),Rs}function Ps(t,e,n,r,i){const s=i?"class":"style";Ji(t,n,e.inputs[s],s,r)}function Ms(t,e,n,r){const i=Bt(),s=Ht(),o=it+t,a=i[11],c=i[o]=Ir(a,e,Lt.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=mi(e,t,2,i,Pt(a,s));return ki(e,n,c,Pt(a,o)),null!==c.attrs&&ts(c,c.attrs,!1),null!==c.mergedAttrs&&ts(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Kt(u,!0);const l=u.mergedAttrs;null!==l&&we(a,c,l);const h=u.classes;null!==h&&Kr(a,c,h);const d=u.styles;null!==d&&zr(a,c,d),64!=(64&u.flags)&&Lr(s,i,c,u),0===Lt.lFrame.elementDepthCount&&gr(c,i),Lt.lFrame.elementDepthCount++,lt(u)&&(Ei(s,i,u),wi(s,u,i)),null!==r&&Si(i,u)}function Fs(){let t=Ut();Wt()?Gt():(t=t.parent,Kt(t,!1));const e=t;Lt.lFrame.elementDepthCount--;const n=Ht();n.firstCreatePass&&(fe(n,t),ct(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ps(n,e,Bt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ps(n,e,Bt(),e.stylesWithoutHost,!1)}function Ls(t,e,n,r){Ms(t,e,n,r),Fs()}function Vs(t,e,n){const r=Bt(),i=Ht(),s=t+it,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Pt(s,r),a=mi(e,t,8,"ng-container",o);return null!==o&&ts(a,o,!0),ki(e,n,a,Pt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Kt(o,!0);const a=r[s]=r[11].createComment("");Lr(i,r,a,o),gr(a,r),lt(o)&&(Ei(i,r,o),wi(i,o,r)),null!=n&&Si(r,o)}function Bs(){let t=Ut();const e=Ht();Wt()?Gt():(t=t.parent,Kt(t,!1)),e.firstCreatePass&&(fe(e,t),ct(t)&&e.queries.elementEnd(t))}function Hs(){return Bt()}function qs(t){return!!t&&"function"==typeof t.then}function Us(t){return!!t&&"function"==typeof t.subscribe}function zs(t,e,n=!1,r){const i=Bt(),s=Ht(),o=Ut();return Ws(s,i,i[11],o,t,e,n,r),zs}function Ks(t,e,n=!1,r){const i=Ut(),s=Bt(),o=Ht();return Ws(o,s,Zi(Jt(o.data),i,s),i,t,e,n,r),Ks}function Ws(t,e,n,r,i,s,o=!1,a){const c=lt(r),u=t.firstCreatePass&&Yi(t),l=$i(e);let h=!0;if(3&r.type){const d=kt(r,e),f=a?a(d):F,p=f.target||d,m=l.length,g=a?t=>a(xt(t[r.index])).target:r.index;if(Ot(n)){let o=null;if(!a&&c&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Qs(r,e,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),u&&u.push(i,g,m,m+1)}}else s=Qs(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),u&&u.push(i,g,m,o)}else s=Qs(r,e,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),u&&u.push(i,r.index,o,-(o+1))}}}function Gs(t,e,n){try{return!1!==e(n)}catch(r){return Xi(t,r),!1}}function Qs(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Dt(t.index,e):e;0==(32&e[2])&&zi(o);let a=Gs(e,n,s),c=i.__ngNextListenerFn__;for(;c;)a=Gs(e,c,s)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function $s(t=1){return function(t){return(Lt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Lt.lFrame.contextLView))[8]}(t)}function Ys(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?ti(t,s,!0):ei(r,s))return i}else n=i}return n}function Zs(t){const e=Bt()[16][6];if(!e.projection){const n=e.projection=on(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Ys(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Xs(t,e=0,n){const r=Bt(),i=Ht(),s=mi(i,it+t,16,null,n||null);null===s.projection&&(s.projection=e),Gt(),64!=(64&s.flags)&&function(t,e,n){Ur(e[11],0,e,n,Dr(t,n,e),Mr(n.parent||e[6],n,e))}(i,r,s)}function Js(t,e,n){return to(t,"",e,"",n),Js}function to(t,e,n,r,i){const s=Bt(),o=As(s,e,n,r);return o!==ii&&Ti(Ht(),de(),s,t,o,s[11],i,!1),to}const eo=[];function no(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ci(s):li(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];ro(t[a],e)&&(c=!0,t[a+1]=r?di(n):ui(n)),a=r?ci(n):li(n)}c&&(t[n+1]=r?ui(s):di(s))}function ro(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&un(t,e)>=0}function io(t,e,n){return oo(t,e,n,!1),io}function so(t,e){return oo(t,e,null,!0),so}function oo(t,e,n,r){const i=Bt(),s=Ht(),o=function(t){const e=Lt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[le()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=Jt(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=co(n=ao(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ao(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==li(r))return t[ci(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ao(null,t,e,n[1],r),n=co(n,e.attrs,r),function(t,e,n,r){t[ci(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=co(r,t[s].hostAttrs,n);return co(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ci(o),c=li(o);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||un(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=ci(t[a+1]);t[r+1]=ai(e,a),0!==e&&(t[e+1]=hi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ai(a,0),0!==a&&(t[a+1]=hi(t[a+1],r)),a=r;else t[r+1]=ai(c,0),0===a?a=r:t[c+1]=hi(t[c+1],r),c=r;l&&(t[r+1]=ui(t[r+1])),no(t,u,r,!0),no(t,u,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&un(s,e)>=0&&(n[r+1]=di(n[r+1]))}(e,u,t,r,s),o=ai(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==ii&&Ts(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1];lo(1==(1&u)?uo(c,e,n,i,li(u),o):void 0)||(lo(s)||function(t){return 2==(2&t)}(u)&&(s=uo(c,null,n,i,a,o)),function(t,e,n,r,i){const s=Ot(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:vr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=vr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Tt(le(),n),i,s))}(s,s.data[le()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(jn(t)))),t}(e,n),r,o)}function ao(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=co(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function co(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),an(t,o,!!n||e[++s]))}return void 0===t?null:t}function uo(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),c=s?e[1]:e,u=null===c;let l=n[i+1];l===ii&&(l=u?eo:void 0);let h=u?cn(l,r):c===r?l:void 0;if(s&&!lo(h)&&(h=cn(e,r)),lo(h)&&(a=h,o))return a;const d=t[i+1];i=o?ci(d):li(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=cn(t,r))}return a}function lo(t){return void 0!==t}function ho(t,e=""){const n=Bt(),r=Ht(),i=t+it,s=r.firstCreatePass?mi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Ot(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Lr(r,n,o,s),Kt(s,!1)}function fo(t){return po("",t,""),fo}function po(t,e,n){const r=Bt(),i=As(r,t,e,n);return i!==ii&&function(t,e,n){const r=Tt(e,t);!function(t,e,n){Ot(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,le(),i),po}function mo(t,e,n){const r=Bt();return Ts(r,Yt(),e)&&Ti(Ht(),de(),r,t,e,r[11],n,!0),mo}function go(t,e,n){const r=Bt();if(Ts(r,Yt(),e)){const i=Ht(),s=de();Ti(i,s,r,t,e,Zi(Jt(i.data),s,r),n,!0)}return go}const yo=void 0;var bo=["en",[["a","p"],["AM","PM"],yo],[["AM","PM"],yo,yo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yo,"{1} 'at' {0}",yo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let vo={};function _o(t,e,n){"string"!=typeof e&&(n=e,e=t[Oo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),vo[e]=t,n&&(vo[e][Oo.ExtraData]=n)}function wo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Co(e);if(n)return n;const r=e.split("-")[0];if(n=Co(r),n)return n;if("en"===r)return bo;throw new Error(`Missing locale data for the locale "${t}".`)}function Eo(t){return wo(t)[Oo.CurrencyCode]||null}function So(t){return wo(t)[Oo.PluralCase]}function Co(t){return t in vo||(vo[t]=M.ng&&M.ng.common&&M.ng.common.locales&&M.ng.common.locales[t]),vo[t]}var Oo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Io="en-US";let xo=Io;function To(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(xo=t.toLowerCase().replace(/_/g,"-"))}function ko(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)ko(t[s],e,n,r,i);else{const s=Ht(),o=Bt();let a=ms(t)?t:p(t.provide),c=ds(t);const u=Ut(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(ms(t)||!t.multi){const r=new _e(c,i,js),f=No(a,e,i?l:l+d,h);-1===f?(Me(Ne(u,o),s,a),Ao(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=No(a,e,l+d,h),p=No(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Me(Ne(u,o),s,a);const l=function(t,e,n,r,i){const s=new _e(t,n,js);return s.multi=[],s.index=e,s.componentProviders=0,Do(s,i,r&&!n),s}(i?Ro:jo,n.length,i,r,c);!i&&g&&(n[p].providerFactory=l),Ao(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),o.push(l)}else Ao(s,t,f>-1?f:p,Do(n[i?p:f],c,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Ao(t,e,n,r){const i=ms(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Do(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function No(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function jo(t,e,n,r){return Po(this.multi,[])}function Ro(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=ze(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Po(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Po(i,s);return s}function Po(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Mo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ht();if(r.firstCreatePass){const i=ht(t);ko(n,r.data,r.blueprint,i,!0),ko(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Fo{}class Lo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Vo=(()=>{class t{}return t.NULL=new Lo,t})();function Bo(...t){}function Ho(t,e){return new Uo(kt(t,e))}const qo=function(){return Ho(Ut(),Bt())};let Uo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=qo,t})();class zo{}let Ko=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Wo(),t})();const Wo=function(){const t=Bt(),e=Dt(Ut().index,t);return function(t){return t[11]}(ot(e)?e:t)};let Go=(()=>{class t{}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>null}),t})();class Qo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const $o=new Qo("11.0.9");class Yo{constructor(){}supports(t){return Is(t)}create(t){return new Xo(t)}}const Zo=(t,e)=>e;class Xo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Zo}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<na(n,r,i)?e:n,o=na(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Is(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Os()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Jo(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ea),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ea),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Jo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ta{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ea{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ta,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function na(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ra{constructor(){}supports(t){return t instanceof Map||xs(t)}create(){return new ia}}class ia{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||xs(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new sa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class sa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let oa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new fn,new hn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>new t([new Yo])}),t})(),aa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new fn,new hn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>new t([new ra])}),t})();function ca(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(xt(s)),at(s))for(let t=st;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&ca(e[1],e,n,r)}const o=n.type;if(8&o)ca(t,e,n.child,r);else if(32&o){const t=_r(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=wr(t);ca(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class ua{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ca(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(at(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Tr(t,n),sn(e,n))}this._attachedToViewContainer=!1}kr(this._lView[1],this._lView)}onDestroy(t){Ii(this._lView[1],this._lView,null,t)}markForCheck(){zi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ki(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){$t(!0);try{Ki(t,e,n)}finally{$t(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,qr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class la extends ua{constructor(t){super(t),this._view=t}detectChanges(){Wi(this._view)}checkNoChanges(){!function(t){$t(!0);try{Wi(t)}finally{$t(!1)}}(this._view)}get context(){return null}}const ha=fa;let da=(()=>{class t{}return t.__NG_ELEMENT_ID__=ha,t.__ChangeDetectorRef__=!0,t})();function fa(t=!1){return function(t,e,n){if(!n&&ut(t)){const n=Dt(t.index,e);return new ua(n,n)}return 47&t.type?new ua(e[16],e):null}(Ut(),Bt(),t)}const pa=[new ra],ma=new oa([new Yo]),ga=new aa(pa),ya=function(){return wa(Ut(),Bt())};let ba=(()=>{class t{}return t.__NG_ELEMENT_ID__=ya,t})();const va=ba,_a=class extends va{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=pi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),yi(e,n,t),new ua(n)}};function wa(t,e){return 4&t.type?new _a(e,t,Ho(t,e)):null}class Ea{}const Sa=function(){return ka(Ut(),Bt())};let Ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sa,t})();const Oa=Ca,Ia=class extends Oa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ho(this._hostTNode,this._hostLView)}get injector(){return new Ge(this._hostTNode,this._hostLView)}get parentInjector(){const t=Pe(this._hostTNode,this._hostLView);if(Ie(t)){const e=Te(t,this._hostLView),n=xe(t);return new Ge(e[1].data[n+8],e)}return new Ge(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=xa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-st}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Ea,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(at(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ia(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=st+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-st?(e[4]=n[i],rn(n,st+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Br(i,s),a=n[11],c=Pr(a,s[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,qr(t,r,n,1,i,s)}(r,s[6],a,n,c,o),t.attachToViewContainerRef(),rn(Ta(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=xa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Tr(this._lContainer,e);n&&(sn(Ta(this._lContainer),e),kr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Tr(this._lContainer,e);return n&&null!=sn(Ta(this._lContainer),e)?new ua(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function xa(t){return t[8]}function Ta(t){return t[8]||(t[8]=[])}function ka(t,e){let n;const r=e[t.index];if(at(r))n=r;else{let i;if(8&t.type)i=xt(r);else{const n=e[11];i=n.createComment("");const r=kt(t,e);Nr(n,Pr(n,r),i,function(t,e){return Ot(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Vi(r,e,i,t),Ui(e,n)}return new Ia(n,t,e)}const Aa={};class Da extends Vo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=nt(t);return new Ra(e,this.ngModule)}}function Na(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ja=new Je("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yr});class Ra extends Fo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ri).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Na(this.componentDef.inputs)}get outputs(){return Na(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Aa,i);return s!==Aa||r===Aa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(zo,It),o=i.get(Go,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(Ot(t))return t.selectRootElement(e,n===D.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ir(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:yr,clean:Qi,playerHandler:null,flags:0},d=Oi(0,null,null,1,0,null,null,null,null,null),f=pi(null,d,h,l,null,null,s,a,o,i);let p,m;ie(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=mi(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(ts(a,c,!0),null!==t&&(we(i,t,c),null!==a.classes&&Kr(i,t,a.classes),null!==a.styles&&zr(i,t,a.styles)));const u=r.createRenderer(t,e),l=pi(n,Ci(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return o.firstCreatePass&&(Me(Ne(a,n),o,e.type),Ni(o,a),Ri(a,n.length,1)),Ui(n,l),n[20]=l}(u,this.componentDef,f,s,a);if(u)if(n)we(a,u,["ng-version",$o.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Xr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&we(a,u,t),e&&e.length>0&&Kr(a,u,e.join(" "))}if(m=At(d,it),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Ut();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Pi(t,r,e,gi(t,e,1,null),n));const i=ze(e,t,r.directiveStart,r);gr(i,e);const s=kt(r,e);return s&&gr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Ut();e.contentQueries(1,o,t.directiveStart)}const a=Ut();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(he(a.index),Ai(n[1],a,0,a.directiveStart,a.directiveEnd,e),Di(e,o)),o}(t,this.componentDef,f,h,[bs]),yi(d,f,null)}finally{ue()}return new Pa(this.componentType,p,Ho(m,f),f,m)}}class Pa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new la(r),this.componentType=t}get injector(){return new Ge(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ma=new Map;class Fa extends Ea{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Da(this);const n=rt(t),r=t[U]||null;r&&To(r),this._bootstrapComponents=br(n.bootstrap),this._r3Injector=us(t,e,[{provide:Ea,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ys.THROW_IF_NOT_FOUND,n=O.Default){return t===ys||t===Ea||t===es?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class La extends class{}{constructor(t){super(),this.moduleType=t,null!==rt(t)&&function(t){const e=new Set;!function t(n){const r=rt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,Ma.get(i),n),Ma.set(i,n));const s=br(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Fa(this.moduleType,t)}}const Va=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function Ba(){return this._results[Os()]()}class Ha{constructor(){this.dirty=!0,this._results=[],this.changes=new Va,this.length=0;const t=Os(),e=Ha.prototype;e[t]||(e[t]=Ba)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=en(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class qa{constructor(t){this.queryList=t,this.matches=null}clone(){return new qa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ua{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ua(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ac(t,e).matches&&this.queries[e].setDirty()}}class za{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Ka{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ka(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Wa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Wa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ga(e,i)),this.matchTNodeWithReadOption(t,e,Ue(e,t,i,!1,!1))}else n===ba?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ue(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Uo||r===Ca||r===ba&&4&e.type)this.addMatch(e.index,-2);else{const n=Ue(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ga(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Qa(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ho(t,e):4&t.type?wa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Uo?Ho(e,t):n===ba?wa(e,t):n===Ca?ka(e,t):void 0}(t,e,r):ze(t,t[1],n,e)}function $a(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Qa(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Ya(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=$a(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=st;t<o.length;t++){const e=o[t];e[17]===e[3]&&Ya(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Ya(n[1],n,i,r)}}}}}return r}function Za(t){const e=Bt(),n=Ht(),r=te();ee(r+1);const i=ac(n,r);if(t.dirty&&jt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Ya(n,e,r,[]):$a(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function Xa(t,e,n){tc(Ht(),Bt(),t,e,n,!0)}function Ja(t,e,n){tc(Ht(),Bt(),t,e,n,!1)}function tc(t,e,n,r,i,s){t.firstCreatePass&&(oc(t,new za(n,r,s,i),-1),s&&(t.staticViewQueries=!0)),sc(t,e)}function ec(t,e,n,r){rc(Ht(),Bt(),e,n,r,!1,Ut(),t)}function nc(t,e,n,r){rc(Ht(),Bt(),e,n,r,!0,Ut(),t)}function rc(t,e,n,r,i,s,o,a){t.firstCreatePass&&(oc(t,new za(n,r,s,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),sc(t,e)}function ic(){return t=Bt(),e=te(),t[19].queries[e].queryList;var t,e}function sc(t,e){const n=new Ha;Ii(t,e,n,n.destroy),null===e[19]&&(e[19]=new Ua),e[19].queries.push(new qa(n))}function oc(t,e,n){null===t.queries&&(t.queries=new Ka),t.queries.track(new Wa(e,n))}function ac(t,e){return t.queries.getByIndex(e)}function cc(t,e){return wa(t,e)}function uc(t=O.Default){const e=fa(!0);if(null!=e||t&O.Optional)return e;gt("ChangeDetectorRef")}const lc=new Je("Application Initializer");let hc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Bo,this.reject=Bo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();qs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(En(lc,8))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const dc=new Je("AppId"),fc={provide:dc,useFactory:function(){return`${pc()}${pc()}${pc()}`},deps:[]};function pc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const mc=new Je("Platform Initializer"),gc=new Je("Platform ID"),yc=new Je("appBootstrapListener");let bc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const vc=new Je("LocaleId"),_c=new Je("DefaultCurrencyCode");class wc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Ec=function(t){return new La(t)},Sc=Ec,Cc=function(t){return Promise.resolve(Ec(t))},Oc=function(t){const e=Ec(t),n=br(rt(t).declarations).reduce((t,e)=>{const n=nt(e);return n&&t.push(new Ra(n)),t},[]);return new wc(e,n)},Ic=Oc,xc=function(t){return Promise.resolve(Oc(t))};let Tc=(()=>{class t{constructor(){this.compileModuleSync=Sc,this.compileModuleAsync=Cc,this.compileModuleAndAllComponentsSync=Ic,this.compileModuleAndAllComponentsAsync=xc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const kc=(()=>Promise.resolve(0))();function Ac(t){"undefined"==typeof Zone?kc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Dc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Va(!1),this.onMicrotaskEmpty=new Va(!1),this.onStable=new Va(!1),this.onError=new Va(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=M.requestAnimationFrame,e=M.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(M,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Rc(t),jc(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Rc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Pc(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Mc(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Pc(t),e.invoke(r,i,s,o,a)}finally{Mc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Rc(t),jc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Dc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Dc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Nc,Bo,Bo);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Nc={};function jc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Rc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Pc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mc(t){t._nesting--,jc(t)}class Fc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Va,this.onMicrotaskEmpty=new Va,this.onStable=new Va,this.onError=new Va}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Lc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Dc.assertNotInAngularZone(),Ac(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ac(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(En(Dc))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})(),Vc=(()=>{class t{constructor(){this._applications=new Map,Uc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Uc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();class Bc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Hc(t){Uc=t}let qc,Uc=new Bc,zc=!0,Kc=!1;function Wc(){return Kc=!0,zc}function Gc(){if(Kc)throw new Error("Cannot enable prod mode after platform setup.");zc=!1}const Qc=new Je("AllowMultipleToken");class $c{constructor(t,e){this.name=t,this.token=e}}function Yc(t,e,n=[]){const r="Platform: "+e,i=new Je(r);return(e=[])=>{let s=Zc();if(!s||s.injector.get(Qc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:rs,useValue:"platform"});!function(t){if(qc&&!qc.destroyed&&!qc.injector.get(Qc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");qc=t.get(Xc);const e=t.get(mc,null);e&&e.forEach(t=>t())}(ys.create({providers:t,name:r}))}return function(t){const e=Zc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Zc(){return qc&&!qc.destroyed?qc:null}let Xc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Fc:("zone.js"===t?void 0:t)||new Dc({enableLongStackTrace:Wc(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Dc,useValue:n}];return n.run(()=>{const e=ys.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(mr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{eu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return qs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(hc);return t.runInitializers(),t.donePromise.then(()=>(To(i.injector.get(vc,Io)||Io),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Jc({},e);return function(t,e,n){const r=new La(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(tu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(En(ys))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function Jc(t,e){return Array.isArray(e)?e.reduce(Jc,t):Object.assign(Object.assign({},t),e)}let tu=(()=>{class t{constructor(t,e,n,r,i,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Dc.assertNotInAngularZone(),Ac(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Dc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Fo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ea),i=n.create(ys.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Lc,null),a=o&&i.injector.get(Vc);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),eu(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),Wc()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;eu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(yc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(En(Dc),En(bc),En(ys),En(mr),En(Vo),En(hc))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function eu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const nu=function(t){return null},ru=Yc(null,"core",[{provide:gc,useValue:"unknown"},{provide:Xc,deps:[ys]},{provide:Vc,deps:[]},{provide:bc,deps:[]}]),iu=[{provide:tu,useClass:tu,deps:[Dc,bc,ys,mr,Vo,hc]},{provide:ja,deps:[Dc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:hc,useClass:hc,deps:[[new hn,lc]]},{provide:Tc,useClass:Tc,deps:[]},fc,{provide:oa,useFactory:function(){return ma},deps:[]},{provide:aa,useFactory:function(){return ga},deps:[]},{provide:vc,useFactory:function(t){return To(t=t||"undefined"!=typeof $localize&&$localize.locale||Io),t},deps:[[new ln(vc),new hn,new fn]]},{provide:_c,useValue:"USD"}];let su=(()=>{class t{constructor(t){}}return t.\u0275mod=Z({type:t}),t.\u0275inj=y({factory:function(e){return new(e||t)(En(tu))},providers:iu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function c(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return C}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return u}),n.d(e,"o",function(){return d}),n.d(e,"p",function(){return m});var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function u(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?b(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",c=new g(i,a,r);return c},t}();function b(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function C(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return I}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new c.m("angularfire2.app.options"),v=new c.m("angularfire2.app.nameOrConfig"),_=new c.I("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(c.P)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:w,deps:[b,c.t,[new c.u,v]]};let I=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",_.full,t.toString()),u.a.registerVersion("angular",c.H.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=c.Bb({type:t}),t.\u0275inj=c.Ab({factory:function(e){return new(e||t)(c.Mb(c.v))},providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("XNiG"),i=n("HDdC"),s=n("7o/Q"),o=n("quSY");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new u(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class u extends s.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function f(){return new r.a}function p(){return t=>{return a()((e=f,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,s,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&c&&u.push("and"),c&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.f)(c,s.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++)e[h[u]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.20",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyC74YoEBQeK6DhWxt0Kd3T2NjTokBKbBPg",authDomain:"kristofkoczan-40c12.firebaseapp.com",projectId:"kristofkoczan-40c12",storageBucket:"kristofkoczan-40c12.appspot.com",messagingSenderId:"577824085302",appId:"1:577824085302:web:b7f6a7ad14149e5e9d0f97",measurementId:"G-M4BWYT7003"};let s=null;function o(){return s}const a=new r.m("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.zb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Mb)(l)}let l=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a))},t.\u0275prov=Object(r.zb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.Mb)(a))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.zb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Mb)(a).location;return new v(Object(r.Mb)(c),e&&e.origin||"")}const b=new r.m("appBaseHref");let v=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(c),r.Mb(b,8))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.k,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(g),r.Mb(c))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.zb)({factory:w,token:t,providedIn:"root"}),t})();function w(){return new _(Object(r.Mb)(g),Object(r.Mb)(c))}function E(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const C=r.gb;class O{}let I=(()=>{class t extends O{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(C(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.q))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();class x{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let T=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new x(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new k(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new k(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.J),r.Db(r.E),r.Db(r.o))},t.\u0275dir=r.yb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class k{constructor(t,e){this.record=t,this.view=e}}let A=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){N("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){N("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.J),r.Db(r.E))},t.\u0275dir=r.yb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function N(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.ob)(e)}'.`)}class j{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let R=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),P=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new j(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.J),r.Db(r.E),r.Db(R,1))},t.\u0275dir=r.yb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),M=(()=>{class t{constructor(t,e,n){n._addDefault(new j(t,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.J),r.Db(r.E),r.Db(R,1))},t.\u0275dir=r.yb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),F=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[{provide:O,useClass:I}]}),t})();function L(t){return"server"===t}class V extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new V,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=H||(H=document.querySelector("base"),H)?H.getAttribute("href"):null;return null==e?null:(n=e,B||(B=document.createElement("a")),B.setAttribute("href",n),"/"===B.pathname.charAt(0)?B.pathname:"/"+B.pathname);var n}resetBaseElement(){H=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let B,H=null;const q=new r.m("TRANSITION_ID"),U=[{provide:r.b,useFactory:function(t,e,n){return()=>{n.get(r.c).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[q,a,r.n],multi:!0}];class z{static init(){Object(r.R)(new z)}addToWindow(t){r.ib.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ib.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ib.getAllAngularRootElements=()=>t.getAllRootElements(),r.ib.frameworkStabilizers||(r.ib.frameworkStabilizers=[]),r.ib.frameworkStabilizers.push(t=>{const e=r.ib.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const K=new r.m("EventManagerPlugins");let W=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(K),r.Mb(r.t))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();class G{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Q=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})(),$=(()=>{class t extends Q{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();const Y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Z=/%COMP%/g;function X(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?X(t,i,n):(i=i.replace(Z,t),n.push(i))}return n}function J(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let tt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new et(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.K.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new nt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.K.ShadowDom:return new rt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=X(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(W),r.Mb($),r.Mb(r.a))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();class et{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Y[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Y[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Y[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.A.DashCase|r.A.Important)?t.style.setProperty(e,n,i&r.A.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.A.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,J(n)):this.eventManager.addEventListener(t,e,J(n))}}class nt extends et{constructor(t,e,n,r){super(t),this.component=n;const i=X(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Z,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Z,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class rt extends et{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=X(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let it=(()=>{class t extends G{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();const st=["alt","control","meta","shift"],ot={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},at={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ct={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ut=(()=>{class t extends G{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(st.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&at.hasOwnProperty(e)&&(e=at[e]))}return ot[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),st.forEach(r=>{r!=n&&(0,ct[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})(),lt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.zb)({factory:function(){return Object(r.Mb)(ht)},token:t,providedIn:"root"}),t})(),ht=(()=>{class t extends lt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.C.NONE:return e;case r.C.HTML:return Object(r.X)(e,"HTML")?Object(r.pb)(e):Object(r.V)(this._doc,String(e));case r.C.STYLE:return Object(r.X)(e,"Style")?Object(r.pb)(e):e;case r.C.SCRIPT:if(Object(r.X)(e,"Script"))return Object(r.pb)(e);throw new Error("unsafe value used in a script context");case r.C.URL:return Object(r.hb)(e),Object(r.X)(e,"URL")?Object(r.pb)(e):Object(r.W)(String(e));case r.C.RESOURCE_URL:if(Object(r.X)(e,"ResourceURL"))return Object(r.pb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.Y)(t)}bypassSecurityTrustStyle(t){return Object(r.bb)(t)}bypassSecurityTrustScript(t){return Object(r.ab)(t)}bypassSecurityTrustUrl(t){return Object(r.cb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.Z)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a))},t.\u0275prov=Object(r.zb)({factory:function(){return t=Object(r.Mb)(r.l),new ht(t.get(a));var t},token:t,providedIn:"root"}),t})();const dt=[{provide:r.v,useValue:"browser"},{provide:r.w,useValue:function(){V.makeCurrent(),z.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.nb)(document),document},deps:[]}],ft=Object(r.L)(r.Q,"browser",dt),pt=[[],{provide:r.T,useValue:"root"},{provide:r.j,useFactory:function(){return new r.j},deps:[]},{provide:K,useClass:it,multi:!0,deps:[a,r.t,r.v]},{provide:K,useClass:ut,multi:!0,deps:[a]},[],{provide:tt,useClass:tt,deps:[W,$,r.a]},{provide:r.z,useExisting:tt},{provide:Q,useExisting:$},{provide:$,useClass:$,deps:[a]},{provide:r.F,useClass:r.F,deps:[r.t]},{provide:W,useClass:W,deps:[K,r.t]},[]];let mt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.a,useValue:e.appId},{provide:q,useExisting:r.a},U]}}}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)(r.Mb(t,12))},providers:pt,imports:[F,r.d]}),t})();"undefined"!=typeof window&&window;const gt=[],yt=[{title:"Home",icon:"home",value:"home",disabled:!1},{title:"About me",icon:"person",value:"about",disabled:!1},{title:"What's new",icon:"explore",value:"news",disabled:!0},{title:"Courses",icon:"book",value:"courses",disabled:!1},{title:"Coffee",icon:"coffee",value:"coffee",disabled:!0},{title:"Photography",icon:"camera",value:"photography",disabled:!0},{title:"Profile",icon:"person",value:"profile",disabled:!0}];var bt=n("D0XW"),vt=n("HDdC"),_t=n("Cfvw"),wt=n("LRne"),Et=n("bHdf");function St(...t){return Object(Et.a)(1)(Object(wt.a)(...t))}var Ct=n("z+Ro");function Ot(...t){const e=t[t.length-1];return Object(Ct.a)(e)?(t.pop(),n=>St(t,n,e)):e=>St(t,e)}var It=n("7o/Q");function xt(){return t=>t.lift(new Tt)}class Tt{call(t,e){return e.subscribe(new kt(t))}}class kt extends It.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var At=n("lJxs");function Dt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Nt(t,e,n))}}class Nt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new jt(t,this.accumulator,this.seed,this.hasSeed))}}class jt extends It.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class Rt{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Pt(t,this.compare,this.keySelector))}}class Pt extends It.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function Mt(t,e){return function(n){return n.lift(new Ft(t,e))}}class Ft{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Lt(t,this.predicate,this.thisArg))}}class Lt extends It.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var Vt=n("pxpQ"),Bt=n("spgP"),Ht=n("Jgta"),qt=n("zIRd"),Ut=n("qOnz"),zt=n("q/0M"),Kt=function(t,e){return(Kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Wt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Gt,Qt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$t=$t||{},Yt=Qt||self;function Zt(){}function Xt(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Jt(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var te="closure_uid_"+(1e9*Math.random()>>>0),ee=0;function ne(t,e,n){return t.call.apply(t.bind,arguments)}function re(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ie(t,e,n){return(ie=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ne:re).apply(null,arguments)}function se(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function oe(){return Date.now()}function ae(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function ce(){this.j=this.j,this.i=this.i}ce.prototype.j=!1,ce.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,te)&&t[te]||(t[te]=++ee)}(this)},ce.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ue=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},le=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function he(t){return Array.prototype.concat.apply([],arguments)}function de(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function fe(t){return/^[\s\xa0]*$/.test(t)}var pe,me=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ge(t,e){return-1!=t.indexOf(e)}function ye(t,e){return t<e?-1:t>e?1:0}t:{var be=Yt.navigator;if(be){var ve=be.userAgent;if(ve){pe=ve;break t}}pe=""}function _e(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function we(t){var e={};for(var n in t)e[n]=t[n];return e}var Ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Ee.length;s++)n=Ee[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ce(t){return Ce[" "](t),t}Ce[" "]=Zt;var Oe,Ie,xe=ge(pe,"Opera"),Te=ge(pe,"Trident")||ge(pe,"MSIE"),ke=ge(pe,"Edge"),Ae=ke||Te,De=ge(pe,"Gecko")&&!(ge(pe.toLowerCase(),"webkit")&&!ge(pe,"Edge"))&&!(ge(pe,"Trident")||ge(pe,"MSIE"))&&!ge(pe,"Edge"),Ne=ge(pe.toLowerCase(),"webkit")&&!ge(pe,"Edge");function je(){var t=Yt.document;return t?t.documentMode:void 0}t:{var Re="",Pe=(Ie=pe,De?/rv:([^\);]+)(\)|;)/.exec(Ie):ke?/Edge\/([\d\.]+)/.exec(Ie):Te?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ie):Ne?/WebKit\/(\S+)/.exec(Ie):xe?/(?:Version)[ \/]?(\S+)/.exec(Ie):void 0);if(Pe&&(Re=Pe?Pe[1]:""),Te){var Me=je();if(null!=Me&&Me>parseFloat(Re)){Oe=String(Me);break t}}Oe=Re}var Fe={};function Le(t){return function(t,e){var n=Fe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=me(String(Oe)).split("."),r=me(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=ye(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||ye(0==o[2].length,0==a[2].length)||ye(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Ve=Yt.document&&Te&&(je()||parseInt(Oe,10))||void 0,Be=!Te||9<=Number(Ve),He=Te&&!Le("9"),qe=function(){if(!Yt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Yt.addEventListener("test",Zt,e),Yt.removeEventListener("test",Zt,e)}catch(n){}return t}();function Ue(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ze(t,e){if(Ue.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(De){t:{try{Ce(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ke[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ue.prototype.b=function(){this.defaultPrevented=!0},ae(ze,Ue);var Ke={2:"touch",3:"pen",4:"mouse"};ze.prototype.b=function(){ze.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,He)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var We="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function Qe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Ge,this.Y=this.Z=!1}function $e(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ye(t){this.src=t,this.a={},this.b=0}function Ze(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=ue(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&($e(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Xe(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Ye.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Xe(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Qe(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Je="closure_lm_"+(1e6*Math.random()|0),tn={};function en(t,e,n,r,i){if(r&&r.once)return rn(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)en(t,e[s],n,r,i);return null}return n=dn(n),t&&t[We]?t.va(e,n,Jt(r)?!!r.capture:!!r,i):nn(t,e,n,!1,r,i)}function nn(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Jt(i)?!!i.capture:!!i;if(o&&!Be)return null;var a=ln(t);if(a||(t[Je]=a=new Ye(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=un,e=Be?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(an(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function rn(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)rn(t,e[s],n,r,i);return null}return n=dn(n),t&&t[We]?t.wa(e,n,Jt(r)?!!r.capture:!!r,i):nn(t,e,n,!0,r,i)}function sn(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)sn(t,e[s],n,r,i);else r=Jt(r)?!!r.capture:!!r,n=dn(n),t&&t[We]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Xe(s=t.a[e],n,r,i))&&($e(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=ln(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Xe(e,n,r,i)),(n=-1<t?e[t]:null)&&on(n))}function on(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[We])Ze(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(an(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ln(e))?(Ze(n,t),0==n.b&&(n.src=null,e[Je]=null)):$e(t)}}}function an(t){return t in tn?tn[t]:tn[t]="on"+t}function cn(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&on(t),n.call(r,e)}function un(t,e){if(t.Y)return!0;if(!Be){if(!e)t:{e=["window","event"];for(var n=Yt,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return cn(t,e=new ze(e,this))}return cn(t,new ze(e,this))}function ln(t){return(t=t[Je])instanceof Ye?t:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function dn(t){return"function"==typeof t?t:(t[hn]||(t[hn]=function(e){return t.handleEvent(e)}),t[hn])}function fn(){ce.call(this),this.c=new Ye(this),this.J=this,this.C=null}function pn(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ue(e,t);else if(e instanceof Ue)e.target=e.target||t;else{var i=e;Se(e=new Ue(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=mn(o,r,!0,e)&&i}if(i=mn(o=e.a=t,r,!0,e)&&i,i=mn(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=mn(o=e.a=n[s],r,!1,e)&&i}function mn(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&Ze(t.c,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}ae(fn,ce),fn.prototype[We]=!0,(Gt=fn.prototype).addEventListener=function(t,e,n,r){en(this,t,e,n,r)},Gt.removeEventListener=function(t,e,n,r){sn(this,t,e,n,r)},Gt.G=function(){if(fn.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)$e(n[r]);delete e.a[t],e.b--}}this.C=null},Gt.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Gt.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var gn=Yt.JSON.stringify;function yn(){this.b=this.a=null}var bn,vn=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new wn},function(t){t.reset()});function _n(){var t=On,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function wn(){this.next=this.b=this.a=null}function En(t){Yt.setTimeout(function(){throw t},0)}function Sn(t,e){bn||function(){var t=Yt.Promise.resolve(void 0);bn=function(){t.then(In)}}(),Cn||(bn(),Cn=!0),On.add(t,e)}yn.prototype.add=function(t,e){var n=vn.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},wn.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},wn.prototype.reset=function(){this.next=this.b=this.a=null};var Cn=!1,On=new yn;function In(){for(var t;t=_n();){try{t.a.call(t.b)}catch(n){En(n)}var e=vn;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Cn=!1}function xn(t,e){fn.call(this),this.b=t||1,this.a=e||Yt,this.f=ie(this.Za,this),this.g=oe()}function Tn(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function kn(t,e,n){if("function"==typeof t)n&&(t=ie(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ie(t.handleEvent,t)}return 2147483647<Number(e)?-1:Yt.setTimeout(t,e||0)}function An(t){t.a=kn(function(){t.a=null,t.c&&(t.c=!1,An(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ae(xn,fn),(Gt=xn.prototype).aa=!1,Gt.M=null,Gt.Za=function(){if(this.aa){var t=oe()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),pn(this,"tick"),this.aa&&(Tn(this),this.start()))}},Gt.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=oe())},Gt.G=function(){xn.X.G.call(this),Tn(this),delete this.a};var Dn=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Kt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:An(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Yt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ce);function Nn(t){ce.call(this),this.b=t,this.a={}}ae(Nn,ce);var jn=[];function Rn(t,e,n,r){Array.isArray(n)||(n&&(jn[0]=n.toString()),n=jn);for(var i=0;i<n.length;i++){var s=en(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Pn(t){_e(t.a,function(t,e){this.a.hasOwnProperty(e)&&on(t)},t),t.a={}}function Mn(){this.a=!0}function Fn(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return gn(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Nn.prototype.G=function(){Nn.X.G.call(this),Pn(this)},Nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mn.prototype.info=function(){};var Ln={},Vn=null;function Bn(){return Vn=Vn||new fn}function Hn(t){Ue.call(this,Ln.Fa,t)}function qn(t){var e=Bn();pn(e,new Hn(e,t))}function Un(t,e){Ue.call(this,Ln.STAT_EVENT,t),this.stat=e}function zn(t){var e=Bn();pn(e,new Un(e,t))}function Kn(t){Ue.call(this,Ln.Ga,t)}function Wn(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Yt.setTimeout(function(){t()},e)}Ln.Fa="serverreachability",ae(Hn,Ue),Ln.STAT_EVENT="statevent",ae(Un,Ue),Ln.Ga="timingevent",ae(Kn,Ue);var Gn={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Qn={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function $n(){}function Yn(){}$n.prototype.a=null;var Zn,Xn={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Jn(){Ue.call(this,"d")}function tr(){Ue.call(this,"c")}function er(){}function nr(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Nn(this),this.P=rr,this.R=new xn(t=Ae?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ae(Jn,Ue),ae(tr,Ue),ae(er,$n),Zn=new er;var rr=45e3,ir={},sr={};function or(t,e,n){t.H=1,t.i=Tr(Er(e)),t.j=n,t.I=!0,ar(t,null)}function ar(t,e){t.u=oe(),lr(t),t.l=Er(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Hr(n.b,"t",r),t.D=0,t.a=Pi(t.g,t.g.C?e:null),0<t.O&&(t.F=new Dn(ie(t.Ca,t,t.a),t.O)),Rn(t.J,t.a,"readystatechange",t.Xa),e=t.B?we(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),qn(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function cr(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ur(t,n);if(i==sr){4==e&&(t.h=4,zn(14),r=!1),Fn(t.c,t.f,null,"[Incomplete Response]");break}if(i==ir){t.h=4,zn(15),Fn(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Fn(t.c,t.f,i,null),mr(t,i)}4==e&&0==n.length&&(t.h=1,zn(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),xi(e),e.F=!0,zn(11))):(Fn(t.c,t.f,n,"[Invalid Chunked Response]"),pr(t),fr(t))}function ur(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?sr:(n=Number(e.substring(n,r)),isNaN(n)?ir:(r+=1)+n>e.length?sr:(e=e.substr(r,n),t.D=r+n,e))}function lr(t){t.T=oe()+t.P,hr(t,t.P)}function hr(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Wn(ie(t.Va,t),e)}function dr(t){t.o&&(Yt.clearTimeout(t.o),t.o=null)}function fr(t){0==t.g.v||t.A||Ai(t.g,t)}function pr(t){dr(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Tn(t.R),Pn(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function mr(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Qr(n.b,t)))if(n.I=t.N,!t.C&&Qr(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(vp){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;ki(n),bi(n)}Ii(n),zn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Wn(ie(n.Sa,n),6e3));if(1>=Gr(n.b)&&n.ea){try{n.ea()}catch(vp){}n.ea=void 0}}else Ni(n,11)}else if((t.C||n.a==t)&&ki(n),!fe(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(ge(l,"spdy")||ge(l,"quic")||ge(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&($r(h,h.b),h.b=null))}if(c.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,xr(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=oe()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=Ri(c,c.C?c.ga:null,c.fa),f.C){Yr(c.b,f);var p=f,m=c.D;m&&p.setTimeout(m),p.o&&(dr(p),lr(p)),c.a=f}else Oi(c);0<n.g.length&&wi(n)}else"stop"!=i[0]&&"close"!=i[0]||Ni(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ni(n,7):yi(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);qn(4)}catch(vp){}}function gr(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Xt(t)||"string"==typeof t)le(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Xt(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Xt(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function yr(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof yr)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function br(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];vr(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)vr(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function vr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Gt=nr.prototype).setTimeout=function(t){this.P=t},Gt.Xa=function(t){t=t.target;var e=this.F;e&&3==fi(t)?e.f():this.Ca(t)},Gt.Ca=function(t){try{if(t==this.a)t:{var e=fi(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ae&&!this.a.$())){this.A||4!=e||7==n||qn(8==n||0>=r?3:2),dr(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fe(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,zn(12),pr(this),fr(this);break t}Fn(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,mr(this,c)}this.I?(cr(this,e,s),Ae&&this.b&&3==e&&(Rn(this.J,this.R,"tick",this.Wa),this.R.start())):(Fn(this.c,this.f,s,null),mr(this,s)),4==e&&pr(this),this.b&&!this.A&&(4==e?Ai(this.g,this):(this.b=!1,lr(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,zn(12)):(this.h=0,zn(13)),pr(this),fr(this)}}}catch(u){}},Gt.Wa=function(){if(this.a){var t=fi(this.a),e=this.a.$();this.D<e.length&&(dr(this),cr(this,t,e),this.b&&4!=t&&lr(this))}},Gt.cancel=function(){this.A=!0,pr(this)},Gt.Va=function(){this.o=null;var t=oe();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(qn(3),zn(17)),pr(this),this.h=2,fr(this)):hr(this,this.T-t)},(Gt=yr.prototype).K=function(){br(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Gt.L=function(){return br(this),this.a.concat()},Gt.get=function(t,e){return vr(this.b,t)?this.b[t]:e},Gt.set=function(t,e){vr(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Gt.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var _r=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wr(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof wr){this.a=void 0!==e?e:t.a,Sr(this,t.f),this.j=t.j,Cr(this,t.c),Or(this,t.h),this.g=t.g,e=t.b;var n=new Fr;n.c=e.c,e.a&&(n.a=new yr(e.a),n.b=e.b),Ir(this,n),this.i=t.i}else t&&(n=String(t).match(_r))?(this.a=!!e,Sr(this,n[1]||"",!0),this.j=kr(n[2]||""),Cr(this,n[3]||"",!0),Or(this,n[4]),this.g=kr(n[5]||"",!0),Ir(this,n[6]||"",!0),this.i=kr(n[7]||"")):(this.a=!!e,this.b=new Fr(null,this.a))}function Er(t){return new wr(t)}function Sr(t,e,n){t.f=n?kr(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Cr(t,e,n){t.c=n?kr(e,!0):e}function Or(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ir(t,e,n){e instanceof Fr?(t.b=e,function(t,e){e&&!t.f&&(Lr(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Vr(this,e),Hr(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ar(e,Pr)),t.b=new Fr(e,t.a))}function xr(t,e,n){t.b.set(e,n)}function Tr(t){return xr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^oe()).toString(36)),t}function kr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ar(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Dr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Dr(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}wr.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ar(e,Nr,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ar(e,Nr,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ar(n,"/"==n.charAt(0)?Rr:jr,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ar(n,Mr)),t.join("")};var Nr=/[#\/\?@]/g,jr=/[#\?:]/g,Rr=/[#\?]/g,Pr=/[#\?@]/g,Mr=/#/g;function Fr(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Lr(t){t.a||(t.a=new yr,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Vr(t,e){Lr(t),e=qr(t,e),vr(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,vr((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&br(t)))}function Br(t,e){return Lr(t),e=qr(t,e),vr(t.a.b,e)}function Hr(t,e,n){Vr(t,e),0<n.length&&(t.c=null,t.a.set(qr(t,e),de(n)),t.b+=n.length)}function qr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Gt=Fr.prototype).add=function(t,e){Lr(this),this.c=null,t=qr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Gt.forEach=function(t,e){Lr(this),this.a.forEach(function(n,r){le(n,function(n){t.call(e,n,r,this)},this)},this)},Gt.L=function(){Lr(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Gt.K=function(t){Lr(this);var e=[];if("string"==typeof t)Br(this,t)&&(e=he(e,this.a.get(qr(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=he(e,t[n])}return e},Gt.set=function(t,e){return Lr(this),this.c=null,Br(this,t=qr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Gt.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Gt.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Ur=function(){return function(t,e){this.b=t,this.a=e}}();function zr(t){this.g=t||Kr,t=Yt.PerformanceNavigationTiming?0<(t=Yt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Yt.ia&&Yt.ia.ya&&Yt.ia.ya()&&Yt.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Kr=10;function Wr(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Gr(t){return t.b?1:t.a?t.a.size:0}function Qr(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function $r(t,e){t.a?t.a.add(e):t.b=e}function Yr(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Zr(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Wt(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return de(t.c)}function Xr(){}function Jr(){this.a=new Xr}function ti(t,e,n){var r=n||"";try{gr(t,function(t,n){var i=t;Jt(t)&&(i=gn(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(tm){throw e.push(r+"type="+encodeURIComponent("_badmap")),tm}}function ei(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}zr.prototype.cancel=function(){var t,e;if(this.c=Zr(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Wt(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Xr.prototype.stringify=function(t){return Yt.JSON.stringify(t,void 0)},Xr.prototype.parse=function(t){return Yt.JSON.parse(t,void 0)};var ni=Yt.JSON.parse;function ri(t){fn.call(this),this.headers=new yr,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ii,this.D=this.F=!1}ae(ri,fn);var ii="",si=/^https?$/i,oi=["POST","PUT"];function ai(t){return"content-type"==t.toLowerCase()}function ci(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ui(t),hi(t)}function ui(t){t.u||(t.u=!0,pn(t,"complete"),pn(t,"error"))}function li(t){if(t.b&&void 0!==$t&&(!t.s[1]||4!=fi(t)||2!=t.W()))if(t.l&&4==fi(t))kn(t.za,0,t);else if(pn(t,"readystatechange"),4==fi(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(_r)[1]||null;if(!s&&Yt.self&&Yt.self.location){var o=Yt.self.location.protocol;s=o.substr(0,o.length-1)}i=!si.test(s?s.toLowerCase():"")}e=i}if(e)pn(t,"complete"),pn(t,"success");else{t.h=6;try{var a=2<fi(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",ui(t)}}finally{hi(t)}}}function hi(t,e){if(t.a){di(t);var n=t.a,r=t.s[0]?Zt:null;t.a=null,t.s=null,e||pn(t,"ready");try{n.onreadystatechange=r}catch(tm){}}}function di(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Yt.clearTimeout(t.m),t.m=null)}function fi(t){return t.a?t.a.readyState:0}function pi(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return _e(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):xr(t,e,n))}function mi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gi(t){this.pa=0,this.g=[],this.c=new Mn,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=mi("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=mi("baseRetryDelayMs",5e3,t),this.Ra=mi("retryDelaySeedMs",1e4,t),this.Ma=mi("forwardChannelMaxRetries",2,t),this.ma=mi("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new zr(t&&t.concurrentRequestLimit),this.ka=new Jr,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function yi(t){if(vi(t),3==t.v){var e=t.R++,n=Er(t.B);xr(n,"SID",t.J),xr(n,"RID",e),xr(n,"TYPE","terminate"),Si(t,n),(e=new nr(t,t.c,e,void 0)).H=2,e.i=Tr(Er(n)),n=!1,Yt.navigator&&Yt.navigator.sendBeacon&&(n=Yt.navigator.sendBeacon(e.i.toString(),"")),!n&&Yt.Image&&((new Image).src=e.i,n=!0),n||(e.a=Pi(e.g,null),e.a.ba(e.i)),e.u=oe(),lr(e)}ji(t)}function bi(t){t.a&&(xi(t),t.a.cancel(),t.a=null)}function vi(t){bi(t),t.j&&(Yt.clearTimeout(t.j),t.j=null),ki(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Yt.clearTimeout(t.h),t.h=null)}function _i(t,e){t.g.push(new Ur(t.Oa++,e)),3==t.v&&wi(t)}function wi(t){Wr(t.b)||t.h||(t.h=!0,Sn(t.Ba,t),t.u=0)}function Ei(t,e){var n;n=e?e.f:t.R++;var r=Er(t.B);xr(r,"SID",t.J),xr(r,"RID",n),xr(r,"AID",t.P),Si(t,r),t.i&&t.l&&pi(r,t.i,t.l),n=new nr(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ci(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),$r(t.b,n),or(n,r,e)}function Si(t,e){t.f&&gr({},function(t,n){xr(e,n,t)})}function Ci(t,e,n){n=Math.min(t.g.length,n);var r=t.f?ie(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=s))s=Math.max(0,i[c].b-100),a=!1;else try{ti(l,o,"req"+u+"_")}catch(fs){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Oi(t){t.a||t.j||(t.T=1,Sn(t.Aa,t),t.o=0)}function Ii(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Wn(ie(t.Aa,t),Di(t,t.o)),t.o++,0))}function xi(t){null!=t.s&&(Yt.clearTimeout(t.s),t.s=null)}function Ti(t){t.a=new nr(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Er(t.la);xr(e,"RID","rpc"),xr(e,"SID",t.J),xr(e,"CI",t.H?"0":"1"),xr(e,"AID",t.P),Si(t,e),xr(e,"TYPE","xmlhttp"),t.i&&t.l&&pi(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Tr(Er(e)),n.j=null,n.I=!0,ar(n,t)}function ki(t){null!=t.m&&(Yt.clearTimeout(t.m),t.m=null)}function Ai(t,e){var n=null;if(t.a==e){ki(t),xi(t),t.a=null;var r=2}else{if(!Qr(t.b,e))return;n=e.s,Yr(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=oe()-e.u;var i=t.u;pn(r=Bn(),new Kn(r,n,e,i)),wi(t)}else Oi(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Gr(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Wn(ie(t.Ba,t,e),Di(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ii(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Ni(t,5);break;case 4:Ni(t,10);break;case 3:Ni(t,6);break;default:Ni(t,2)}}function Di(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Ni(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=ie(t.Ya,t);n||(n=new wr("//www.google.com/images/cleardot.gif"),Yt.location&&"http"==Yt.location.protocol||Sr(n,"https"),Tr(n)),function(t,e){var n=new Mn;if(Yt.Image){var r=new Image;r.onload=se(ei,n,r,"TestLoadImage: loaded",!0,e),r.onerror=se(ei,n,r,"TestLoadImage: error",!1,e),r.onabort=se(ei,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=se(ei,n,r,"TestLoadImage: timeout",!1,e),Yt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else zn(2);t.v=0,t.f&&t.f.ra(e),ji(t),vi(t)}function ji(t){t.v=0,t.I=-1,t.f&&(0==Zr(t.b).length&&0==t.g.length||(t.b.c.length=0,de(t.g),t.g.length=0),t.f.qa())}function Ri(t,e,n){var r=function(t){return t instanceof wr?Er(t):new wr(t,void 0)}(n);if(""!=r.c)e&&Cr(r,e+"."+r.c),Or(r,r.h);else{var i=Yt.location;r=function(t,e,n,r){var i=new wr(null,void 0);return t&&Sr(i,t),e&&Cr(i,e),n&&Or(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&_e(t.V,function(t,e){xr(r,e,t)}),n=t.na,(e=t.A)&&n&&xr(r,e,n),xr(r,"VER",t.ha),Si(t,r),r}function Pi(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ri(t.Na)).F=t.C,e}function Mi(){}function Fi(){if(Te&&!(10<=Number(Ve)))throw Error("Environmental error: no available transport.")}function Li(t,e){fn.call(this),this.a=new gi(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!fe(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fe(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Hi(this)}function Vi(t){Jn.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Bi(){tr.call(this),this.status=1}function Hi(t){this.a=t}(Gt=ri.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Zn),this.a.onreadystatechange=ie(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void ci(this,s)}t=n||"";var i=new yr(this.headers);r&&gr(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=ai,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Yt.FormData&&t instanceof Yt.FormData,!(0<=ue(oi,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{di(this),0<this.o&&((this.D=function(t){return Te&&Le(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ie(this.xa,this)):this.m=kn(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){ci(this,s)}},Gt.xa=function(){void 0!==$t&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,pn(this,"timeout"),this.abort(8))},Gt.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,pn(this,"complete"),pn(this,"abort"),hi(this))},Gt.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),hi(this,!0)),ri.X.G.call(this)},Gt.za=function(){this.j||(this.A||this.l||this.g?li(this):this.Ua())},Gt.Ua=function(){li(this)},Gt.W=function(){try{return 2<fi(this)?this.a.status:-1}catch(Ie){return-1}},Gt.$=function(){try{return this.a?this.a.responseText:""}catch(Ie){return""}},Gt.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ni(e)}},Gt.ua=function(){return this.h},Gt.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Gt=gi.prototype).ha=8,Gt.v=1,Gt.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new nr(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Se(r=we(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ci(this,n,e),xr(i=Er(this.B),"RID",t),xr(i,"CVER",22),this.A&&xr(i,"X-HTTP-Session-Id",this.A),Si(this,i),this.i&&r&&pi(i,this.i,r),$r(this.b,n),this.Ia&&xr(i,"TYPE","init"),this.da?(xr(i,"$req",e),xr(i,"SID","null"),n.U=!0,or(n,i,null)):or(n,i,e),this.v=2}}else 3==this.v&&(t?Ei(this,t):0==this.g.length||Wr(this.b)||Ei(this))},Gt.Aa=function(){if(this.j=null,Ti(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Wn(ie(this.Ta,this),t)}},Gt.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,zn(10),bi(this),Ti(this))},Gt.Sa=function(){null!=this.m&&(this.m=null,bi(this),Ii(this),zn(19))},Gt.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),zn(2)):(this.c.info("Failed to ping google.com"),zn(1))},(Gt=Mi.prototype).ta=function(){},Gt.sa=function(){},Gt.ra=function(){},Gt.qa=function(){},Gt.Ja=function(){},Fi.prototype.a=function(t,e){return new Li(t,e)},ae(Li,fn),Li.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;zn(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Ri(t,null,t.fa),wi(t)},Li.prototype.close=function(){yi(this.a)},Li.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,_i(this.a,e)}else this.l?((e={}).__data__=gn(t),_i(this.a,e)):_i(this.a,t)},Li.prototype.G=function(){this.a.f=null,delete this.f,yi(this.a),delete this.a,Li.X.G.call(this)},ae(Vi,Jn),ae(Bi,tr),ae(Hi,Mi),Hi.prototype.ta=function(){pn(this.a,"a")},Hi.prototype.sa=function(t){pn(this.a,new Vi(t))},Hi.prototype.ra=function(t){pn(this.a,new Bi(t))},Hi.prototype.qa=function(){pn(this.a,"b")},Fi.prototype.createWebChannel=Fi.prototype.a,Li.prototype.send=Li.prototype.h,Li.prototype.open=Li.prototype.g,Li.prototype.close=Li.prototype.close,Gn.NO_ERROR=0,Gn.TIMEOUT=8,Gn.HTTP_ERROR=6,Qn.COMPLETE="complete",Yn.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",fn.prototype.listen=fn.prototype.va,ri.prototype.listenOnce=ri.prototype.wa,ri.prototype.getLastError=ri.prototype.Qa,ri.prototype.getLastErrorCode=ri.prototype.ua,ri.prototype.getStatus=ri.prototype.W,ri.prototype.getResponseJson=ri.prototype.Pa,ri.prototype.getResponseText=ri.prototype.$,ri.prototype.send=ri.prototype.ba;var qi=Gn,Ui=Qn,zi=Ln,Ki=Yn,Wi=ri,Gi=n("mrSG"),Qi=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Qi.o=-1;var $i={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Yi=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Gi.c)(e,t),e}(Error),Zi=new zt.b("@firebase/firestore");function Xi(){return Zi.logLevel}function Ji(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zi.logLevel<=zt.a.DEBUG){var r=e.map(ns);Zi.debug.apply(Zi,Object(Gi.f)(["Firestore (8.4.0): "+t],r))}}function ts(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zi.logLevel<=zt.a.ERROR){var r=e.map(ns);Zi.error.apply(Zi,Object(Gi.f)(["Firestore (8.4.0): "+t],r))}}function es(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zi.logLevel<=zt.a.WARN){var r=e.map(ns);Zi.warn.apply(Zi,Object(Gi.f)(["Firestore (8.4.0): "+t],r))}}function ns(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(tm){return t}}function rs(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.0) INTERNAL ASSERTION FAILED: "+t;throw ts(e),new Error(e)}function is(t,e){t||rs()}function ss(t,e){return t}function os(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var as=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=os(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function cs(t,e){return t<e?-1:t>e?1:0}function us(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ls(t){return t+"\0"}var hs=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Yi($i.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Yi($i.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Yi($i.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Yi($i.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?cs(this.nanoseconds,t.nanoseconds):cs(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ds=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new hs(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function fs(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ps(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ms(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var gs=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&rs(),void 0===n?n=t.length-e:n>t.length-e&&rs(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ys=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gi.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Yi($i.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(gs),bs=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gi.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return bs.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Yi($i.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Yi($i.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Yi($i.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Yi($i.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(gs),_s=function(){function t(t){this.fields=t,t.sort(vs.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return us(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),ws=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return cs(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();ws.EMPTY_BYTE_STRING=new ws("");var Es=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(t){if(is(!!t),"string"==typeof t){var e=0,n=Es.exec(t);if(is(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Cs(t.seconds),nanos:Cs(t.nanos)}}function Cs(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Os(t){return"string"==typeof t?ws.fromBase64String(t):ws.fromUint8Array(t)}function Is(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xs(t){var e=t.mapValue.fields.__previous_value__;return Is(e)?xs(e):e}function Ts(t){var e=Ss(t.mapValue.fields.__local_write_time__.timestampValue);return new hs(e.seconds,e.nanos)}function ks(t){return null==t}function As(t){return 0===t&&1/t==-1/0}function Ds(t){return"number"==typeof t&&Number.isInteger(t)&&!As(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Ns=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(ys.fromString(e))},t.fromName=function(e){return new t(ys.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ys.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ys.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ys(e.slice()))},t}();function js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Is(t)?4:10:rs()}function Rs(t,e){var n=js(t);if(n!==js(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ts(t).isEqual(Ts(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ss(t.timestampValue),r=Ss(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Os(t.bytesValue).isEqual(Os(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Cs(t.geoPointValue.latitude)===Cs(e.geoPointValue.latitude)&&Cs(t.geoPointValue.longitude)===Cs(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Cs(t.integerValue)===Cs(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Cs(t.doubleValue),r=Cs(e.doubleValue);return n===r?As(n)===As(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return us(t.arrayValue.values||[],e.arrayValue.values||[],Rs);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(fs(n)!==fs(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Rs(n[i],r[i])))return!1;return!0}(t,e);default:return rs()}}function Ps(t,e){return void 0!==(t.values||[]).find(function(t){return Rs(t,e)})}function Ms(t,e){var n=js(t),r=js(e);if(n!==r)return cs(n,r);switch(n){case 0:return 0;case 1:return cs(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Cs(t.integerValue||t.doubleValue),r=Cs(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Fs(t.timestampValue,e.timestampValue);case 4:return Fs(Ts(t),Ts(e));case 5:return cs(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Os(t),r=Os(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=cs(n[i],r[i]);if(0!==s)return s}return cs(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=cs(Cs(t.latitude),Cs(e.latitude));return 0!==n?n:cs(Cs(t.longitude),Cs(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Ms(n[i],r[i]);if(s)return s}return cs(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=cs(r[o],s[o]);if(0!==a)return a;var c=Ms(n[r[o]],i[s[o]]);if(0!==c)return c}return cs(r.length,s.length)}(t.mapValue,e.mapValue);default:throw rs()}}function Fs(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return cs(t,e);var n=Ss(t),r=Ss(e),i=cs(n.seconds,r.seconds);return 0!==i?i:cs(n.nanos,r.nanos)}function Ls(t){return Vs(t)}function Vs(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Ss(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Os(t.bytesValue).toBase64():"referenceValue"in t?Ns.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Vs(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Vs(t.fields[s])}return e+"}"}(t.mapValue):rs();var e}function Bs(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Hs(t){return!!t&&"integerValue"in t}function qs(t){return!!t&&"arrayValue"in t}function Us(t){return!!t&&"nullValue"in t}function zs(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ks(t){return!!t&&"mapValue"in t}var Ws=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(vs.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return Rs(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===js(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,s=t.extractNestedValue(this.partialValue,e),o=Ks(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var s=r.applyOverlay(e.child(n),t);null!=s&&(o[n]=s,i=!0)}else null!==t?(o[n]=t,i=!0):o.hasOwnProperty(n)&&(delete o[n],i=!0)}),i?{mapValue:{fields:o}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(vs.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Ks(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Gs(t){var e=[];return ps(t.fields||{},function(t,n){var r=new vs([t]);if(Ks(n)){var i=Gs(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new _s(e)}var Qs=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,ds.min(),Ws.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Ws.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Ws.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ws.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ws.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),$s=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function Ys(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new $s(t,e,n,r,i,s,o)}function Zs(t){var e=ss(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Ls(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),ks(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=lo(e.startAt)),e.endAt&&(n+="|ub:",n+=lo(e.endAt)),e.h=n}return e.h}function Xs(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!fo(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Rs(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mo(t.startAt,e.startAt)&&mo(t.endAt,e.endAt)}function Js(t){return Ns.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var to=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Gi.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new eo(t,n,r):"array-contains"===n?new so(t,r):"in"===n?new oo(t,r):"not-in"===n?new ao(t,r):"array-contains-any"===n?new co(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new no(t,n):new ro(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Ms(e,this.value)):null!==e&&js(this.value)===js(e)&&this.m(Ms(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return rs()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),eo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ns.fromName(r.referenceValue),i}return Object(Gi.c)(e,t),e.prototype.matches=function(t){var e=Ns.comparator(t.key,this.key);return this.m(e)},e}(to),no=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=io(0,n),r}return Object(Gi.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(to),ro=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=io(0,n),r}return Object(Gi.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(to);function io(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Ns.fromName(t.referenceValue)})}var so=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Gi.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return qs(e)&&Ps(e.arrayValue,this.value)},e}(to),oo=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Gi.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Ps(this.value.arrayValue,e)},e}(to),ao=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Gi.c)(e,t),e.prototype.matches=function(t){if(Ps(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Ps(this.value.arrayValue,e)},e}(to),co=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Gi.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!qs(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ps(e.value.arrayValue,t)})},e}(to),uo=function(t,e){this.position=t,this.before=e};function lo(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Ls(t)}).join(",")}var ho=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function fo(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function po(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?Ns.comparator(Ns.fromName(o.referenceValue),n.key):Ms(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function mo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Rs(t.position[n],e.position[n]))return!1;return!0}var go=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function yo(t,e,n,r,i,s,o,a){return new go(t,e,n,r,i,s,o,a)}function bo(t){return new go(t)}function vo(t){return!ks(t.limit)&&"F"===t.limitType}function _o(t){return!ks(t.limit)&&"L"===t.limitType}function wo(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Eo(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function So(t){return null!==t.collectionGroup}function Co(t){var e=ss(t);if(null===e.p){e.p=[];var n=Eo(e),r=wo(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new ho(n)),e.p.push(new ho(vs.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new ho(vs.keyField(),c))}}}return e.p}function Oo(t){var e=ss(t);if(!e.T)if("F"===e.limitType)e.T=Ys(e.path,e.collectionGroup,Co(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Co(e);r<i.length;r++){var s=i[r];n.push(new ho(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new uo(e.endAt.position,!e.endAt.before):null,a=e.startAt?new uo(e.startAt.position,!e.startAt.before):null;e.T=Ys(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function Io(t,e,n){return new go(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xo(t,e){return Xs(Oo(t),Oo(e))&&t.limitType===e.limitType}function To(t){return Zs(Oo(t))+"|lt:"+t.limitType}function ko(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Ls(e.value);var e}).join(", ")+"]"),ks(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+lo(t.startAt)),t.endAt&&(e+=", endAt: "+lo(t.endAt)),"Target("+e+")"}(Oo(t))+"; limitType="+t.limitType+")"}function Ao(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Ns.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!po(t.startAt,Co(t),e)||t.endAt&&po(t.endAt,Co(t),e))}(t,e)}function Do(t){return function(e,n){for(var r=!1,i=0,s=Co(t);i<s.length;i++){var o=s[i],a=No(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function No(t,e,n){var r=t.field.isKeyField()?Ns.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Ms(r,i):rs()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rs()}}function jo(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:As(e)?"-0":e}}function Ro(t){return{integerValue:""+t}}function Po(t,e){return Ds(e)?Ro(e):jo(t,e)}var Mo=function(){this._=void 0};function Fo(t,e,n){return t instanceof Bo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ho?qo(t,e):t instanceof Uo?zo(t,e):function(t,e){var n=Vo(t,e),r=Wo(n)+Wo(t.A);return Hs(n)&&Hs(t.A)?Ro(r):jo(t.R,r)}(t,e)}function Lo(t,e,n){return t instanceof Ho?qo(t,e):t instanceof Uo?zo(t,e):n}function Vo(t,e){return t instanceof Ko?Hs(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Bo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gi.c)(e,t),e}(Mo),Ho=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Gi.c)(e,t),e}(Mo);function qo(t,e){for(var n=Go(e),r=function(t){n.some(function(e){return Rs(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Uo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Gi.c)(e,t),e}(Mo);function zo(t,e){for(var n=Go(e),r=function(t){n=n.filter(function(e){return!Rs(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ko=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Gi.c)(e,t),e}(Mo);function Wo(t){return Cs(t.integerValue||t.doubleValue)}function Go(t){return qs(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Qo=function(t,e){this.field=t,this.transform=e},$o=function(t,e){this.version=t,this.transformResults=e},Yo=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Zo(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Xo=function(){};function Jo(t,e,n){t instanceof ia?function(t,e,n){var r=t.value.clone(),i=aa(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof sa?function(t,e,n){if(Zo(t.precondition,e)){var r=aa(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(oa(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ta(t,e,n){t instanceof ia?function(t,e,n){if(Zo(t.precondition,e)){var r=t.value.clone(),i=ca(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(ra(e),r).setHasLocalMutations()}}(t,e,n):t instanceof sa?function(t,e,n){if(Zo(t.precondition,e)){var r=ca(t.fieldTransforms,n,e),i=e.data;i.setAll(oa(t)),i.setAll(r),e.convertToFoundDocument(ra(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Zo(t.precondition,e)&&e.convertToNoDocument(ds.min())}(t,e)}function ea(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=Vo(s.transform,o||null);null!=a&&(null==n&&(n=Ws.empty()),n.set(s.field,a))}return n||null}function na(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&us(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ho&&e instanceof Ho||t instanceof Uo&&e instanceof Uo?us(t.elements,e.elements,Rs):t instanceof Ko&&e instanceof Ko?Rs(t.A,e.A):t instanceof Bo&&e instanceof Bo}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function ra(t){return t.isFoundDocument()?t.version:ds.min()}var ia=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(Gi.c)(e,t),e}(Xo),sa=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(Gi.c)(e,t),e}(Xo);function oa(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function aa(t,e,n){var r=new Map;is(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Lo(o,a,n[i]))}return r}function ca(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,c=n.data.field(o.field);r.set(o.field,Fo(a,c,e))}return r}var ua,la,ha=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Gi.c)(e,t),e}(Xo),da=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Gi.c)(e,t),e}(Xo),fa=function(t){this.count=t};function pa(t){switch(t){case $i.OK:return rs();case $i.CANCELLED:case $i.UNKNOWN:case $i.DEADLINE_EXCEEDED:case $i.RESOURCE_EXHAUSTED:case $i.INTERNAL:case $i.UNAVAILABLE:case $i.UNAUTHENTICATED:return!1;case $i.INVALID_ARGUMENT:case $i.NOT_FOUND:case $i.ALREADY_EXISTS:case $i.PERMISSION_DENIED:case $i.FAILED_PRECONDITION:case $i.ABORTED:case $i.OUT_OF_RANGE:case $i.UNIMPLEMENTED:case $i.DATA_LOSS:return!0;default:return rs()}}function ma(t){if(void 0===t)return ts("GRPC error has no .code"),$i.UNKNOWN;switch(t){case ua.OK:return $i.OK;case ua.CANCELLED:return $i.CANCELLED;case ua.UNKNOWN:return $i.UNKNOWN;case ua.DEADLINE_EXCEEDED:return $i.DEADLINE_EXCEEDED;case ua.RESOURCE_EXHAUSTED:return $i.RESOURCE_EXHAUSTED;case ua.INTERNAL:return $i.INTERNAL;case ua.UNAVAILABLE:return $i.UNAVAILABLE;case ua.UNAUTHENTICATED:return $i.UNAUTHENTICATED;case ua.INVALID_ARGUMENT:return $i.INVALID_ARGUMENT;case ua.NOT_FOUND:return $i.NOT_FOUND;case ua.ALREADY_EXISTS:return $i.ALREADY_EXISTS;case ua.PERMISSION_DENIED:return $i.PERMISSION_DENIED;case ua.FAILED_PRECONDITION:return $i.FAILED_PRECONDITION;case ua.ABORTED:return $i.ABORTED;case ua.OUT_OF_RANGE:return $i.OUT_OF_RANGE;case ua.UNIMPLEMENTED:return $i.UNIMPLEMENTED;case ua.DATA_LOSS:return $i.DATA_LOSS;default:return rs()}}(la=ua||(ua={}))[la.OK=0]="OK",la[la.CANCELLED=1]="CANCELLED",la[la.UNKNOWN=2]="UNKNOWN",la[la.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",la[la.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",la[la.NOT_FOUND=5]="NOT_FOUND",la[la.ALREADY_EXISTS=6]="ALREADY_EXISTS",la[la.PERMISSION_DENIED=7]="PERMISSION_DENIED",la[la.UNAUTHENTICATED=16]="UNAUTHENTICATED",la[la.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",la[la.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",la[la.ABORTED=10]="ABORTED",la[la.OUT_OF_RANGE=11]="OUT_OF_RANGE",la[la.UNIMPLEMENTED=12]="UNIMPLEMENTED",la[la.INTERNAL=13]="INTERNAL",la[la.UNAVAILABLE=14]="UNAVAILABLE",la[la.DATA_LOSS=15]="DATA_LOSS";var ga=function(){function t(t,e){this.comparator=t,this.root=e||ba.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ba.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ba.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ya(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ya(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ya(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ya(this.root,t,this.comparator,!0)},t}(),ya=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),ba=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw rs();if(this.right.isRed())throw rs();var t=this.left.check();if(t!==this.right.check())throw rs();return t+(this.isRed()?0:1)},t}();ba.EMPTY=null,ba.RED=!0,ba.BLACK=!1,ba.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw rs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw rs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw rs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw rs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw rs()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new ba(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var va=function(){function t(t){this.comparator=t,this.data=new ga(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new _a(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new _a(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),_a=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),wa=new ga(Ns.comparator);function Ea(){return wa}var Sa=new ga(Ns.comparator);function Ca(){return Sa}var Oa=new ga(Ns.comparator);function Ia(){return Oa}var xa=new va(Ns.comparator);function Ta(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=xa,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var ka=new va(cs);function Aa(){return ka}var Da=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Na.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(ds.min(),r,Aa(),Ea(),Ta())},t}(),Na=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(ws.EMPTY_BYTE_STRING,n,Ta(),Ta(),Ta())},t}(),ja=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Ra=function(t,e){this.targetId=t,this.V=e},Pa=function(t,e,n,r){void 0===n&&(n=ws.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ma=function(){function t(){this.S=0,this.D=Va(),this.C=ws.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Ta(),e=Ta(),n=Ta();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:rs()}}),new Na(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Va()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Fa=function(){function t(t){this.W=t,this.G=new Map,this.H=Ea(),this.J=La(),this.Y=new va(cs)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:rs()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Js(i))if(0===n){var s=new Ns(i.path);this.tt(e,s,Qs.newNoDocument(s,ds.min()))}else is(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&Js(s.target)){var o=new Ns(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,Qs.newNoDocument(o,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=Ta();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Da(t,n,this.Y,this.H,r);return this.H=Ea(),this.J=La(),this.Y=new va(cs),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Ma,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new va(cs),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Ji("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Ma),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function La(){return new ga(Ns.comparator)}function Va(){return new ga(Ns.comparator)}var Ba={asc:"ASCENDING",desc:"DESCENDING"},Ha={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qa=function(t,e){this.databaseId=t,this.I=e};function Ua(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function za(t,e){return t.I?e.toBase64():e.toUint8Array()}function Ka(t,e){return Ua(t,e.toTimestamp())}function Wa(t){return is(!!t),ds.fromTimestamp(function(t){var e=Ss(t);return new hs(e.seconds,e.nanos)}(t))}function Ga(t,e){return function(t){return new ys(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Qa(t){var e=ys.fromString(t);return is(bc(e)),e}function $a(t,e){return Ga(t.databaseId,e.path)}function Ya(t,e){var n=Qa(e);if(n.get(1)!==t.databaseId.projectId)throw new Yi($i.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Yi($i.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ns(tc(n))}function Za(t,e){return Ga(t.databaseId,e)}function Xa(t){var e=Qa(t);return 4===e.length?ys.emptyPath():tc(e)}function Ja(t){return new ys(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tc(t){return is(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ec(t,e,n){return{name:$a(t,e),fields:n.toProto().mapValue.fields}}function nc(t,e,n){var r=Ya(t,e.name),i=Wa(e.updateTime),s=new Ws({mapValue:{fields:e.fields}}),o=Qs.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function rc(t,e){var n;if(e instanceof ia)n={update:ec(t,e.key,e.value)};else if(e instanceof ha)n={delete:$a(t,e.key)};else if(e instanceof sa)n={update:ec(t,e.key,e.data),updateMask:yc(e.fieldMask)};else{if(!(e instanceof da))return rs();n={verify:$a(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Bo)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ho)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Uo)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ko)return{fieldPath:e.field.canonicalString(),increment:n.A};throw rs()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ka(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:rs()}(t,e.precondition)),n}function ic(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Yo.updateTime(Wa(t.updateTime)):void 0!==t.exists?Yo.exists(t.exists):Yo.none()}(e.currentDocument):Yo.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(is("REQUEST_TIME"===e.setToServerValue),n=new Bo):"appendMissingElements"in e?n=new Ho(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Uo(e.removeAllFromArray.values||[]):"increment"in e?n=new Ko(t,e.increment):rs();var r=vs.fromServerFormat(e.fieldPath);return new Qo(r,n)}(t,e)}):[];if(e.update){var i=Ya(t,e.update.name),s=new Ws({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new _s((t.fieldPaths||[]).map(function(t){return vs.fromServerFormat(t)}))}(e.updateMask);return new sa(i,s,o,n,r)}return new ia(i,s,n,r)}if(e.delete){var a=Ya(t,e.delete);return new ha(a,n)}if(e.verify){var c=Ya(t,e.verify);return new da(c,n)}return rs()}function sc(t,e){return{documents:[Za(t,e.path)]}}function oc(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Za(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Za(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(zs(t.value))return{unaryFilter:{field:fc(t.field),op:"IS_NAN"}};if(Us(t.value))return{unaryFilter:{field:fc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(zs(t.value))return{unaryFilter:{field:fc(t.field),op:"IS_NOT_NAN"}};if(Us(t.value))return{unaryFilter:{field:fc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fc(t.field),op:dc(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:fc(t.field),direction:hc(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||ks(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=uc(e.startAt)),e.endAt&&(n.structuredQuery.endAt=uc(e.endAt)),n}function ac(t){var e=Xa(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){is(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=cc(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new ho(pc(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return ks(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=lc(n.startAt));var l=null;return n.endAt&&(l=lc(n.endAt)),yo(e,i,a,o,c,"F",u,l)}function cc(t){return t?void 0!==t.unaryFilter?[gc(t)]:void 0!==t.fieldFilter?[mc(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return cc(t)}).reduce(function(t,e){return t.concat(e)}):rs():[]}function uc(t){return{before:t.before,values:t.position}}function lc(t){return new uo(t.values||[],!!t.before)}function hc(t){return Ba[t]}function dc(t){return Ha[t]}function fc(t){return{fieldPath:t.canonicalString()}}function pc(t){return vs.fromServerFormat(t.fieldPath)}function mc(t){return to.create(pc(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return rs()}}(t.fieldFilter.op),t.fieldFilter.value)}function gc(t){switch(t.unaryFilter.op){case"IS_NAN":var e=pc(t.unaryFilter.field);return to.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=pc(t.unaryFilter.field);return to.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=pc(t.unaryFilter.field);return to.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=pc(t.unaryFilter.field);return to.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return rs()}}function yc(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function bc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function vc(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=wc(e)),e=_c(t.get(n),e);return wc(e)}function _c(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function wc(t){return t+"\x01\x01"}function Ec(t){var e=t.length;if(is(e>=2),2===e)return is("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ys.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&rs(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:rs()}s=o+2}return new ys(r)}var Sc=function(t,e){this.seconds=t,this.nanoseconds=e},Cc=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Cc.store="owner",Cc.key="owner";var Oc=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Oc.store="mutationQueues",Oc.keyPath="userId";var Ic=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ic.store="mutations",Ic.keyPath="batchId",Ic.userMutationsIndex="userMutationsIndex",Ic.userMutationsKeyPath=["userId","batchId"];var xc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,vc(e)]},t.key=function(t,e,n){return[t,vc(e),n]},t}();xc.store="documentMutations",xc.PLACEHOLDER=new xc;var Tc=function(t,e){this.path=t,this.readTime=e},kc=function(t,e){this.path=t,this.version=e},Ac=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Ac.store="remoteDocuments",Ac.readTimeIndex="readTimeIndex",Ac.readTimeIndexPath="readTime",Ac.collectionReadTimeIndex="collectionReadTimeIndex",Ac.collectionReadTimeIndexPath=["parentPath","readTime"];var Dc=function(t){this.byteSize=t};Dc.store="remoteDocumentGlobal",Dc.key="remoteDocumentGlobalKey";var Nc=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Nc.store="targets",Nc.keyPath="targetId",Nc.queryTargetsIndexName="queryTargetsIndex",Nc.queryTargetsKeyPath=["canonicalId","targetId"];var jc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};jc.store="targetDocuments",jc.keyPath=["targetId","path"],jc.documentTargetsIndex="documentTargetsIndex",jc.documentTargetsKeyPath=["path","targetId"];var Rc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Rc.key="targetGlobalKey",Rc.store="targetGlobal";var Pc=function(t,e){this.collectionId=t,this.parent=e};Pc.store="collectionParents",Pc.keyPath=["collectionId","parent"];var Mc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Mc.store="clientMetadata",Mc.keyPath="clientId";var Fc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Fc.store="bundles",Fc.keyPath="bundleId";var Lc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Lc.store="namedQueries",Lc.keyPath="name";var Vc=Object(Gi.f)(Object(Gi.f)([],Object(Gi.f)(Object(Gi.f)([],Object(Gi.f)(Object(Gi.f)([],Object(Gi.f)(Object(Gi.f)([],[Oc.store,Ic.store,xc.store,Ac.store,Nc.store,Cc.store,Rc.store,jc.store]),[Mc.store])),[Dc.store])),[Pc.store])),[Fc.store,Lc.store]),Bc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hc=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),qc=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Uc=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&rs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),zc=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new qc,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Gc(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Xc(e.target.error);n.ft.reject(new Gc(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Gc(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Ji("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new $c(e)},t}(),Kc=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(Ut.h)())&&ts("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ji("SimpleDb","Removing database:",t),Yc(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(Ut.h)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Gi.b)(this,void 0,void 0,function(){var e,n=this;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Ji("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Gc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Yi($i.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Gc(t,n))},i.onupgradeneeded=function(t){Ji("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Ji("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Gi.b)(this,void 0,void 0,function(){var i,s,o,a,c;return Object(Gi.d)(this,function(u){switch(u.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,c,u,l;return Object(Gi.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=zc.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Uc.reject(t)}).toPromise(),c={},o.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return Ji("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}})},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Wc=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Yc(this.Pt.delete())},t}(),Gc=function(t){function e(e,n){var r=this;return(r=t.call(this,$i.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Gi.c)(e,t),e}(Yi);function Qc(t){return"IndexedDbTransactionError"===t.name}var $c=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ji("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ji("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Yc(n)},t.prototype.add=function(t){return Ji("SimpleDb","ADD",this.store.name,t,t),Yc(this.store.add(t))},t.prototype.get=function(t){var e=this;return Yc(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Ji("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Ji("SimpleDb","DELETE",this.store.name,t),Yc(this.store.delete(t))},t.prototype.count=function(){return Ji("SimpleDb","COUNT",this.store.name),Yc(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Ji("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Uc(function(n,r){e.onerror=function(t){var e=Xc(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Uc(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Wc(i),o=e(i.primaryKey,i.value,s);if(o instanceof Uc){var a=o.catch(function(t){return s.done(),Uc.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return Uc.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Yc(t){return new Uc(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Xc(t.target.error);n(e)}})}var Zc=!1;function Xc(t){var e=Kc._t(Object(Ut.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Yi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Zc||(Zc=!0,setTimeout(function(){throw r},0)),r}}return t}var Jc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Gi.c)(e,t),e}(Hc);function tu(t,e){var n=ss(t);return Kc.It(n.Mt,e)}var eu=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Jo(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&ta(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&ta(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ds.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ta())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&us(this.mutations,t.mutations,function(t,e){return na(t,e)})&&us(this.baseMutations,t.baseMutations,function(t,e){return na(t,e)})},t}(),nu=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){is(e.mutations.length===r.length);for(var i=Ia(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),ru=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=ds.min()),void 0===s&&(s=ds.min()),void 0===o&&(o=ws.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),iu=function(t){this.Lt=t};function su(t,e){if(e.document)return nc(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ns.fromSegments(e.noDocument.path),r=lu(e.noDocument.readTime),i=Qs.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=Ns.fromSegments(e.unknownDocument.path);return r=lu(e.unknownDocument.version),Qs.newUnknownDocument(s,r)}return rs()}function ou(t,e,n){var r=au(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:$a(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:Ua(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new Ac(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=uu(e.version);return o=e.hasCommittedMutations,new Ac(null,new Tc(a,c),null,o,r,i)}if(e.isUnknownDocument()){var u=e.key.path.toArray(),l=uu(e.version);return new Ac(new kc(u,l),null,null,!0,r,i)}return rs()}function au(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function cu(t){var e=new hs(t[0],t[1]);return ds.fromTimestamp(e)}function uu(t){var e=t.toTimestamp();return new Sc(e.seconds,e.nanoseconds)}function lu(t){var e=new hs(t.seconds,t.nanoseconds);return ds.fromTimestamp(e)}function hu(t,e){for(var n=(e.baseMutations||[]).map(function(e){return ic(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return ic(t.Lt,e)}),s=hs.fromMillis(e.localWriteTimeMs);return new eu(e.batchId,s,n,i)}function du(t){var e,n,r=lu(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?lu(t.lastLimboFreeSnapshotVersion):ds.min();return void 0!==t.query.documents?(is(1===(n=t.query).documents.length),e=Oo(bo(Xa(n.documents[0])))):e=function(t){return Oo(ac(t))}(t.query),new ru(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ws.fromBase64String(t.resumeToken))}function fu(t,e){var n,r=uu(e.snapshotVersion),i=uu(e.lastLimboFreeSnapshotVersion);n=Js(e.target)?sc(t.Lt,e.target):oc(t.Lt,e.target);var s=e.resumeToken.toBase64();return new Nc(e.targetId,Zs(e.target),r,s,e.sequenceNumber,i,n)}function pu(t){var e=ac({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Io(e,e.limit,"L"):e}var mu=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return gu(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:lu(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return gu(t).put({bundleId:(n=e).id,createTime:uu(Wa(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return yu(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:pu(e.bundledQuery),readTime:lu(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return yu(t).put(function(t){return{name:t.name,readTime:uu(Wa(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function gu(t){return tu(t,Fc.store)}function yu(t){return tu(t,Lc.store)}var bu=function(){function t(){this.Bt=new vu}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Uc.resolve()},t.prototype.getCollectionParents=function(t,e){return Uc.resolve(this.Bt.getEntries(e))},t}(),vu=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new va(ys.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new va(ys.comparator)).toArray()},t}(),_u=function(){function t(){this.qt=new vu}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:vc(i)};return wu(t).put(s)}return Uc.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ls(e),""],!1,!0);return wu(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Ec(s.parent))}return n})},t}();function wu(t){return tu(t,Pc.store)}var Eu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Su=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Cu(t,e,n){var r=t.store(Ic.store),i=t.store(xc.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.Ot({range:o},function(t,e,n){return a++,n.delete()});s.push(c.next(function(){is(1===a)}));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=xc.key(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return Uc.waitFor(s).next(function(){return u})}function Ou(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw rs();e=t.noDocument}return JSON.stringify(e).length}Su.DEFAULT_COLLECTION_PERCENTILE=10,Su.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Su.DEFAULT=new Su(41943040,Su.DEFAULT_COLLECTION_PERCENTILE,Su.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Su.DISABLED=new Su(-1,0,0);var Iu=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return is(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tu(t).Ot({index:Ic.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=ku(t),o=Tu(t);return o.add({}).next(function(a){is("number"==typeof a);for(var c=new eu(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map(function(e){return rc(t.Lt,e)}),i=n.mutations.map(function(e){return rc(t.Lt,e)});return new Ic(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,c),l=[],h=new va(function(t,e){return cs(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=xc.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(u)),l.push(s.put(m,xc.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=c.keys()}),Uc.waitFor(l).next(function(){return c})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Tu(t).get(e).next(function(t){return t?(is(t.userId===n.userId),hu(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Uc.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Tu(t).Ot({index:Ic.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(is(e.batchId>=r),s=hu(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Tu(t).Ot({index:Ic.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tu(t).Nt(Ic.userMutationsIndex,n).next(function(t){return t.map(function(t){return hu(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=xc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return ku(t).Ot({range:i},function(r,i,o){var a=r[0],c=r[2],u=Ec(r[1]);if(a===n.userId&&e.path.isEqual(u))return Tu(t).get(c).next(function(t){if(!t)throw rs();is(t.userId===n.userId),s.push(hu(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new va(cs),i=[];return e.forEach(function(e){var s=xc.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=ku(t).Ot({range:o},function(t,i,s){var o=t[0],a=t[2],c=Ec(t[1]);o===n.userId&&e.path.isEqual(c)?r=r.add(a):s.done()});i.push(a)}),Uc.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=xc.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new va(cs);return ku(t).Ot({range:o},function(t,e,s){var o=t[0],c=t[2],u=Ec(t[1]);o===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(c)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Tu(t).get(e).next(function(t){if(null===t)throw rs();is(t.userId===n.userId),r.push(hu(n.R,t))}))}),Uc.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Cu(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Uc.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Uc.resolve();var r=IDBKeyRange.lowerBound(xc.prefixForUser(e.userId)),i=[];return ku(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var s=Ec(t[1]);i.push(s)}else r.done()}).next(function(){is(0===i.length)})})},t.prototype.containsKey=function(t,e){return xu(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Au(t).get(this.userId).next(function(t){return t||new Oc(e.userId,-1,"")})},t}();function xu(t,e,n){var r=xc.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return ku(t).Ot({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Tu(t){return tu(t,Ic.store)}function ku(t){return tu(t,xc.store)}function Au(t){return tu(t,Oc.store)}var Du=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Nu=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Du(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return ds.fromTimestamp(new hs(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return ju(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return is(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return ju(t).Ot(function(o,a){var c=du(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,s.push(r.removeTargetData(t,c)))}).next(function(){return Uc.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return ju(t).Ot(function(t,n){var r=du(n);e(r)})},t.prototype.Xt=function(t){return Ru(t).get(Rc.key).next(function(t){return is(null!==t),t})},t.prototype.Zt=function(t,e){return Ru(t).put(Rc.key,e)},t.prototype.te=function(t,e){return ju(t).put(fu(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Zs(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ju(t).Ot({range:r,index:Nc.queryTargetsIndexName},function(t,n,r){var s=du(n);Xs(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=Pu(t);return e.forEach(function(e){var o=vc(e.path);i.push(s.put(new jc(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),Uc.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Pu(t);return Uc.forEach(e,function(e){var s=vc(e.path);return Uc.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Pu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Pu(t),i=Ta();return r.Ot({range:n,kt:!0},function(t,e,n){var r=Ec(t[1]),s=new Ns(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=vc(e.path),r=IDBKeyRange.bound([n],[ls(n)],!1,!0),i=0;return Pu(t).Ot({index:jc.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return ju(t).get(e).next(function(t){return t?du(t):null})},t}();function ju(t){return tu(t,Nc.store)}function Ru(t){return tu(t,Rc.store)}function Pu(t){return tu(t,jc.store)}function Mu(t){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(e){if(t.code!==$i.FAILED_PRECONDITION||t.message!==Bc)throw t;return Ji("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Fu(t,e){var n=t[1],r=e[1],i=cs(t[0],e[0]);return 0===i?cs(n,r):i}var Lu=function(){function t(t){this.ne=t,this.buffer=new va(Fu),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Fu(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Vu=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Ji("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Gi.b)(e,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Qc(e=n.sent())?(Ji("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Mu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Bu=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Uc.resolve(Qi.o);var r=new Lu(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ji("LruGarbageCollector","Garbage collection skipped; disabled"),Uc.resolve(Eu)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Ji("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Eu):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,c,u=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>u.params.maximumSequenceNumbersToCollect?(Ji("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),u.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),u.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),u.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),Xi()<=zt.a.DEBUG&&Ji("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),Uc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Hu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Bu(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return qu(t,n)},t.prototype.removeReference=function(t,e,n){return qu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return qu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Au(t).$t(function(r){return xu(t,r,e).next(function(t){return t&&(n=!0),Uc.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var c=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),Pu(t).delete([0,vc(o.path)])})});i.push(c)}}).next(function(){return Uc.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return qu(t,e)},t.prototype.we=function(t,e){var n,r=Pu(t),i=Qi.o;return r.Ot({index:jc.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Qi.o&&e(new Ns(Ec(n)),i),i=o,n=s):i=Qi.o}).next(function(){i!==Qi.o&&e(new Ns(Ec(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function qu(t,e){return Pu(t).put(function(t,e){return new jc(0,vc(t.path),e)}(e,t.currentSequenceNumber))}var Uu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ps(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return ms(this.inner)},t}(),zu=function(){function t(){this.changes=new Uu(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:ds.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Qs.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Uc.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Ku=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Qu(t).put($u(e),n)},t.prototype.removeEntry=function(t,e){var n=Qu(t),r=$u(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Qu(t).get($u(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Qu(t).get($u(e)).next(function(t){return{document:n.ye(e,t),size:Ou(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Ea();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Ea(),i=new ga(Ns.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,Ou(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Uc.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Qu(t).Ot({range:r},function(t,e,r){for(var o=Ns.fromSegments(t);s&&Ns.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Ea(),s=e.path.length+1,o={};if(n.isEqual(ds.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),u=au(n);o.range=IDBKeyRange.lowerBound([c,u],!0),o.index=Ac.collectionReadTimeIndex}return Qu(t).Ot(o,function(t,n,o){if(t.length===s){var a=su(r.R,n);e.path.isPrefixOf(a.key.path)?Ao(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Wu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Gu(t).get(Dc.key).next(function(t){return is(!!t),t})},t.prototype.me=function(t,e){return Gu(t).put(Dc.key,e)},t.prototype.ye=function(t,e){if(e){var n=su(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(ds.min()))return n}return Qs.newInvalidDocument(t)},t}(),Wu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Uu(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Gi.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new va(function(t,e){return cs(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var c=ou(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var u=Ou(c);r+=u-a,n.push(e.Ie.addEntry(t,s,c))}else if(r-=a,e.trackRemovals){var l=ou(e.Ie.R,Qs.newNoDocument(s,ds.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Uc.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(zu);function Gu(t){return tu(t,Dc.store)}function Qu(t){return tu(t,Ac.store)}function $u(t){return t.path.toArray()}var Yu=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;is(n<r&&n>=0&&r<=11);var s=new zc("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Cc.store)}(t),function(t){t.createObjectStore(Oc.store,{keyPath:Oc.keyPath}),t.createObjectStore(Ic.store,{keyPath:Ic.keyPath,autoIncrement:!0}).createIndex(Ic.userMutationsIndex,Ic.userMutationsKeyPath,{unique:!0}),t.createObjectStore(xc.store)}(t),Zu(t),function(t){t.createObjectStore(Ac.store)}(t));var o=Uc.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(jc.store),t.deleteObjectStore(Nc.store),t.deleteObjectStore(Rc.store)}(t),Zu(t)),o=o.next(function(){return function(t){var e=t.store(Rc.store),n=new Rc(0,0,ds.min().toTimestamp(),0);return e.put(Rc.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Ic.store).Nt().next(function(n){t.deleteObjectStore(Ic.store),t.createObjectStore(Ic.store,{keyPath:Ic.keyPath,autoIncrement:!0}).createIndex(Ic.userMutationsIndex,Ic.userMutationsKeyPath,{unique:!0});var r=e.store(Ic.store),i=n.map(function(t){return r.put(t)});return Uc.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Mc.store,{keyPath:Mc.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Dc.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ac.store);e.createIndex(Ac.readTimeIndex,Ac.readTimeIndexPath,{unique:!1}),e.createIndex(Ac.collectionReadTimeIndex,Ac.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Fc.store,{keyPath:Fc.keyPath})}(t),function(t){t.createObjectStore(Lc.store,{keyPath:Lc.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(Ac.store).Ot(function(t,n){e+=Ou(n)}).next(function(){var n=new Dc(e);return t.store(Dc.store).put(Dc.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Oc.store),r=t.store(Ic.store);return n.Nt().next(function(n){return Uc.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Ic.userMutationsIndex,i).next(function(r){return Uc.forEach(r,function(r){is(r.userId===n.userId);var i=hu(e.R,r);return Cu(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(jc.store),n=t.store(Ac.store);return t.store(Rc.store).get(Rc.key).next(function(t){var r=[];return n.Ot(function(n,i){var s=new ys(n),o=function(t){return[0,vc(t)]}(s);r.push(e.get(o).next(function(n){return n?Uc.resolve():function(n){return e.put(new jc(0,vc(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Uc.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Pc.store,{keyPath:Pc.keyPath});var n=e.store(Pc.store),r=new vu,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:vc(i)})}};return e.store(Ac.store).Ot({kt:!0},function(t,e){var n=new ys(t);return i(n.popLast())}).next(function(){return e.store(xc.store).Ot({kt:!0},function(t,e){var n=Ec(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Nc.store);return n.Ot(function(t,r){var i=du(r),s=fu(e.R,i);return n.put(s)})},t}();function Zu(t){t.createObjectStore(jc.store,{keyPath:jc.keyPath}).createIndex(jc.documentTargetsIndex,jc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Nc.store,{keyPath:Nc.keyPath}).createIndex(Nc.queryTargetsIndexName,Nc.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Rc.store)}var Xu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ju=function(){function t(e,n,r,i,s,o,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=u,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Yi($i.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hu(this,i),this.Le=n+"main",this.R=new iu(c),this.Be=new Kc(this.Le,11,new Yu(this.R)),this.qe=new Nu(this.referenceDelegate,this.R),this.Ut=new _u,this.Ue=function(t,e){return new Ku(t,e)}(this.R,this.Ut),this.Qe=new mu,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&ts("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Yi($i.FAILED_PRECONDITION,Xu);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Qi(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Gi.b)(e,void 0,void 0,function(){return Object(Gi.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Gi.b)(e,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Gi.b)(e,void 0,void 0,function(){return Object(Gi.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return el(e).put(new Mc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Qc(e))return Ji("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ji("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return tl(t).get(Cc.key).next(function(t){return Uc.resolve(e.tn(t))})},t.prototype.en=function(t){return el(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=tu(t,Mc.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Uc.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Uc.resolve(!0):tl(t).get(Cc.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Yi($i.FAILED_PRECONDITION,Xu);return!1}}return!(!e.networkEnabled||!e.inForeground)||el(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Ji("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t=this;return Object(Gi.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Cc.store,Mc.store],function(e){var n=new Jc(e,Qi.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return el(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Iu.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ji("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Vc,function(s){return r=new Jc(s,i.Ne?i.Ne.next():Qi.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw ts("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Yi($i.FAILED_PRECONDITION,Bc);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return tl(t).get(Cc.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Yi($i.FAILED_PRECONDITION,Xu)})},t.prototype.Ze=function(t){var e=new Cc(this.clientId,this.allowTabSynchronization,Date.now());return tl(t).put(Cc.key,e)},t.yt=function(){return Kc.yt()},t.prototype.Xe=function(t){var e=this,n=tl(t);return n.get(Cc.key).next(function(t){return e.tn(t)?(Ji("IndexedDbPersistence","Releasing primary lease."),n.delete(Cc.key)):Uc.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ts("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Ji("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ts("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){ts("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function tl(t){return tu(t,Cc.store)}function el(t){return tu(t,Mc.store)}function nl(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var rl=function(t,e){this.progress=t,this.wn=e},il=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Ns.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):So(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Ns(e)).next(function(t){var e=Ca();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=Ca();return this.Ut.getCollectionParents(t,i).next(function(o){return Uc.forEach(o,function(o){var a=function(t,e){return new go(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],u=c.key,l=r.get(u);null==l&&(l=Qs.newInvalidDocument(u),r=r.insert(u,l)),ta(c,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(u))}})}).next(function(){return r.forEach(function(t,n){Ao(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Ta(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var c=a[o];c instanceof sa&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))}),u})},t}(),sl=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Ta(),i=Ta(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ol=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(ds.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(vo(e)||_o(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(Xi()<=zt.a.DEBUG&&Ji("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ko(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new va(Do(t));return e.forEach(function(e,r){Ao(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Xi()<=zt.a.DEBUG&&Ji("QueryEngine","Using full collection scan to execute query:",ko(e)),this.Sn.getDocumentsMatchingQuery(t,e,ds.min())},t}(),al=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new ga(cs),this.kn=new Uu(function(t){return Zs(t)},Xs),this.On=ds.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new il(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function cl(t,e,n,r){return new al(t,e,n,r)}function ul(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Gi.d)(this,function(o){switch(o.label){case 0:return n=ss(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new il(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=Ta(),a=0,c=s;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function ll(t,e){var n=ss(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Uc.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);is(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function hl(t){var e=ss(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function dl(t,e){var n=ss(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var c=e.resumeToken;if(c.approximateByteSize()>0){var u=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,u),function(t,e,n){return is(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,e)&&o.push(n.qe.updateTargetData(t,u))}}});var a=Ea();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(fl(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(ds.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(c)}return Uc.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function fl(t,e,n,r,i){var s=Ta();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Ea();return n.forEach(function(n,o){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(ds.min())?(e.removeEntry(n,c),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,c),s=s.insert(n,o)):Ji("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function pl(t,e){var n=ss(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function ml(t,e){var n=ss(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Uc.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new ru(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function gl(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Gi.d)(this,function(a){switch(a.label){case 0:r=ss(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Qc(o=a.sent()))throw o;return Ji("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function yl(t,e,n){var r=ss(t),i=ds.min(),s=Ta();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=ss(t),i=r.kn.get(n);return void 0!==i?Uc.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Oo(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:ds.min(),n?s:Ta())}).next(function(t){return{documents:t,Bn:s}})})}function bl(t,e){var n=ss(t),r=ss(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function vl(t){var e=ss(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=ss(t),i=Ea(),s=au(n),o=Qu(e),a=IDBKeyRange.lowerBound(s,!0);return o.Ot({index:Ac.readTimeIndex,range:a},function(t,e){var n=su(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:cu(s)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function _l(t){return Object(Gi.b)(this,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){return[2,(e=ss(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Qu(t),n=ds.min();return e.Ot({index:Ac.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=cu(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function wl(t,e,n,r){return Object(Gi.b)(this,void 0,void 0,function(){var i,s,o,a,c,u,l,h,d,f;return Object(Gi.d)(this,function(p){switch(p.label){case 0:for(i=ss(t),s=Ta(),o=Ea(),a=Ia(),c=0,u=n;c<u.length;c++)h=e.qn((l=u[c]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,ml(i,function(t){return Oo(bo(ys.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return fl(t,d,o,ds.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function El(t,e,n){return void 0===n&&(n=Ta()),Object(Gi.b)(this,void 0,void 0,function(){var r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return[4,ml(t,Oo(pu(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=ss(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Wa(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(ws.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var Sl=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Uc.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Wa(n.createTime)}),Uc.resolve()},t.prototype.getNamedQuery=function(t,e){return Uc.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:pu(t.bundledQuery),readTime:Wa(t.readTime)}}(e)),Uc.resolve()},t}(),Cl=function(){function t(){this.Wn=new va(Ol.Gn),this.zn=new va(Ol.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Ol(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Ol(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Ns(new ys([])),r=new Ol(n,t),i=new Ol(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Ns(new ys([])),n=new Ol(e,t),r=new Ol(e,t+1),i=Ta();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Ol(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Ol=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Ns.comparator(t.key,e.key)||cs(t.ns,e.ns)},t.Hn=function(t,e){return cs(t.ns,e.ns)||Ns.comparator(t.key,e.key)},t}(),Il=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new va(Ol.Gn)}return t.prototype.checkEmpty=function(t){return Uc.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new eu(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var c=a[o];this.rs=this.rs.add(new Ol(c.key,i)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return Uc.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return Uc.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Uc.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Uc.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Uc.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Ol(e,0),i=new Ol(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),Uc.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new va(cs);return e.forEach(function(t){var e=new Ol(t,0),i=new Ol(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Uc.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Ns.isDocumentKey(i)||(i=i.child(""));var s=new Ol(new Ns(i),0),o=new va(cs);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),Uc.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;is(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Uc.forEach(e.mutations,function(i){var s=new Ol(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Ol(e,0),r=this.rs.firstAfterOrEqual(n);return Uc.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Uc.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),xl=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ga(Ns.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Uc.resolve(n?n.document.clone():Qs.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Ea();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Qs.newInvalidDocument(t))}),Uc.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Ea(),i=new Ns(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,c=a.document,u=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;u.compareTo(n)<=0||Ao(e,c)&&(r=r.insert(c.key,c.clone()))}return Uc.resolve(r)},t.prototype.fs=function(t,e){return Uc.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Tl(this)},t.prototype.getSize=function(t){return Uc.resolve(this.size)},t}(),Tl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Gi.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Uc.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(zu),kl=function(){function t(t){this.persistence=t,this.ds=new Uu(function(t){return Zs(t)},Xs),this.lastRemoteSnapshotVersion=ds.min(),this.highestTargetId=0,this.ws=0,this._s=new Cl,this.targetCount=0,this.ys=Du.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Uc.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Uc.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Uc.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Uc.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Uc.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Du(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Uc.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Uc.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Uc.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Uc.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return Uc.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Uc.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Uc.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Uc.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Uc.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Uc.resolve(n)},t.prototype.containsKey=function(t,e){return Uc.resolve(this._s.containsKey(e))},t}(),Al=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Qi(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new kl(this),this.Ut=new bu,this.Ue=function(t,e){return new xl(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new iu(e),this.Qe=new Sl(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Il(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Ji("MemoryPersistence","Starting transaction:",t);var i=new Dl(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Uc.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Dl=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Gi.c)(e,t),e}(Hc),Nl=function(){function t(t){this.persistence=t,this.As=new Cl,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw rs()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Uc.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Uc.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Uc.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Uc.forEach(this.vs,function(r){var i=Ns.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Uc.or([function(){return Uc.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),jl=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Rl(t,e){return"firestore_clients_"+t+"_"+e}function Pl(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Ml(t,e){return"firestore_targets_"+t+"_"+e}jl.UNAUTHENTICATED=new jl(null),jl.GOOGLE_CREDENTIALS=new jl("google-credentials-uid"),jl.FIRST_PARTY=new jl("first-party-uid");var Fl=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Yi(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(ts("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ll=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Yi(i.error.code,i.error.message)),s?new t(e,i.state,r):(ts("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vl=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Aa(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ds(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(ts("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Bl=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ts("SharedClientState","Failed to parse online state: "+e),null)},t}(),Hl=function(){function t(){this.activeTargetIds=Aa()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ql=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ga(cs),this.started=!1,this.Os=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Rl(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Hl),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,c,u,l=this;return Object(Gi.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Rl(this.persistenceKey,r)))&&(s=Vl.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),c=0,u=this.Os;c<u.length;c++)this.Fs(u[c]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Ml(this.persistenceKey,t));if(n){var r=Ll.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Ml(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ji("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ji("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ji("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ji("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void ts("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Gi.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Gi.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=Qi.o;if(null!=t)try{var n=JSON.parse(t);is("number"==typeof n),e=n}catch(t){ts("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Qi.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Fl(this.currentUser,t,e,n),i=Pl(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Pl(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Ml(this.persistenceKey,t),i=new Ll(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Vl.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Fl.Vs(new jl(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Ll.Vs(r,e)},t.prototype.js=function(t){return Bl.Vs(t)},t.prototype.ii=function(t){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Ji("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Aa();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Ul=function(){function t(){this.li=new Hl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Hl,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),zl=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Kl=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Ji("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Ji("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Wl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Gl=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Ql=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Gi.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new Wi;o.listenOnce(Ui.COMPLETE,function(){try{switch(o.getLastErrorCode()){case qi.NO_ERROR:var e=o.getResponseJson();Ji("Connection","XHR received:",JSON.stringify(e)),i(e);break;case qi.TIMEOUT:Ji("Connection",'RPC "'+t+'" timed out'),s(new Yi($i.DEADLINE_EXCEEDED,"Request time out"));break;case qi.HTTP_ERROR:var n=o.getStatus();if(Ji("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values($i).indexOf(e)>=0?e:$i.UNKNOWN}(r.status);s(new Yi(a,r.message))}else s(new Yi($i.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Yi($i.UNAVAILABLE,"Connection failed."));break;default:rs()}}finally{Ji("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Fi,i=Bn(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Object(Ut.m)()||Object(Ut.o)()||Object(Ut.k)()||Object(Ut.l)()||Object(Ut.p)()||Object(Ut.j)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Ji("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),c=!1,u=!1,l=new Gl({Ei:function(t){u?Ji("Connection","Not sending because WebChannel is closed:",t):(c||(Ji("Connection","Opening WebChannel transport."),a.open(),c=!0),Ji("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Ki.EventType.OPEN,function(){u||Ji("Connection","WebChannel transport opened.")}),h(a,Ki.EventType.CLOSE,function(){u||(u=!0,Ji("Connection","WebChannel transport closed"),l.Vi())}),h(a,Ki.EventType.ERROR,function(t){u||(u=!0,es("Connection","WebChannel transport errored:",t),l.Vi(new Yi($i.UNAVAILABLE,"The operation could not be completed")))}),h(a,Ki.EventType.MESSAGE,function(t){var e;if(!u){var n=t.data[0];is(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ji("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=ua[t];if(void 0!==e)return ma(e)}(i),o=r.message;void 0===s&&(s=$i.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),u=!0,l.Vi(new Yi(s,o)),a.close()}else Ji("Connection","WebChannel received:",n),l.Si(n)}}),h(i,zi.STAT_EVENT,function(t){10===t.stat?Ji("Connection","Detected buffering proxy"):11===t.stat&&Ji("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Ji("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return Ji("RestConnection","Received: ",t),t},function(e){throw es("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.0",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Wl[t]},t}());function $l(){return"undefined"!=typeof window?window:null}function Yl(){return"undefined"!=typeof document?document:null}function Zl(t){return new qa(t,!0)}var Xl=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Ji("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Jl=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Xl(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===$i.RESOURCE_EXHAUSTED?(ts(e.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===$i.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Yi($i.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Gi.b)(t,void 0,void 0,function(){return Object(Gi.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Ji("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Ji("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),th=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(Gi.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:rs()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(is(void 0===e||"string"==typeof e),ws.fromBase64String(e||"")):(is(void 0===e||e instanceof Uint8Array),ws.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?$i.UNKNOWN:ma(t.code);return new Yi(e,t.message||"")}(a);n=new Pa(r,i,s,o||null)}else if("documentChange"in e){i=Ya(t,(r=e.documentChange).document.name),s=Wa(r.document.updateTime);var a=new Ws({mapValue:{fields:r.document.fields}}),c=(o=Qs.newFoundDocument(i,s,a),r.targetIds||[]);n=new ja(c,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Ya(t,(r=e.documentDelete).document),s=r.readTime?Wa(r.readTime):ds.min(),a=Qs.newNoDocument(i,s),n=new ja([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Ya(t,(r=e.documentRemove).document),n=new ja([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return rs();var u=e.filter;i=new fa(r=u.count||0),n=new Ra(s=u.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return ds.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ds.min():e.readTime?Wa(e.readTime):ds.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Ja(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Js(r)?{documents:sc(t,r)}:{query:oc(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=za(t,e.resumeToken):e.snapshotVersion.compareTo(ds.min())>0&&(n.readTime=Ua(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rs()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Ja(this.R),e.removeTarget=t,this.cr(e)},e}(Jl),eh=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(Gi.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(is(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(is(void 0!==e),t.map(function(t){return function(t,e){var n=Wa(t.updateTime?t.updateTime:e);return n.isEqual(ds.min())&&(n=Wa(e)),new $o(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Wa(t.commitTime);return this.listener.Tr(n,e)}return is(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Ja(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return rc(e.R,t)})};this.cr(n)},e}(Jl),nh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Gi.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Yi($i.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw t.code===$i.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw t.code===$i.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Rr=!1},e}(function(){}),rh=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(ts(e),this.Vr=!1):Ji("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),ih=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Gi.b)(s,void 0,void 0,function(){return Object(Gi.d)(this,function(t){switch(t.label){case 0:return fh(this)?(Ji("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Gi.b)(this,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return(e=ss(t)).$r.add(4),[4,oh(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,sh(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new rh(n,r)};function sh(t){return Object(Gi.b)(this,void 0,void 0,function(){var e,n;return Object(Gi.d)(this,function(r){switch(r.label){case 0:if(!fh(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function oh(t){return Object(Gi.b)(this,void 0,void 0,function(){var e,n;return Object(Gi.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ah(t,e){var n=ss(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),dh(n)?hh(n):Th(n).er()&&uh(n,e))}function ch(t,e){var n=ss(t),r=Th(n);n.Or.delete(e),r.er()&&lh(n,e),0===n.Or.size&&(r.er()?r.ir():fh(n)&&n.Br.set("Unknown"))}function uh(t,e){t.qr.U(e.targetId),Th(t).mr(e)}function lh(t,e){t.qr.U(e),Th(t).yr(e)}function hh(t){t.qr=new Fa({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Th(t).start(),t.Br.Sr()}function dh(t){return fh(t)&&!Th(t).tr()&&t.Or.size>0}function fh(t){return 0===ss(t).$r.size}function ph(t){t.qr=void 0}function mh(t){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(e){return t.Or.forEach(function(e,n){uh(t,e)}),[2]})})}function gh(t,e){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(n){return ph(t),dh(t)?(t.Br.Nr(e),hh(t)):t.Br.set("Unknown"),[2]})})}function yh(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i,s;return Object(Gi.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof Pa&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Gi.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Or.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Or.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Ji("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,bh(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ja?t.qr.X(e):e instanceof Ra?t.qr.rt(e):t.qr.et(e),n.isEqual(ds.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,hl(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(ws.EMPTY_BYTE_STRING,n.snapshotVersion)),lh(t,e);var r=new ru(n.target,e,1,n.sequenceNumber);uh(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Ji("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,bh(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function bh(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r=this;return Object(Gi.d)(this,function(i){switch(i.label){case 0:if(!Qc(e))throw e;return t.$r.add(1),[4,oh(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return hl(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Gi.b)(r,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return Ji("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,sh(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function vh(t,e){return e().catch(function(n){return bh(t,n,e)})}function _h(t){return Object(Gi.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Gi.d)(this,function(o){switch(o.label){case 0:e=ss(t),n=kh(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return fh(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,pl(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=kh(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,bh(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return wh(e)&&Eh(e),[2]}})})}function wh(t){return fh(t)&&!kh(t).tr()&&t.kr.length>0}function Eh(t){kh(t).start()}function Sh(t){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(e){return kh(t).Ar(),[2]})})}function Ch(t){return Object(Gi.b)(this,void 0,void 0,function(){var e,n,r;return Object(Gi.d)(this,function(i){for(e=kh(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Oh(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=nu.from(r,e,n),[4,vh(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,_h(t)];case 2:return s.sent(),[2]}})})}function Ih(t,e){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(n){switch(n.label){case 0:return e&&kh(t).pr?[4,function(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return pa(r=e.code)&&r!==$i.ABORTED?(n=t.kr.shift(),kh(t).sr(),[4,vh(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,_h(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return wh(t)&&Eh(t),[2]}})})}function xh(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return n=ss(t),e?(n.$r.delete(2),[4,sh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,oh(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Th(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=ss(t);return r.br(),new th(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:mh.bind(null,t),Ri:gh.bind(null,t),_r:yh.bind(null,t)}),t.Mr.push(function(n){return Object(Gi.b)(e,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),dh(t)?hh(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),ph(t),e.label=3;case 3:return[2]}})})})),t.Ur}function kh(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=ss(t);return r.br(),new eh(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Sh.bind(null,t),Ri:Ih.bind(null,t),Ir:Ch.bind(null,t),Tr:Oh.bind(null,t)}),t.Mr.push(function(n){return Object(Gi.b)(e,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,_h(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Ji("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Ah=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new qc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Yi($i.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Dh(t,e){if(ts("AsyncQueue",e+": "+t),Qc(t))return new Yi($i.UNAVAILABLE,e+": "+t);throw t}var Nh=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Ns.comparator(e.key,n.key)}:function(t,e){return Ns.comparator(t.key,e.key)},this.keyedMap=Ca(),this.sortedSet=new ga(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),jh=function(){function t(){this.Kr=new ga(Ns.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):rs():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Rh=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Nh.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ph=function(){this.Wr=void 0,this.listeners=[]},Mh=function(){this.queries=new Uu(function(t){return To(t)},xo),this.onlineState="Unknown",this.Gr=new Set};function Fh(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Gi.d)(this,function(u){switch(u.label){case 0:if(n=ss(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Ph),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=u.sent(),[3,4];case 3:return a=u.sent(),c=Dh(a,"Initialization of query '"+ko(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&Hh(n),[2]}})})}function Lh(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Gi.d)(this,function(a){return n=ss(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Vh(t,e){for(var n=ss(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hr(o)&&(r=!0);a.Wr=o}}r&&Hh(n)}function Bh(t,e,n){var r=ss(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Hh(t){t.Gr.forEach(function(t){t.next()})}var qh=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Rh(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Rh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Uh=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),zh=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Ya(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?nc(this.R,t.document,!1):Qs.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Wa(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new zh(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,c=s.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||Ta()).add(o);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return[4,wl(this.localStore,new zh(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,El(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new rl(Object.assign({},this.progress),t))]}})})}}();var Kh=function(t){this.key=t},Wh=function(t){this.key=t},Gh=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Ta(),this.mutatedKeys=Ta(),this.lo=Do(t),this.fo=new Nh(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new jh,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=vo(this.query)&&i.size===this.query.limit?i.last():null,u=_o(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Ao(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.lo(h,c)>0||u&&n.lo(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),vo(this.query)||_o(this.query))for(;o.size>this.query.limit;){var l=vo(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rs()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.ao;return this.ao=a,0!==s.length||c?{snapshot:new Rh(this.query,t.fo,i,s,t.mutatedKeys,0===a,c,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new jh,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Ta(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Wh(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Kh(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ta();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Rh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Qh=function(t,e,n){this.query=t,this.targetId=e,this.view=n},$h=function(t){this.key=t,this.bo=!1},Yh=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new Uu(function(t){return To(t)},xo),this.Vo=new Map,this.So=new Set,this.Do=new ga(Ns.comparator),this.Co=new Map,this.No=new Cl,this.xo={},this.Fo=new Map,this.ko=Du.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Zh(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Gi.d)(this,function(a){switch(a.label){case 0:return n=Id(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,ml(n.localStore,Oo(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,Xh(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&ah(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function Xh(t,e,n,r){return Object(Gi.b)(this,void 0,void 0,function(){var i,s,o,a,c,u;return Object(Gi.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(Gi.b)(this,void 0,void 0,function(){var i,s,o;return Object(Gi.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,yl(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(hd(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,yl(t.localStore,e,!0)];case 1:return i=l.sent(),s=new Gh(e,i.Bn),o=s._o(i.documents),a=Na.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=s.applyChanges(o,t.isPrimaryClient,a),hd(t,n,c.To),u=new Qh(e,n,s),[2,(t.Po.set(e,u),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function Jh(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return n=ss(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!xo(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,gl(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),ch(n.remoteStore,r.targetId),ud(n,r.targetId)}).catch(Mu)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return ud(n,r.targetId),[4,gl(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function td(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Gi.d)(this,function(a){switch(a.label){case 0:r=xd(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=ss(t),i=hs.now(),s=e.reduce(function(t,e){return t.add(e.key)},Ta());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var u=c[a],l=ea(u,n.get(u.key));null!=l&&o.push(new sa(u.key,l,Gs(l.toProto().mapValue),Yo.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new ga(cs)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,pd(r,i.changes)];case 3:return a.sent(),[4,_h(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Dh(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function ed(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r;return Object(Gi.d)(this,function(i){switch(i.label){case 0:n=ss(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,dl(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(is(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?is(r.bo):t.removedDocuments.size>0&&(is(r.bo),r.bo=!1))}),[4,pd(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Mu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function nd(t,e,n){var r=ss(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=ss(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&Hh(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function rd(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i,s,o,a,c;return Object(Gi.d)(this,function(u){switch(u.label){case 0:return(r=ss(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new ga(Ns.comparator)).insert(s,Qs.newNoDocument(s,ds.min())),a=Ta().add(s),c=new Da(ds.min(),new Map,new va(cs),o,a),[4,ed(r,c)]):[3,2];case 1:return u.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),fd(r),[3,4];case 2:return[4,gl(r.localStore,e,!1).then(function(){return ud(r,e,n)}).catch(Mu)];case 3:u.sent(),u.label=4;case 4:return[2]}})})}function id(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:n=ss(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,ll(n.localStore,e)];case 2:return i=s.sent(),cd(n,r,null),ad(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,pd(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Mu(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function sd(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:r=ss(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=ss(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return is(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),cd(r,e,n),ad(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,pd(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Mu(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function od(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Gi.d)(this,function(a){switch(a.label){case 0:fh((n=ss(t)).remoteStore)||Ji("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=ss(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=Dh(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function ad(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function cd(t,e,n){var r=ss(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function ud(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||ld(t,e)})}function ld(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(ch(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),fd(t))}function hd(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Kh?(t.No.addReference(s.key,e),dd(t,s)):s instanceof Wh?(Ji("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||ld(t,s.key)):rs()}}function dd(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Ji("SyncEngine","New document in limbo: "+n),t.So.add(r),fd(t))}function fd(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Ns(ys.fromString(e)),r=t.ko.next();t.Co.set(r,new $h(n)),t.Do=t.Do.insert(n,r),ah(t.remoteStore,new ru(Oo(bo(n.path)),r,2,Qi.o))}}function pd(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Gi.d)(this,function(a){switch(a.label){case 0:return r=ss(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=sl.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u;return Object(Gi.d)(this,function(l){switch(l.label){case 0:n=ss(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Uc.forEach(e,function(e){return Uc.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Uc.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Qc(r=l.sent()))throw r;return Ji("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(c=n.Fn.get(a),u=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.Fn=n.Fn.insert(a,u));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function md(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return(n=ss(t)).currentUser.isEqual(e)?[3,3]:(Ji("SyncEngine","User change. New user:",e.toKey()),[4,ul(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Yi($i.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,pd(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function gd(t,e){var n=ss(t),r=n.Co.get(e);if(r&&r.bo)return Ta().add(r.key);var i=Ta(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var c=n.Po.get(a[o]);i=i.unionWith(c.view.wo)}return i}function yd(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return[4,yl((n=ss(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&hd(n,e.targetId,i.To),i)]}})})}function bd(t){return Object(Gi.b)(this,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){return[2,vl((e=ss(t)).localStore).then(function(t){return pd(e,t)})]})})}function vd(t,e,n,r){return Object(Gi.b)(this,void 0,void 0,function(){var i,s;return Object(Gi.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=ss(t),r=ss(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Uc.resolve(null)})})}((i=ss(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,_h(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(cd(i,e,r||null),ad(i,e),function(t,e){ss(ss(t)._n).Gt(e)}(i.localStore,e)):rs(),o.label=4;case 4:return[4,pd(i,s)];case 5:return o.sent(),[3,7];case 6:Ji("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function _d(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Gi.d)(this,function(u){switch(u.label){case 0:return Id(n=ss(t)),xd(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,wd(n,r.toArray())]);case 1:return i=u.sent(),n.Oo=!0,[4,xh(n.remoteStore,!0)];case 2:for(u.sent(),s=0,o=i;s<o.length;s++)ah(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then(function(){return ud(n,e),gl(n.localStore,e,!0)}),ch(n.remoteStore,e)}),[4,c]);case 4:return u.sent(),[4,wd(n,a)];case 5:return u.sent(),function(t){var e=ss(t);e.Co.forEach(function(t,n){ch(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new ga(Ns.comparator)}(n),n.Oo=!1,[4,xh(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}})})}function wd(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u,l,h,d,f,p;return Object(Gi.d)(this,function(m){switch(m.label){case 0:n=ss(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(c=void 0,(u=n.Vo.get(a=o[s]))&&0!==u.length?[4,ml(n.localStore,Oo(u[0]))]:[3,7]):[3,13];case 2:c=m.sent(),l=0,h=u,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,yd(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,bl(n.localStore,a)];case 8:return p=m.sent(),[4,ml(n.localStore,p)];case 9:return c=m.sent(),[4,Xh(n,Ed(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(c),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Ed(t){return yo(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Sd(t){var e=ss(t);return ss(ss(e.localStore).persistence).fn()}function Cd(t,e,n,r){return Object(Gi.b)(this,void 0,void 0,function(){var i,s,o;return Object(Gi.d)(this,function(a){switch(a.label){case 0:return(i=ss(t)).Oo?(Ji("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,vl(i.localStore)];case 3:return s=a.sent(),o=Da.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,pd(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,gl(i.localStore,e,!0)];case 6:return a.sent(),ud(i,e,r),[3,8];case 7:rs(),a.label=8;case 8:return[2]}})})}function Od(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i,s,o,a,c,u,l,h;return Object(Gi.d)(this,function(d){switch(d.label){case 0:if(!(r=Id(t)).Oo)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(Ji("SyncEngine","Adding an already active target "+o),[3,5]):[4,bl(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,ml(r.localStore,a)];case 3:return c=d.sent(),[4,Xh(r,Ed(a),c.targetId,!1)];case 4:d.sent(),ah(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,gl(r.localStore,t,!1).then(function(){ch(r.remoteStore,t),ud(r,t)}).catch(Mu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Id(t){var e=ss(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ed.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rd.bind(null,e),e.vo._r=Vh.bind(null,e.eventManager),e.vo.Mo=Bh.bind(null,e.eventManager),e}function xd(t){var e=ss(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=id.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sd.bind(null,e),e}var Td=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return this.R=Zl(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return cl(this.persistence,new ol,t.initialUser,this.R)},t.prototype.qo=function(t){return new Al(Nl.bs,this.R)},t.prototype.Bo=function(t){return new Ul},t.prototype.terminate=function(){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),kd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Gi.c)(e,t),e.prototype.initialize=function(e){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,_l(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,xd(this.Ko.syncEngine)];case 4:return n.sent(),[4,_h(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return cl(this.persistence,new ol,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Vu(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=nl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Su.withCacheSize(this.cacheSizeBytes):Su.DEFAULT;return new Ju(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,$l(),Yl(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Ul},e}(Td),Ad=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Gi.c)(e,t),e.prototype.initialize=function(e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r=this;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof ql?(this.sharedClientState.syncEngine={ui:vd.bind(null,n),ai:Cd.bind(null,n),hi:Od.bind(null,n),fn:Sd.bind(null,n),ci:bd.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Gi.b)(r,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return[4,_d(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=$l();if(!ql.yt(e))throw new Yi($i.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=nl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ql(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(kd),Dd=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n=this;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return nd(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=md.bind(null,this.syncEngine),[4,xh(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Mh},t.prototype.createDatastore=function(t){var e=Zl(t.databaseInfo.databaseId),n=new Ql(t.databaseInfo);return function(t,e,n){return new nh(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return nd(o.syncEngine,t,0)},s=Kl.yt()?new Kl:new zl,new ih(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new Yh(t,e,n,r,i,s);return o&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Gi.b)(this,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return e=ss(t),Ji("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,oh(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Nd=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),jd=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new qc,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Uh(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t,e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Gi.b)(this,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t,e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Gi.b)(this,void 0,void 0,function(){var e,n=this;return Object(Gi.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Yi($i.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Gi.d)(this,function(c){switch(c.label){case 0:return n=ss(t),r=Ja(n.R)+"/documents",i={documents:e.map(function(t){return $a(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return s=c.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){is(!!e.found);var n=Ya(t,e.found.name),r=Wa(e.found.updateTime),i=new Ws({mapValue:{fields:e.found.fields}});return Qs.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){is(!!e.missing),is(!!e.readTime);var n=Ya(t,e.missing),r=Wa(e.readTime);return Qs.newNoDocument(n,r)}(t,e):rs()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());is(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new ha(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t,e=this;return Object(Gi.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Ns.fromPath(n);e.mutations.push(new da(r,e.precondition(r)))}),[4,function(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return n=ss(t),r=Ja(n.R)+"/documents",i={writes:e.map(function(t){return rc(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw rs();e=ds.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Yi($i.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Yo.updateTime(e):Yo.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ds.min()))throw new Yi($i.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yo.updateTime(e)}return Yo.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Rd=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Xl(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Gi.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Gi.d)(this,function(r){return t=new jd(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ks(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!pa(e)}return!1},t}(),Pd=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=jl.UNAUTHENTICATED,this.clientId=as.u(),this.credentialListener=function(){},this.receivedInitialUser=new qc,this.credentials.setChangeListener(function(t){Ji("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Yi($i.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new qc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Gi.b)(t,void 0,void 0,function(){var t,n;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Dh(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Md(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ji("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(Gi.b)(i,void 0,void 0,function(){return Object(Gi.d)(this,function(t){switch(t.label){case 0:return[4,ul(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Fd(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Ld(t)];case 1:return n=i.sent(),Ji("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return(n=ss(t)).asyncQueue.verifyOperationInProgress(),Ji("RemoteStore","RemoteStore received new credentials"),r=fh(n),n.$r.add(3),[4,oh(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,sh(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function Ld(t){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ji("FirestoreClient","Using default OfflineComponentProvider"),[4,Md(t,new Td)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Vd(t){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ji("FirestoreClient","Using default OnlineComponentProvider"),[4,Fd(t,new Dd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Bd(t){return Ld(t).then(function(t){return t.persistence})}function Hd(t){return Ld(t).then(function(t){return t.localStore})}function qd(t){return Vd(t).then(function(t){return t.remoteStore})}function Ud(t){return Vd(t).then(function(t){return t.syncEngine})}function zd(t){return Object(Gi.b)(this,void 0,void 0,function(){var e,n;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return[4,Vd(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Zh.bind(null,e.syncEngine),n.onUnlisten=Jh.bind(null,e.syncEngine),n)]}})})}function Kd(t,e,n){var r=this;void 0===n&&(n={});var i=new qc;return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(r,void 0,void 0,function(){var r;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Nd({next:function(s){e.enqueueAndForget(function(){return Lh(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Yi($i.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Yi($i.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new qh(bo(n.path),s,{includeMetadataChanges:!0,so:!0});return Fh(t,o)},[4,zd(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Wd(t,e,n){var r=this;void 0===n&&(n={});var i=new qc;return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(r,void 0,void 0,function(){var r;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Nd({next:function(n){e.enqueueAndForget(function(){return Lh(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Yi($i.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new qh(n,s,{includeMetadataChanges:!0,so:!0});return Fh(t,o)},[4,zd(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Gd=function(t,e,n,r,i,s,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o},Qd=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),$d=new Map,Yd=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Zd=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(jl.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Xd=function(){function t(t){var e=this;this.oc=null,this.currentUser=jl.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Ji("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(is("string"==typeof n.accessToken),new Yd(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return is(null===t||"string"==typeof t),new jl(t)},t}(),Jd=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=jl.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),tf=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Jd(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(jl.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function ef(t,e,n){if(!n)throw new Yi($i.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function nf(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Yi($i.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function rf(t,e,n,r){if(!0===e&&!0===r)throw new Yi($i.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function sf(t){if(!Ns.isDocumentKey(t))throw new Yi($i.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function of(t){if(Ns.isDocumentKey(t))throw new Yi($i.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function af(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":rs()}function cf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Yi($i.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=af(t);throw new Yi($i.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function uf(t,e){if(e<=0)throw new Yi($i.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var lf=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Yi($i.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Yi($i.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,rf("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),hf=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new lf({}),this._settingsFrozen=!1,t instanceof Qd?(this._databaseId=t,this._credentials=new Zd):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Yi($i.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qd(t.options.projectId)}(t),this._credentials=new Xd(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Yi($i.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Yi($i.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lf(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Zd;switch(t.type){case"gapi":var e=t.client;return is(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new tf(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Yi($i.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=$d.get(this))&&(Ji("ComponentProvider","Removing Datastore"),$d.delete(this),t.terminate()),Promise.resolve();var t},t}(),df=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new pf(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),ff=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),pf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,bo(r))||this)._path=r,i.type="collection",i}return Object(Gi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new df(this.firestore,null,new Ns(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(ff);function mf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Ut.g)(t),ef("collection","path",e),t instanceof hf)return of(n=ys.fromString.apply(ys,Object(Gi.f)([e],r))),new pf(t,null,n);if(!(t instanceof df||t instanceof pf))throw new Yi($i.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return of(n=ys.fromString.apply(ys,Object(Gi.f)([t.path],r)).child(ys.fromString(e))),new pf(t.firestore,null,n)}function gf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Ut.g)(t),1===arguments.length&&(e=as.u()),ef("doc","path",e),t instanceof hf)return sf(n=ys.fromString.apply(ys,Object(Gi.f)([e],r))),new df(t,null,new Ns(n));if(!(t instanceof df||t instanceof pf))throw new Yi($i.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return sf(n=t._path.child(ys.fromString.apply(ys,Object(Gi.f)([e],r)))),new df(t.firestore,t instanceof pf?t._converter:null,new Ns(n))}function yf(t,e){return t=Object(Ut.g)(t),e=Object(Ut.g)(e),(t instanceof df||t instanceof pf)&&(e instanceof df||e instanceof pf)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function bf(t,e){return t=Object(Ut.g)(t),e=Object(Ut.g)(e),t instanceof ff&&e instanceof ff&&t.firestore===e.firestore&&xo(t._query,e._query)&&t._converter===e._converter}var vf=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Xl(this,"async_queue_retry"),this.Ec=function(){var e=Yl();e&&Ji("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Yl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Yl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t,e=this;return Object(Gi.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Qc(t=n.sent()))throw t;return Ji("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,ts("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=Ah.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&rs()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t;return Object(Gi.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function _f(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new qc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var wf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new vf,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Gi.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Sf(this),this._firestoreClient.terminate()},e}(hf);function Ef(t){return t._firestoreClient||Sf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Sf(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Gd(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Pd(t._credentials,t._queue,r)}function Cf(t,e,n){var r=this,i=new qc;return t.asyncQueue.enqueue(function(){return Object(Gi.b)(r,void 0,void 0,function(){var r;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Md(t,n)];case 1:return s.sent(),[4,Fd(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===$i.FAILED_PRECONDITION||t.code===$i.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Of(t){if(t._initialized||t._terminated)throw new Yi($i.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var If=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Yi($i.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vs(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),xf=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(ws.fromBase64String(e))}catch(e){throw new Yi($i.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ws.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Tf=function(t){this._methodName=t},kf=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Yi($i.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Yi($i.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return cs(this._lat,t._lat)||cs(this._long,t._long)},t}(),Af=/^__.*__$/,Df=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new sa(t,this.data,this.fieldMask,e,this.fieldTransforms):new ia(t,this.data,e,this.fieldTransforms)},t}(),Nf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new sa(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function jf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rs()}}var Rf=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return tp(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(jf(this.Dc)&&Af.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),Pf=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Zl(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new Rf({Dc:t,methodName:e,Lc:n,path:vs.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Mf(t){var e=t._freezeSettings(),n=Zl(t._databaseId);return new Pf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ff(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Bc(s.merge||s.mergeFields?2:0,e,n,i);Yf("Data must be an object, but it was:",o,r);var a,c,u=Qf(r,o);if(s.merge)a=new _s(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=Zf(e,d[h],n);if(!o.contains(f))throw new Yi($i.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");ep(l,f)||l.push(f)}a=new _s(l),c=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,c=o.fieldTransforms;return new Df(new Ws(u),a,c)}var Lf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gi.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Tf);function Vf(t,e,n){return new Rf({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Bf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gi.c)(e,t),e.prototype._toFieldTransform=function(t){return new Qo(t.path,new Bo)},e.prototype.isEqual=function(t){return t instanceof e},e}(Tf),Hf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(Gi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Vf(this,t,!0),n=this.qc.map(function(t){return Gf(t,e)}),r=new Ho(n);return new Qo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Tf),qf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(Gi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Vf(this,t,!0),n=this.qc.map(function(t){return Gf(t,e)}),r=new Uo(n);return new Qo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Tf),Uf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Gi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Ko(t.R,Po(t.R,this.Uc));return new Qo(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Tf);function zf(t,e,n,r){var i=t.Bc(1,e,n);Yf("Data must be an object, but it was:",i,r);var s=[],o=Ws.empty();ps(r,function(t,r){var a=Jf(e,t,n);r=Object(Ut.g)(r);var c=i.kc(a);if(r instanceof Lf)s.push(a);else{var u=Gf(r,c);null!=u&&(s.push(a),o.set(a,u))}});var a=new _s(s);return new Nf(o,a,i.fieldTransforms)}function Kf(t,e,n,r,i,s){var o=t.Bc(1,e,n),a=[Zf(e,r,n)],c=[i];if(s.length%2!=0)throw new Yi($i.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)a.push(Zf(e,s[u])),c.push(s[u+1]);for(var l=[],h=Ws.empty(),d=a.length-1;d>=0;--d)if(!ep(l,a[d])){var f=a[d],p=c[d];p=Object(Ut.g)(p);var m=o.kc(f);if(p instanceof Lf)l.push(f);else{var g=Gf(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new _s(l);return new Nf(h,y,o.fieldTransforms)}function Wf(t,e,n,r){return void 0===r&&(r=!1),Gf(n,t.Bc(r?4:3,e))}function Gf(t,e){if($f(t=Object(Ut.g)(t)))return Yf("Unsupported field value:",e,t),Qf(t,e);if(t instanceof Tf)return function(t,e){if(!jf(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Gf(s[i],e.Oc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(Ut.g)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Po(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=hs.fromDate(t);return{timestampValue:Ua(e.R,n)}}if(t instanceof hs)return n=new hs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ua(e.R,n)};if(t instanceof kf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof xf)return{bytesValue:za(e.R,t._byteString)};if(t instanceof df){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ga(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+af(t))}(t,e)}function Qf(t,e){var n={};return ms(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(t,function(t,r){var i=Gf(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function $f(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof hs||t instanceof kf||t instanceof xf||t instanceof df||t instanceof Tf)}function Yf(t,e,n){if(!$f(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=af(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function Zf(t,e,n){if((e=Object(Ut.g)(e))instanceof If)return e._internalPath;if("string"==typeof e)return Jf(t,e);throw tp("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Xf=new RegExp("[~\\*/\\[\\]]");function Jf(t,e,n){if(e.search(Xf)>=0)throw tp("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(If.bind.apply(If,Object(Gi.f)([void 0],e.split(".")))))._internalPath}catch(r){throw tp("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function tp(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new Yi($i.INVALID_ARGUMENT,(a+=". ")+t+c)}function ep(t,e){return t.some(function(t){return t.isEqual(e)})}var np=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new df(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new rp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(ip("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),rp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gi.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(np);function ip(t,e){return"string"==typeof e?Jf(t,e):e instanceof If?e._internalPath:e._delegate._internalPath}var sp=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),op=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(Gi.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(ip("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(np),ap=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gi.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(op),cp=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new sp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new ap(n._firestore,n._userDataWriter,r.key,r,new sp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Yi($i.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new ap(t._firestore,t._userDataWriter,e.doc.key,e.doc,new sp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new ap(t._firestore,t._userDataWriter,e.doc.key,e.doc,new sp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:up(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function up(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rs()}}function lp(t,e){return t instanceof op&&e instanceof op?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof cp&&e instanceof cp&&t._firestore===e._firestore&&bf(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function hp(t){if(_o(t)&&0===t.explicitOrderBy.length)throw new Yi($i.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dp=function(){};function fp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var pp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(Gi.c)(e,t),e.prototype._apply=function(t){var e=Mf(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Yi($i.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){wp(o,s);for(var c=[],u=0,l=o;u<l.length;u++)c.push(_p(r,t,l[u]));a={arrayValue:{values:c}}}else a=_p(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||wp(o,s),a=Wf(n,"where",o,"in"===s||"not-in"===s);var h=to.create(i,s,a);return function(t,e){if(e.g()){var n=Eo(t);if(null!==n&&!n.isEqual(e.field))throw new Yi($i.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=wo(t);null!==r&&Ep(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Yi($i.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new ff(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new go(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(dp),mp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(Gi.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Yi($i.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Yi($i.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ho(e,n);return function(t,e){if(null===wo(t)){var n=Eo(t);null!==n&&Ep(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new ff(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new go(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(dp),gp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(Gi.c)(e,t),e.prototype._apply=function(t){return new ff(t.firestore,t._converter,Io(t._query,this.Gc,this.zc))},e}(dp),yp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Gi.c)(e,t),e.prototype._apply=function(t){var e=vp(t,this.type,this.Hc,this.Jc);return new ff(t.firestore,t._converter,function(t,e){return new go(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(dp),bp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Gi.c)(e,t),e.prototype._apply=function(t){var e=vp(t,this.type,this.Hc,this.Jc);return new ff(t.firestore,t._converter,function(t,e){return new go(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(dp);function vp(t,e,n,r){if(n[0]=Object(Ut.g)(n[0]),n[0]instanceof np)return function(t,e,n,r,i){if(!r)throw new Yi($i.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Co(t);o<a.length;o++){var c=a[o];if(c.field.isKeyField())s.push(Bs(e,r.key));else{var u=r.data.field(c.field);if(Is(u))throw new Yi($i.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.canonicalString();throw new Yi($i.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(u)}}return new uo(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Mf(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Yi($i.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(o[c].field.isKeyField()){if("string"!=typeof u)throw new Yi($i.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!So(t)&&-1!==u.indexOf("/"))throw new Yi($i.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(ys.fromString(u));if(!Ns.isDocumentKey(l))throw new Yi($i.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ns(l);a.push(Bs(e,h))}else{var d=Wf(n,r,u);a.push(d)}}return new uo(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function _p(t,e,n){if("string"==typeof(n=Object(Ut.g)(n))){if(""===n)throw new Yi($i.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!So(e)&&-1!==n.indexOf("/"))throw new Yi($i.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ys.fromString(n));if(!Ns.isDocumentKey(r))throw new Yi($i.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Bs(t,new Ns(r))}if(n instanceof df)return Bs(t,n._key);throw new Yi($i.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+af(n)+".")}function wp(t,e){if(!Array.isArray(t)||0===t.length)throw new Yi($i.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Yi($i.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ep(t,e,n){if(!n.isEqual(e))throw new Yi($i.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Sp=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Cs(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Os(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw rs()}},t.prototype.convertObject=function(t,e){var n=this,r={};return ps(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new kf(Cs(t.latitude),Cs(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=xs(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ts(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Ss(t);return new hs(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=ys.fromString(t);is(bc(n));var r=new Qd(n.get(1),n.get(3)),i=new Ns(n.popFirst(5));return r.isEqual(e)||ts("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Cp(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Op=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Gi.c)(e,t),e.prototype.convertBytes=function(t){return new xf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new df(this.firestore,null,e)},e}(Sp),Ip=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Mf(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=xp(t,this._firestore),i=Cp(r._converter,e,n),s=Ff(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(s.toMutation(r._key,Yo.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=xp(t,this._firestore);return s="string"==typeof(e=Object(Ut.g)(e))||e instanceof If?Kf(this._dataReader,"WriteBatch.update",o._key,e,n,r):zf(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Yo.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=xp(t,this._firestore);return this._mutations=this._mutations.concat(new ha(e._key,Yo.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Yi($i.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function xp(t,e){if((t=Object(Ut.g)(t)).firestore!==e)throw new Yi($i.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Tp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Gi.c)(e,t),e.prototype.convertBytes=function(t){return new xf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new df(this.firestore,null,e)},e}(Sp);function kp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=cf(t,df);var s=cf(t.firestore,wf),o=Mf(s);return Dp(s,[("string"==typeof(e=Object(Ut.g)(e))||e instanceof If?Kf(o,"updateDoc",t._key,e,n,r):zf(o,"updateDoc",t._key,e)).toMutation(t._key,Yo.exists(!0))])}function Ap(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(Ut.g)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||_f(i[a])||(o=i[a],a++);var c,u,l,h={includeMetadataChanges:o.includeMetadataChanges};if(_f(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof df)u=cf(t.firestore,wf),l=bo(t._key.path),c={next:function(e){i[a]&&i[a](Np(u,t,e))},error:i[a+1],complete:i[a+2]};else{var f=cf(t,ff);u=cf(f.firestore,wf),l=f._query;var p=new Tp(u);c={next:function(t){i[a]&&i[a](new cp(u,p,f,t))},error:i[a+1],complete:i[a+2]},hp(t._query)}return function(t,e,n,r){var i=this,s=new Nd(r),o=new qh(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(i,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return e=Fh,[4,zd(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(i,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return e=Lh,[4,zd(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Ef(u),l,h,c)}function Dp(t,e){return function(t,e){var n=this,r=new qc;return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(n,void 0,void 0,function(){var n;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return n=td,[4,Ud(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Ef(t),e)}function Np(t,e,n){var r=n.docs.get(e._key),i=new Tp(t);return new op(t,i,e._key,r,new sp(n.hasPendingWrites,n.fromCache),e._converter)}var jp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Gi.c)(e,t),e.prototype.get=function(e){var n=this,r=xp(e,this._firestore),i=new Tp(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new op(n._firestore,i,r._key,t._document,new sp(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Mf(t)}return t.prototype.get=function(t){var e=this,n=xp(t,this._firestore),r=new Op(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return rs();var i=t[0];if(i.isFoundDocument())return new np(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new np(e._firestore,r,n._key,null,n._converter);throw rs()})},t.prototype.set=function(t,e,n){var r=xp(t,this._firestore),i=Cp(r._converter,e,n),s=Ff(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=xp(t,this._firestore);return s="string"==typeof(e=Object(Ut.g)(e))||e instanceof If?Kf(this._dataReader,"Transaction.update",o._key,e,n,r):zf(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=xp(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Rp(){if("undefined"==typeof Uint8Array)throw new Yi($i.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Pp(){if("undefined"==typeof atob)throw new Yi($i.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Mp=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Pp(),new t(xf.fromBase64String(e))},t.fromUint8Array=function(e){return Rp(),new t(xf.fromUint8Array(e))},t.prototype.toBase64=function(){return Pp(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Rp(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Fp=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Of(t=cf(t,wf));var n=Ef(t),r=t._freezeSettings(),i=new Dd;return Cf(n,i,new kd(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Of(t=cf(t,wf));var e=Ef(t),n=t._freezeSettings(),r=new Dd;return Cf(e,r,new Ad(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Yi($i.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new qc;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Gi.b)(e,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return Kc.yt()?[4,Kc.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(nl(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Lp=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Qd||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=cf(t,hf))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&es("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Gi.b)(e,void 0,void 0,function(){var e,n;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return[4,Bd(t)];case 1:return e=r.sent(),[4,qd(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=ss(t);return e.$r.delete(0),sh(e)}(n))]}})})})}(Ef(cf(this._delegate,wf)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Gi.b)(e,void 0,void 0,function(){var e,n;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return[4,Bd(t)];case 1:return e=r.sent(),[4,qd(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Gi.b)(this,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return(e=ss(t)).$r.add(0),[4,oh(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Ef(cf(this._delegate,wf)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&rf("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new qc;return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(e,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return e=od,[4,Ud(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Ef(cf(this._delegate,wf)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Nd(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(n,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){ss(t).Gr.add(e),e.next()},[4,zd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(n,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){ss(t).Gr.delete(e)},[4,zd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Ef(t=cf(t,wf)),_f(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Yi($i.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Xp(this,mf(this._delegate,t))}catch(t){throw zp(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Up(this,gf(this._delegate,t))}catch(t){throw zp(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new $p(this,function(t,e){if(t=cf(t,hf),ef("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Yi($i.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ff(t,null,function(t){return new go(ys.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw zp(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new qc;return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(n,void 0,void 0,function(){var n;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Vd(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Rd(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Ef(t),function(n){return e(new jp(t,n))})}(this._delegate,function(n){return t(new Bp(e,n))})},t.prototype.batch=function(){var t=this;return Ef(this._delegate),new Hp(new Ip(this._delegate,function(e){return Dp(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Yi($i.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Yi($i.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Vp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Gi.c)(e,t),e.prototype.convertBytes=function(t){return new Mp(new xf(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Up.Zc(e,this.firestore,null)},e}(Sp),Bp=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Vp(t)}return t.prototype.get=function(t){var e=this,n=Jp(t);return this._delegate.get(n).then(function(t){return new Gp(e._firestore,new op(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=Jp(t);return n?(nf("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Jp(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Gi.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=Jp(t);return this._delegate.delete(e),this},t}(),Hp=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Jp(t);return n?(nf("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Jp(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Gi.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=Jp(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),qp=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new ap(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Qp(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new Vp(e),n),i.set(n,s)),s},t}();qp.eu=new WeakMap;var Up=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Vp(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Yi($i.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new df(n._delegate,r,new Ns(e)))},t.Zc=function(e,n,r){return new t(n,new df(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Xp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Xp(this.firestore,mf(this._delegate,t))}catch(t){throw zp(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(Ut.g)(t))instanceof df&&yf(this._delegate,t)},t.prototype.set=function(t,e){e=nf("DocumentReference.set",e);try{return function(t,e,n){t=cf(t,df);var r=cf(t.firestore,wf),i=Cp(t._converter,e,n);return Dp(r,[Ff(Mf(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Yo.none())])}(this._delegate,t,e)}catch(t){throw zp(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?kp(this._delegate,t):kp.apply(void 0,Object(Gi.f)([this._delegate,t,e],n))}catch(t){throw zp(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Dp(cf((t=this._delegate).firestore,wf),[new ha(t._key,Yo.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Kp(e),i=Wp(e,function(e){return new Gp(t.firestore,new op(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return Ap(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=cf(t,df);var e=cf(t.firestore,wf),n=Ef(e),r=new Tp(e);return function(t,e){var n=this,r=new qc;return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(n,void 0,void 0,function(){var n;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=ss(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Yi($i.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=Dh(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Hd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new op(e,r,t._key,n,new sp(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=cf(t,df);var e=cf(t.firestore,wf);return Kd(Ef(e),t._key,{source:"server"}).then(function(n){return Np(e,t,n)})}(this._delegate):function(t){t=cf(t,df);var e=cf(t.firestore,wf);return Kd(Ef(e),t._key).then(function(n){return Np(e,t,n)})}(this._delegate)).then(function(t){return new Gp(e.firestore,new op(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?qp.tu(this.firestore,e):null))},t}();function zp(t,e,n){return t.message=t.message.replace(e,n),t}function Kp(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!_f(r))return r}return{}}function Wp(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=_f(t[0])?t[0]:_f(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Gp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Up(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return lp(this._delegate,t._delegate)},t}(),Qp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gi.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Gp),$p=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Vp(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,fp(this._delegate,function(t,e,n){var r=e,i=ip("where",t);return new pp(i,r,n)}(e,n,r)))}catch(e){throw zp(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,fp(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=ip("orderBy",t);return new mp(r,n)}(e,n)))}catch(e){throw zp(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,fp(this._delegate,function(t){return uf("limit",t),new gp("limit",t,"F")}(e)))}catch(e){throw zp(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,fp(this._delegate,function(t){return uf("limitToLast",t),new gp("limitToLast",t,"L")}(e)))}catch(e){throw zp(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,fp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yp("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw zp(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,fp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yp("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw zp(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,fp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bp("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw zp(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,fp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bp("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw zp(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return bf(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=cf(t,ff);var e=cf(t.firestore,wf),n=Ef(e),r=new Tp(e);return function(t,e){var n=this,r=new qc;return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(n,void 0,void 0,function(){var n;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Gi.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,yl(t,e,!0)];case 1:return a=c.sent(),r=new Gh(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=c.sent(),a=Dh(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Hd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new cp(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=cf(t,ff);var e=cf(t.firestore,wf),n=Ef(e),r=new Tp(e);return Wd(n,t._query,{source:"server"}).then(function(n){return new cp(e,r,t,n)})}(this._delegate):function(t){t=cf(t,ff);var e=cf(t.firestore,wf),n=Ef(e),r=new Tp(e);return hp(t._query),Wd(n,t._query).then(function(n){return new cp(e,r,t,n)})}(this._delegate)).then(function(t){return new Zp(e.firestore,new cp(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Kp(e),i=Wp(e,function(e){return new Zp(t.firestore,new cp(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Ap(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?qp.tu(this.firestore,e):null))},t}(),Yp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Qp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Zp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new $p(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Qp(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Yp(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Qp(n._firestore,r))})},t.prototype.isEqual=function(t){return lp(this._delegate,t._delegate)},t}(),Xp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Gi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Up(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Up(this.firestore,void 0===t?gf(this._delegate):gf(this._delegate,t))}catch(t){throw zp(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=cf(t.firestore,wf),r=gf(t),i=Cp(t._converter,e);return Dp(n,[Ff(Mf(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Yo.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Up(e.firestore,t)})},e.prototype.isEqual=function(t){return yf(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?qp.tu(this.firestore,t):null))},e}($p);function Jp(t){return cf(t,df)}var tm,em=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(If.bind.apply(If,Object(Gi.f)([void 0],t)))}return t.documentId=function(){return new t(vs.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(Ut.g)(t))instanceof If&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),nm=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Bf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Lf("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hf("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qf("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Uf("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),rm=n("/6Yf"),im={Firestore:Lp,GeoPoint:kf,Timestamp:hs,Blob:Mp,Transaction:Bp,WriteBatch:Hp,DocumentReference:Up,DocumentSnapshot:Gp,Query:$p,QueryDocumentSnapshot:Qp,QuerySnapshot:Zp,CollectionReference:Xp,FieldPath:em,FieldValue:nm,setLogLevel:function(t){Zi.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new rm.a("firestore",function(t){return function(t,e){return new Lp(t,new wf(t,e),new Fp)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},im)))})(tm=qt.a),tm.registerVersion("@firebase/firestore","2.2.4");var sm=n("XNiG"),om=n("VRyK"),am=n("zx2A");function cm(t,e){return"function"==typeof e?n=>n.pipe(cm((n,r)=>Object(_t.a)(t(n,r)).pipe(Object(At.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new um(t))}class um{constructor(t){this.project=t}call(t,e){return e.subscribe(new lm(t,this.project))}}class lm extends am.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new am.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(am.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var hm=n("qgXg"),dm=n("quSY"),fm=n("9ppp"),pm=n("Ylt2");class mm extends sm.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new gm(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new fm.a;if(this.isStopped||this.hasError?s=dm.a.EMPTY:(this.observers.push(t),s=new pm.a(this,t)),r&&t.add(t=new Vt.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||hm.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class gm{constructor(t,e){this.time=t,this.value=e}}function ym(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,c=!1;return function(u){let l;o++,!i||a?(a=!1,i=new mm(t,e,r),l=i.subscribe(this),s=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,s=void 0,i.complete()}}),c&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}const bm=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),vm=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var _m=n("EY2u");function wm(t){return e=>0===t?Object(_m.b)():e.lift(new Em(t))}class Em{constructor(t){if(this.total=t,this.total<0)throw new vm}call(t,e){return e.subscribe(new Sm(t,this.total))}}class Sm extends It.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Cm(t=null){return e=>e.lift(new Om(t))}class Om{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Im(t,this.defaultValue))}}class Im extends It.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function xm(t=Am){return e=>e.lift(new Tm(t))}class Tm{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new km(t,this.errorFactory))}}class km extends It.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(tm){t=tm}this.destination.error(t)}}}function Am(){return new bm}var Dm=n("SpAZ");function Nm(t,e){return e?cm(()=>t,e):cm(()=>t)}var jm=n("tf+s");const Rm=new r.m("angularfire2.auth.use-emulator"),Pm=new r.m("angularfire2.auth.settings"),Mm=new r.m("angularfire2.auth.tenant-id"),Fm=new r.m("angularfire2.auth.langugage-code"),Lm=new r.m("angularfire2.auth.use-device-language"),Vm=new r.m("angularfire.auth.persistence");let Bm=(()=>{class t{constructor(t,e,r,i,s,o,a,c,u,l){const h=new Bt.d(i),d=Object(Bt.h)(h),f=new sm.a,p=Object(wt.a)(void 0).pipe(Object(Vt.b)(h.outsideAngular),cm(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(At.a)(()=>Object(Bt.g)(t,i,e)),Object(At.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Bt.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=c,u&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,c,u,n,l])})),ym({bufferSize:1,refCount:!1}));if(L(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(wt.a)(null);else{p.pipe(function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Mt((e,n)=>t(e,n,r)):Dm.a,wm(1),n?Cm(e):xm(()=>new bm))}()).subscribe();const t=p.pipe(cm(t=>t.getRedirectResult().then(t=>t,()=>null)),d,ym({bufferSize:1,refCount:!1})),e=t=>new vt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(cm(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(cm(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Nm(n),Object(jm.a)(h.outsideAngular),Object(Vt.b)(h.insideAngular)),this.user=t.pipe(Nm(r),Object(jm.a)(h.outsideAngular),Object(Vt.b)(h.insideAngular)),this.idToken=this.user.pipe(cm(t=>t?Object(_t.a)(t.getIdToken()):Object(wt.a)(null))),this.idTokenResult=this.user.pipe(cm(t=>t?Object(_t.a)(t.getIdTokenResult()):Object(wt.a)(null))),this.credential=Object(om.a)(t,f,this.authState.pipe(Mt(t=>!t))).pipe(Object(At.a)(t=>(null==t?void 0:t.user)?t:null),Object(jm.a)(h.outsideAngular),Object(Vt.b)(h.insideAngular))}return Object(Bt.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Bt.c),r.Mb(Bt.b,8),r.Mb(r.v),r.Mb(r.t),r.Mb(Rm,8),r.Mb(Pm,8),r.Mb(Mm,8),r.Mb(Fm,8),r.Mb(Lm,8),r.Mb(Vm,8))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(Bt.c),Object(r.Mb)(Bt.b,8),Object(r.Mb)(r.v),Object(r.Mb)(r.t),Object(r.Mb)(Rm,8),Object(r.Mb)(Pm,8),Object(r.Mb)(Mm,8),Object(r.Mb)(Fm,8),Object(r.Mb)(Lm,8),Object(r.Mb)(Vm,8))},token:t,providedIn:"any"}),t})();Object(Bt.e)(Bm,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let Hm=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[Bm]}),t})();function qm(t,e){return function(t,e=bt.b){return new vt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Um(t,e){return qm(t,e).pipe(Object(At.a)(t=>({payload:t,type:"query"})))}function zm(t,e){return Um(t,e).pipe(Ot(void 0),xt(),Object(At.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Km(t,e,n){return zm(t,n).pipe(Dt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Wm(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Wm(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Wm(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Rt(undefined,undefined)),Object(At.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Wm(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Gm(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Qm{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=zm(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(At.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Ot(void 0),xt(),Mt(([t,e])=>e.length>0||!t),Object(At.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Dt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Gm(t);return Km(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Um(this.query,this.afs.schedulers.outsideAngular).pipe(Object(At.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(Vt.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new $m(this.ref.doc(t),this.afs)}}class $m{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=eg(n,e);return new Qm(r,i,this.afs)}snapshotChanges(){return qm(this.ref,this.afs.schedulers.outsideAngular).pipe(Ot(void 0),xt(),Object(At.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(At.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(_t.a)(this.ref.get(t)).pipe(Object(Vt.b)(this.afs.schedulers.insideAngular))}}class Ym{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?zm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(At.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Mt(t=>t.length>0),this.afs.keepUnstableUntilFirst):zm(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Dt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Gm(t);return Km(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Um(this.query,this.afs.schedulers.outsideAngular).pipe(Object(At.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(Vt.b)(this.afs.schedulers.insideAngular))}}const Zm=new r.m("angularfire2.enableFirestorePersistence"),Xm=new r.m("angularfire2.firestore.persistenceSettings"),Jm=new r.m("angularfire2.firestore.settings"),tg=new r.m("angularfire2.firestore.use-emulator");function eg(t,e=(t=>t)){return{query:e(t),ref:t}}let ng=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this.schedulers=new Bt.d(s),this.keepUnstableUntilFirst=Object(Bt.h)(this.schedulers);const u=Object(Bt.g)(t,s,e);!Ht.a.auth&&c&&Object(Bt.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Bt.f)(u.name+".firestore","AngularFirestore",u,()=>{const t=s.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!L(i)){const e=()=>{try{return Object(_t.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(tm){return"undefined"!=typeof console&&console.warn(tm),Object(wt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(wt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=eg(n,e),s=this.schedulers.ngZone.run(()=>r);return new Qm(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Ym(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new $m(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Bt.c),r.Mb(Bt.b,8),r.Mb(Zm,8),r.Mb(Jm,8),r.Mb(r.v),r.Mb(r.t),r.Mb(Xm,8),r.Mb(tg,8),r.Mb(Rm,8))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(Bt.c),Object(r.Mb)(Bt.b,8),Object(r.Mb)(Zm,8),Object(r.Mb)(Jm,8),Object(r.Mb)(r.v),Object(r.Mb)(r.t),Object(r.Mb)(Xm,8),Object(r.Mb)(tg,8),Object(r.Mb)(Rm,8))},token:t,providedIn:"any"}),t})(),rg=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Zm,useValue:!0},{provide:Xm,useValue:e}]}}}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[ng]}),t})(),ig=(()=>{class t{constructor(t){this.afs=t}weakadd(t,e){return this.afs.collection(t).add(e)}get(t){return this.afs.collection(t).valueChanges()}simplyGet(t){return this.afs.collection(t).get()}updater(t,e,n,r){return"comments"===r?this.afs.collection(t).doc(n).set({comments:e},{merge:!0}):"profile"===r?this.afs.collection(t).doc(n).set({profile:e},{merge:!0}):0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ng))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class sg{}const og="*";function ag(t,e){return{type:7,name:t,definitions:e,options:{}}}function cg(t,e=null){return{type:4,styles:e,timings:t}}function ug(t,e=null){return{type:2,steps:t,options:e}}function lg(t){return{type:6,styles:t,offset:null}}function hg(t,e,n){return{type:0,name:t,styles:e,options:n}}function dg(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function fg(t){Promise.resolve(null).then(t)}class pg{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fg(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class mg{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?fg(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function gg(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function yg(t){switch(t.length){case 0:return new pg;case 1:return t[0];default:return new mg(t)}}function bg(t,e,n,r,i={},s={}){const o=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case og:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),u=l,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function vg(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&_g(n,"start",t)));break;case"done":t.onDone(()=>r(n&&_g(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&_g(n,"destroy",t)))}}function _g(t,e,n){const r=n.totalTime,i=wg(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function wg(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Eg(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Sg(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Cg=(t,e)=>!1,Og=(t,e)=>!1,Ig=(t,e,n)=>[];const xg=gg();(xg||"undefined"!=typeof Element)&&(Cg=(t,e)=>t.contains(e),Og=(()=>{if(xg||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Og}})(),Ig=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Tg=null,kg=!1;function Ag(t){Tg||(Tg=("undefined"!=typeof document?document.body:null)||{},kg=!!Tg.style&&"WebkitAppearance"in Tg.style);let e=!0;return Tg.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Tg.style,!e&&kg)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Tg.style),e}const Dg=Og,Ng=Cg,jg=Ig;function Rg(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Pg=(()=>{class t{validateStyleProperty(t){return Ag(t)}matchesElement(t,e){return Dg(t,e)}containsElement(t,e){return Ng(t,e)}query(t,e,n){return jg(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new pg(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})(),Mg=(()=>{class t{}return t.NOOP=new Pg,t})();const Fg="ng-enter",Lg="ng-leave",Vg="ng-trigger",Bg=".ng-trigger",Hg="ng-animating",qg=".ng-animating";function Ug(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:zg(parseFloat(e[1]),e[2])}function zg(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Kg(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=zg(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=zg(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Wg(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Gg(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Wg(t,n);return n}function Qg(t,e,n){return n?e+":"+n+";":""}function $g(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Qg(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Qg(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Yg(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=iy(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),gg()&&$g(t))}function Zg(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=iy(e);t.style[n]=""}),gg()&&$g(t))}function Xg(t){return Array.isArray(t)?1==t.length?t[0]:ug(t):t}const Jg=new RegExp("{{\\s*(.+?)\\s*}}","g");function ty(t){let e=[];if("string"==typeof t){let n;for(;n=Jg.exec(t);)e.push(n[1]);Jg.lastIndex=0}return e}function ey(t,e,n){const r=t.toString(),i=r.replace(Jg,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function ny(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const ry=/-+([a-z0-9])/g;function iy(t){return t.replace(ry,(...t)=>t[1].toUpperCase())}function sy(t,e){return 0===t||0===e}function oy(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=cy(t,e)})}}return e}function ay(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function cy(t,e){return window.getComputedStyle(t)[e]}const uy="*";function ly(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(fy(i,o)),"<"!=s[0]||i==uy&&o==uy||e.push(fy(o,i))}(t,n,e)):n.push(t),n}const hy=new Set(["true","1"]),dy=new Set(["false","0"]);function fy(t,e){const n=hy.has(t)||dy.has(t),r=hy.has(e)||dy.has(e);return(i,s)=>{let o=t==uy||t==i,a=e==uy||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?hy.has(t):dy.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?hy.has(e):dy.has(e)),o&&a}}const py=new RegExp("s*:selfs*,?","g");function my(t,e,n){return new gy(t).build(e,n)}class gy{constructor(t){this._driver=t}build(t,e){const n=new yy(e);return this._resetContextStyleTimingState(n),ay(this,Xg(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(by(t)){const e=t;Object.keys(e).forEach(t=>{ty(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=ny(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=ay(this,Xg(t.animation),e);return{type:1,matchers:ly(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:vy(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>ay(this,t,e)),options:vy(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=ay(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:vy(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return _y(Kg(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=_y(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Kg(r,e),_y(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:lg({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=lg(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==og?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(by(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=ty(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(by(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(by(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:ay(this,Xg(t.animation),e),options:vy(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:vy(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:vy(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(py,"")),[t=t.replace(/@\*/g,Bg).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,qg),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Eg(e.collectedStyles,e.currentQuerySelector,{});const o=ay(this,Xg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:vy(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Kg(t.timings,e.errors,!0);return{type:12,animation:ay(this,Xg(t.animation),e),timings:n,options:null}}}class yy{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function by(t){return!Array.isArray(t)&&"object"==typeof t}function vy(t){var e;return t?(t=Wg(t)).params&&(t.params=(e=t.params)?Wg(e):null):t={},t}function _y(t,e,n){return{duration:t,delay:e,easing:n}}function wy(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Ey{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Sy=new RegExp(":enter","g"),Cy=new RegExp(":leave","g");function Oy(t,e,n,r,i,s={},o={},a,c,u=[]){return(new Iy).buildKeyframes(t,e,n,r,i,s,o,a,c,u)}class Iy{buildKeyframes(t,e,n,r,i,s,o,a,c,u=[]){c=c||new Ey;const l=new Ty(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),ay(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[wy(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Ug(n.duration):null,s=null!=n.delay?Ug(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),ay(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=xy);const t=Ug(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>ay(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Ug(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),ay(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Kg(e.params?ey(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Ug(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=xy);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),ay(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;ay(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const xy={};class Ty{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new ky(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Ug(n.duration)),null!=n.delay&&(r.delay=Ug(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=ey(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Ty(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=xy,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Ay(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Sy,"."+this._enterClassName)).replace(Cy,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class ky{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ky(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||og,this._currentKeyframe[t]=og}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=og})):Gg(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=ey(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:og),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Gg(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==og&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?ny(t.values()):[],s=e.size?ny(e.values()):[];if(n){const t=r[0],e=Wg(t);t.offset=0,e.offset=1,r=[t,e]}return wy(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Ay extends ky{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Gg(t[0],!1);a.offset=0,i.push(a);const c=Gg(t[0],!1);c.offset=Dy(o),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let o=Gg(t[r],!1);o.offset=Dy((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return wy(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Dy(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Ny{}class jy extends Ny{normalizePropertyName(t,e){return iy(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Ry[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Ry=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Py(t,e,n,r,i,s,o,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const My={};class Fy{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||My,d=this.buildStyles(n,o&&o.params||My,l),f=a&&a.params||My,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=u?[]:Oy(t,e,this.ast.animation,i,s,d,p,v,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Py(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=Eg(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Eg(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=ny(m.values());return Py(e,this._triggerName,n,r,b,d,p,_,E,g,y,w)}}class Ly{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Wg(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=ey(s,r,e)),n[t]=s})}}),n}}class Vy{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Ly(t.style,t.options&&t.options.params||{})}),By(this.states,"true","1"),By(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Fy(t,e,this.states))}),this.fallbackTransition=new Fy(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function By(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Hy=new Ey;class qy{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=my(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=bg(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Oy(this._driver,e,i,Fg,Lg,{},{},n,Hy,r),s.forEach(t=>{const e=Eg(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,og)})});const a=yg(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=wg(e,"","","");return vg(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Uy="ng-animate-queued",zy="ng-animate-disabled",Ky=".ng-animate-disabled",Wy=[],Gy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Qy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class $y{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Wg(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Yy="void",Zy=new $y(Yy);class Xy{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,sb(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Eg(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Eg(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(sb(t,Vg),sb(t,"ng-trigger-"+e),a[e]=Zy),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new tb(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(sb(t,Vg),sb(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new $y(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=Zy),c.value!==Yy&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Zg(t,n),Yg(t,r)})}return}const u=Eg(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(sb(t,Uy),s.onStart(()=>{ob(t,Uy)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Bg,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Yy,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&yg(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Zy,o=new $y(Yy),a=new tb(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Gy||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){sb(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=wg(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,vg(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Jy{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Xy(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(eb(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!eb(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),sb(t,zy)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ob(t,zy))}removeNode(t,e,n,r){if(eb(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return eb(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Bg,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,qg,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return yg(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Gy,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Ky)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Ky,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)sb(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?yg(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new Ey,r=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=ib(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=Fg+p++;f.set(e,n),t.forEach(t=>sb(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,v=ib(h,Array.from(g));v.forEach((t,e)=>{const n=Lg+p++;b.set(e,n),t.forEach(t=>sb(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>ob(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>ob(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>Zg(i,p.fromStyles)),e.onDestroy(()=>Yg(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Zg(i,p.fromStyles)),e.onDestroy(()=>Yg(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Eg(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Eg(E,e,[]).push(t),t.destroy()})});const C=m.filter(t=>ub(t,a,c)),O=new Map;rb(O,this.driver,y,c,og).forEach(t=>{ub(t,a,c)&&C.push(t)});const I=new Map;d.forEach((t,e)=>{rb(I,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=O.get(t),n=I.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const x=[],T=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>Yg(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,I,O);if(s.setRealPlayer(n),t===k)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=yg(e)),r.push(s)}}else Zg(e,o.fromStyles),s.onDestroy(()=>Yg(e,o.toStyles)),T.push(s),u.has(e)&&r.push(s)}),T.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=yg(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(ob(t,Lg),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,qg,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?ab(this,t,r):this.processLeaveNode(t)}return m.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Yy;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,c=Eg(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}Zg(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new pg(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return cb(t,e),e}((n.get(h)||Wy).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=bg(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new tb(t,o,h);e.setRealPlayer(b),c.push(e)}return b});c.forEach(t=>{Eg(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>sb(t,Hg));const d=yg(h);return d.onDestroy(()=>{u.forEach(t=>ob(t,Hg)),Yg(a,e.toStyles)}),l.forEach(t=>{Eg(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new pg(t.duration,t.delay)}}class tb{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new pg,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>vg(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Eg(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function eb(t){return t&&1===t.nodeType}function nb(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function rb(t,e,n,r,i){const s=[];n.forEach(t=>s.push(nb(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Qy,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>nb(t,s[a++])),o}function ib(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function sb(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function ob(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function ab(t,e,n){yg(n).onDone(()=>t.processLeaveNode(e))}function cb(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof mg?cb(r.players,e):e.push(r)}}function ub(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class lb{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Jy(t,e,n),this._timelineEngine=new qy(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=my(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Vy(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Sg(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Sg(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function hb(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=fb(e[0]),e.length>1&&(r=fb(e[e.length-1]))):e&&(n=fb(e)),n||r?new db(t,n,r):null}let db=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Yg(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yg(this._element,this._initialStyles),this._endStyles&&(Yg(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Zg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zg(this._element,this._endStyles),this._endStyles=null),Yg(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function fb(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];pb(i)&&(e=e||{},e[i]=t[i])}return e}function pb(t){return"display"===t||"position"===t}const mb="animation",gb="animationend";class yb{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Sb(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Eb(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),wb(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){bb(this._element,this._name,"paused")}resume(){bb(this._element,this._name,"running")}setPosition(t){const e=vb(this._element,this._name);this._position=t*this._duration,Eb(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),wb(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Sb(t,"").split(","),r=_b(n,e);r>=0&&(n.splice(r,1),Eb(t,"",n.join(",")))}(this._element,this._name))}}function bb(t,e,n){Eb(t,"PlayState",n,vb(t,e))}function vb(t,e){const n=Sb(t,"");return n.indexOf(",")>0?_b(n.split(","),e):_b([n],e)}function _b(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function wb(t,e,n){n?t.removeEventListener(gb,e):t.addEventListener(gb,e)}function Eb(t,e,n,r){const i=mb+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Sb(t,e){return t.style[mb+e]||""}class Cb{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new yb(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:cy(this.element,n))})}this.currentSnapshot=t}}class Ob extends pg{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Rg(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Ib{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Ag(t)}matchesElement(t,e){return Dg(t,e)}containsElement(t,e){return Ng(t,e)}query(t,e,n){return jg(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Rg(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof Cb),c={};sy(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=oy(t,e,c));if(0==n)return new Ob(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=hb(t,e),f=new Cb(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class xb{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:cy(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Tb{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(kb().toString()),this._cssKeyframesDriver=new Ib}validateStyleProperty(t){return Ag(t)}matchesElement(t,e){return Dg(t,e)}containsElement(t,e){return Ng(t,e)}query(t,e,n){return jg(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=s.filter(t=>t instanceof xb);sy(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=hb(t,e=oy(t,e=e.map(t=>Gg(t,!1)),c));return new xb(t,e,a,l)}}function kb(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Ab=(()=>{class t extends sg{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.K.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?ug(t):t;return jb(this._renderer,null,e,"register",[n]),new Db(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.z),r.Mb(a))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();class Db extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Nb(this._id,t,e||{},this._renderer)}}class Nb{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return jb(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function jb(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Rb="@",Pb="@.disabled";let Mb=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Fb("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Lb(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.z),r.Mb(lb),r.Mb(r.t))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();class Fb{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Rb&&e==Pb?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Lb extends Fb{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Rb?"."==e.charAt(1)&&e==Pb?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Rb){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=Rb&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Vb=(()=>{class t extends lb{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a),r.Mb(Mg),r.Mb(Ny))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();const Bb=new r.m("AnimationModuleType"),Hb=[{provide:Mg,useFactory:function(){return"function"==typeof kb()?new Tb:new Ib}},{provide:Bb,useValue:"BrowserAnimations"},{provide:sg,useClass:Ab},{provide:Ny,useFactory:function(){return new jy}},{provide:lb,useClass:Vb},{provide:r.z,useFactory:function(t,e,n){return new Mb(t,e,n)},deps:[tt,lb,r.t]}];let qb=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:Hb,imports:[mt]}),t})();var Ub=n("vkgz");function zb(t,e=bt.a){return n=>n.lift(new Kb(t,e))}class Kb{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Wb(t,this.dueTime,this.scheduler))}}class Wb extends It.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Gb,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Gb(t){t.debouncedNext()}function Qb(t){return null!=t&&""+t!="false"}function $b(t){return Array.isArray(t)?t:[t]}function Yb(t){return null==t?"":"string"==typeof t?t:t+"px"}function Zb(t){return t instanceof r.i?t.nativeElement:t}let Xb;try{Xb="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(rI){Xb=!1}let Jb,tv=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Xb)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.v))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(r.v))},token:t,providedIn:"root"}),t})(),ev=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)}}),t})();const nv=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function rv(){if(Jb)return Jb;if("object"!=typeof document||!document)return Jb=new Set(nv),Jb;let t=document.createElement("input");return Jb=new Set(nv.filter(e=>(t.setAttribute("type",e),t.type===e))),Jb}let iv,sv,ov;function av(t){return function(){if(null==iv&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>iv=!0}))}finally{iv=iv||!1}return iv}()?t:!!t.capture}function cv(){if(null==sv){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return sv=!1,sv;if("scrollBehavior"in document.documentElement.style)sv=!0;else{const t=Element.prototype.scrollTo;sv=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return sv}let uv=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.zb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),lv=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Zb(t);return new vt.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new sm.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(uv))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(uv))},token:t,providedIn:"root"}),t})(),hv=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.k,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Qb(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(zb(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Db(lv),r.Db(r.i),r.Db(r.t))},t.\u0275dir=r.yb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),dv=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[uv]}),t})(),fv=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(rI){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===mv(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=mv(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||pv(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(tv))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(tv))},token:t,providedIn:"root"}),t})();function pv(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function mv(t){if(!pv(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class gv{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(wm(1)).subscribe(t)}}let yv=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new gv(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(fv),r.Mb(r.t),r.Mb(a))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(fv),Object(r.Mb)(r.t),Object(r.Mb)(a))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const bv=new r.m("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),vv=new r.m("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let _v=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(bv,8),r.Mb(r.t),r.Mb(a),r.Mb(vv,8))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(bv,8),Object(r.Mb)(r.t),Object(r.Mb)(a),Object(r.Mb)(vv,8))},token:t,providedIn:"root"}),t})();function wv(t){return 0===t.buttons}function Ev(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Sv=new r.m("cdk-focus-monitor-default-options"),Cv=av({passive:!0,capture:!0});let Ov=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=wv(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{Ev(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Iv(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Iv(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=Zb(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(wt.a)(null);const r=function(t){if(function(){if(null==ov){const t="undefined"!=typeof document?document.head:null;ov=!(!t||!t.createShadowRoot&&!t.attachShadow)}return ov}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new sm.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=Zb(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Zb(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Iv(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===Iv(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Cv),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Cv)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Cv),t.addEventListener("mousedown",this._documentMousedownListener,Cv),t.addEventListener("touchstart",this._documentTouchstartListener,Cv),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Cv),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Cv),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Cv),t.removeEventListener("mousedown",this._documentMousedownListener,Cv),t.removeEventListener("touchstart",this._documentTouchstartListener,Cv),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.t),r.Mb(tv),r.Mb(a,8),r.Mb(Sv,8))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(r.t),Object(r.Mb)(tv),Object(r.Mb)(a,8),Object(r.Mb)(Sv,8))},token:t,providedIn:"root"}),t})();function Iv(t){return t.composedPath?t.composedPath()[0]:t.target}const xv="cdk-high-contrast-black-on-white",Tv="cdk-high-contrast-white-on-black",kv="cdk-high-contrast-active";let Av=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(kv),t.remove(xv),t.remove(Tv);const e=this.getHighContrastMode();1===e?(t.add(kv),t.add(xv)):2===e&&(t.add(kv),t.add(Tv))}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(tv),r.Mb(a))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(tv),Object(r.Mb)(a))},token:t,providedIn:"root"}),t})();const Dv=new r.m("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.O)(a)}});let Nv=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.k,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Dv,8))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(Dv,8))},token:t,providedIn:"root"}),t})(),jv=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)}}),t})();const Rv=new r.I("11.2.9"),Pv=new r.I("11.2.9"),Mv=new r.m("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Fv=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.P)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Pv.full!==Rv.full&&console.warn("The Angular Material version ("+Pv.full+") does not match the Angular CDK version ("+Rv.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)(r.Mb(Av),r.Mb(Mv,8),r.Mb(a))},imports:[[jv],jv]}),t})();function Lv(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Qb(t)}}}function Vv(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}}function Bv(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Qb(t)}}}function Hv(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new sm.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}const qv=new r.m("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Object(r.O)(r.q)}});class Uv{constructor(){this._localeChanges=new sm.a,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const zv=new r.m("mat-date-formats");let Kv;try{Kv="undefined"!=typeof Intl}catch(rI){Kv=!1}const Wv={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Gv=Yv(31,t=>String(t+1)),Qv={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},$v=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Yv(t,e){const n=Array(t);for(let r=0;r<t;r++)n[r]=e(r);return n}let Zv=(()=>{class t extends Uv{constructor(t,e){super(),this.useUtcForDisplay=!0,super.setLocale(t),this.useUtcForDisplay=!e.TRIDENT,this._clampDate=e.TRIDENT||e.EDGE}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){if(Kv){const e=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return Yv(12,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,t,1))))}return Wv[t]}getDateNames(){if(Kv){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Yv(31,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return Gv}getDayOfWeekNames(t){if(Kv){const e=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return Yv(7,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return Qv[t]}getYearName(t){if(Kv){const e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,e,n){let r=this._createDateWithOverflow(t,e,n);return r.getMonth(),r}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(Kv){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign(Object.assign({},e),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}addCalendarYears(t,e){return this.addCalendarMonths(t,12*e)}addCalendarMonths(t,e){let n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if($v.test(t)){let e=new Date(t);if(this.isValid(e))return e}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,e,n){const r=new Date;return r.setFullYear(t,e,n),r.setHours(0,0,0,0),r}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,e){const n=new Date;return n.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setUTCHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t.format(n)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(qv,8),r.Mb(tv))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})(),Xv=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[{provide:Uv,useClass:Zv}],imports:[[ev]]}),t})();const Jv={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let t_=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[{provide:zv,useValue:Jv}],imports:[[Xv]]}),t})(),e_=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.zb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class n_{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const r_={enterDuration:450,exitDuration:400},i_=av({passive:!0}),s_=["mousedown","touchstart"],o_=["mouseup","mouseleave","touchend","touchcancel"];class a_{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Zb(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},r_),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,c=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=o-s+"px",u.style.top=a-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=c+"ms",this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new n_(this,u,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},r_),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Zb(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(s_))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(o_),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=wv(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Ev(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,i_)})})}_removeTriggerEvents(){this._triggerElement&&(s_.forEach(t=>{this._triggerElement.removeEventListener(t,this,i_)}),this._pointerUpEventsRegistered&&o_.forEach(t=>{this._triggerElement.removeEventListener(t,this,i_)}))}}const c_=new r.m("mat-ripple-global-options");let u_=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new a_(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.i),r.Db(r.t),r.Db(tv),r.Db(c_,8),r.Db(Bb,8))},t.\u0275dir=r.yb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.vb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),l_=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[Fv,ev],Fv]}),t})();const h_=["*",[["mat-card-footer"]]],d_=["*","mat-card-footer"],f_=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],p_=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let m_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),g_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),y_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),t})(),b_=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&r.vb("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t})(),v_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t})(),__=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),t})(),w_=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(r.Db(Bb,8))},t.\u0275cmp=r.xb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.vb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:d_,decls:2,vars:0,template:function(t,e){1&t&&(r.Tb(h_),r.Sb(0),r.Sb(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),E_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.xb({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:p_,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(r.Tb(f_),r.Sb(0),r.Ib(1,"div",0),r.Sb(2,1),r.Hb(),r.Sb(3,2))},encapsulation:2,changeDetection:0}),t})(),S_=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[Fv],Fv]}),t})();const C_=["mat-button",""],O_=["*"],I_=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class x_{constructor(t){this._elementRef=t}}const T_=Vv(Lv(Bv(x_)));let k_=(()=>{class t extends T_{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of I_)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.i),r.Db(Ov),r.Db(Bb,8))},t.\u0275cmp=r.xb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.lc(u_,!0),2&t){let t;r.Wb(t=r.Qb())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.ub("disabled",e.disabled||null),r.vb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qb],attrs:C_,ngContentSelectors:O_,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.Tb(),r.Ib(0,"span",0),r.Sb(1),r.Hb(),r.Eb(2,"span",1),r.Eb(3,"span",2)),2&t&&(r.tb(2),r.vb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.Ub("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[u_],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),A_=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[l_,Fv],Fv]}),t})();var D_=n("z6cu"),N_=n("DH7j"),j_=n("XoHu");function R_(...t){if(1===t.length){const e=t[0];if(Object(N_.a)(e))return P_(e,null);if(Object(j_.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return P_(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return P_(t=1===t.length&&Object(N_.a)(t[0])?t[0]:t,null).pipe(Object(At.a)(t=>e(...t)))}return P_(t,null)}function P_(t,e){return new vt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const c=Object(_t.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&u||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class M_{constructor(t){this.selector=t}call(t,e){return e.subscribe(new F_(t,this.selector,this.caught))}}class F_ extends am.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new am.a(this);this.add(r);const i=Object(am.c)(n,r);i!==r&&this.add(i)}}}class L_{constructor(t){this.callback=t}call(t,e){return e.subscribe(new V_(t,this.callback))}}class V_ extends It.a{constructor(t,e){super(t),this.add(new dm.a(e))}}var B_=n("w1tV"),H_=n("5+tZ");class q_{}class U_{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof U_?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new U_;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof U_?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class z_{encodeKey(t){return K_(t)}encodeValue(t){return K_(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function K_(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class W_{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new z_,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new W_({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function G_(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Q_(t){return"undefined"!=typeof Blob&&t instanceof Blob}function $_(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Y_{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new U_),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new W_,this.urlWithParams=e}serializeBody(){return null===this.body?null:G_(this.body)||Q_(this.body)||$_(this.body)||"string"==typeof this.body?this.body:this.body instanceof W_?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$_(this.body)?null:Q_(this.body)?this.body.type||null:G_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof W_?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new Y_(e,n,i,{params:c,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var Z_=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class X_ extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new U_,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Z_.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new X_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function J_(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let tw=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Y_)r=t;else{let i=void 0;i=n.headers instanceof U_?n.headers:new U_(n.headers);let s=void 0;n.params&&(s=n.params instanceof W_?n.params:new W_({fromObject:n.params})),r=new Y_(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(wt.a)(r).pipe((s=t=>this.handler.handle(t),Object(H_.a)(s,void 0,1)));var s;if(t instanceof Y_||"events"===n.observe)return i;const o=i.pipe(Mt(t=>t instanceof X_));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(At.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(At.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(At.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(At.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new W_).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,J_(n,e))}post(t,e,n={}){return this.request("POST",t,J_(n,e))}put(t,e,n={}){return this.request("PUT",t,J_(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(q_))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();const ew=["*"];function nw(t){return Error(`Unable to find icon with the name "${t}"`)}function rw(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function iw(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class sw{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let ow=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new sw(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const s=this._sanitizer.sanitize(r.C.HTML,n);if(!s)throw iw(n);return this._addSvgIconConfig(t,e,new sw("",s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new sw(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.C.HTML,e);if(!i)throw iw(e);return this._addSvgIconSetConfig(t,new sw("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.C.RESOURCE_URL,t);if(!e)throw rw(t);const n=this._cachedIconsByUrl.get(e);return n?Object(wt.a)(aw(n)):this._loadSvgIconFromConfig(new sw(t,null)).pipe(Object(Ub.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(At.a)(t=>aw(t)))}getNamedSvgIcon(t,e=""){const n=cw(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(D_.a)(nw(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(wt.a)(aw(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(At.a)(t=>aw(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(wt.a)(n):R_(e.filter(t=>!t.svgText).map(t=>{return this._loadSvgIconSetFromConfig(t).pipe((e=e=>{const n=this._sanitizer.sanitize(r.C.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(wt.a)(null)},function(t){const n=new M_(e),r=t.lift(n);return n.caught=r}));var e})).pipe(Object(At.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw nw(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(Ub.a)(e=>t.svgText=e),Object(At.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(wt.a)(null):this._fetchIcon(t).pipe(Object(Ub.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,s=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.C.RESOURCE_URL,n);if(!o)throw rw(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe((u=()=>this._inProgressUrlFetches.delete(o),t=>t.lift(new L_(u))),Object(B_.a)());var u;return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(cw(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new sw(i.url,null,i.options):new sw(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(tw,8),r.Mb(lt),r.Mb(a,8),r.Mb(r.j))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(tw,8),Object(r.Mb)(lt),Object(r.Mb)(a,8),Object(r.Mb)(r.j))},token:t,providedIn:"root"}),t})();function aw(t){return t.cloneNode(!0)}function cw(t,e){return t+":"+e}class uw{constructor(t){this._elementRef=t}}const lw=Vv(uw),hw=new r.m("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.O)(a),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),dw=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],fw=dw.map(t=>`[${t}]`).join(", "),pw=/^url\(['"]?#(.*?)['"]?\)$/;let mw=(()=>{class t extends lw{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=dm.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Qb(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(fw),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)dw.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(pw):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(wm(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.i),r.Db(ow),r.Nb("aria-hidden"),r.Db(hw),r.Db(r.j))},t.\u0275cmp=r.xb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.ub("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.vb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qb],ngContentSelectors:ew,decls:1,vars:0,template:function(t,e){1&t&&(r.Tb(),r.Sb(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),gw=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[Fv],Fv]}),t})();function yw(t,e){if(1&t){const t=r.Jb();r.Ib(0,"button",2),r.Pb("click",function(){r.Yb(t);const n=e.$implicit;return r.Rb().select(n.value)}),r.ic(1),r.Ib(2,"mat-icon"),r.ic(3),r.Hb(),r.Hb()}if(2&t){const t=e.$implicit;r.Vb("disabled",t.disabled),r.tb(1),r.kc(" ",t.title,"\xa0 "),r.tb(2),r.jc(t.icon)}}let bw=(()=>{class t{constructor(){this.pages=[],this.callSelectC=new r.k,this.callLogOut=new r.k,this.log="log"}ngOnInit(){}select(t){this.callSelectC.emit(t)}logout(t){this.callLogOut.emit(t),gt.length>0&&gt.shift()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.xb({type:t,selectors:[["app-nav"]],inputs:{pages:"pages"},outputs:{callSelectC:"callSelectC",callLogOut:"callLogOut"},decls:6,vars:1,consts:[["mat-button","","class","wrText zoom",3,"disabled","click",4,"ngFor","ngForOf"],["mat-button","",3,"click"],["mat-button","",1,"wrText","zoom",3,"disabled","click"]],template:function(t,e){1&t&&(r.Ib(0,"mat-card"),r.gc(1,yw,4,3,"button",0),r.Ib(2,"button",1),r.Pb("click",function(){return e.logout(e.log)}),r.ic(3,"log out "),r.Ib(4,"mat-icon"),r.ic(5,"exit_to_app"),r.Hb(),r.Hb(),r.Hb()),2&t&&(r.tb(1),r.Ub("ngForOf",e.pages))},directives:[w_,T,k_,mw],styles:["mat-card[_ngcontent-%COMP%]{display:flex;justify-content:space-around}@media screen and (max-width:800px){mat-card[_ngcontent-%COMP%]{padding:1% 5%;display:flex;justify-content:space-around;flex-wrap:wrap}button[_ngcontent-%COMP%]{width:30%}}@media screen and (max-width:600px){mat-card[_ngcontent-%COMP%]{padding:1%;display:flex;justify-content:space-around;flex-wrap:wrap}button[_ngcontent-%COMP%]{width:30%}}"]}),t})(),vw=(()=>{class t{constructor(t,e){this.renderer=t,this.el=e}onMouseEnter(){this.renderer.addClass(this.el.nativeElement,"mat-elevation-z6")}onMouseLeave(){this.renderer.removeClass(this.el.nativeElement,"mat-elevation-z6")}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.y),r.Db(r.i))},t.\u0275dir=r.yb({type:t,selectors:[["","appOnHover",""]],hostBindings:function(t,e){1&t&&r.Pb("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()})}}),t})(),_w=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.xb({type:t,selectors:[["app-homeitem"]],decls:24,vars:0,consts:[["src","../../../../assets/images/bckgnCoffee.png","alt","bckGround_image","id","bckgrndIMG"],["id","titleText",1,"zoom","wgText","center"],[1,"main"],[1,"rText"],[1,"container","center"],["appOnHover","",1,"bText"]],template:function(t,e){1&t&&(r.Eb(0,"img",0),r.Ib(1,"div",1),r.ic(2,"Welcome Back \xaf\\_(\u30c4)_/\xaf"),r.Hb(),r.Ib(3,"mat-card",2),r.Ib(4,"p"),r.ic(5," My name is Krist\xf3f K\xf3cz\xe1n, and this is my personal website. This website is under developing, so if two or three months from now you will remember this site between a Netflix series' episode and some instagram scrolling, feel free to revisit this site, you may will find something you like. "),r.Eb(6,"br"),r.ic(7," This website includes "),r.Ib(8,"span",3),r.ic(9," courses "),r.Hb(),r.ic(10,", "),r.Ib(11,"span",3),r.ic(12," photos "),r.Hb(),r.ic(13,", maybe some "),r.Ib(14,"span",3),r.ic(15," coffee "),r.Hb(),r.ic(16," stuff and to be honest, I don't really know yet what more. Let's explore it together! ...That was lame.... Anyway, have fun! "),r.Hb(),r.Hb(),r.Ib(17,"div",4),r.Ib(18,"mat-card",5),r.ic(19," The photographer "),r.Hb(),r.Ib(20,"mat-card",5),r.ic(21," Coffee? Coffee! "),r.Hb(),r.Ib(22,"mat-card",5),r.ic(23," Courses? "),r.Hb(),r.Hb())},directives:[w_,vw],styles:["#bckgrndIMG[_ngcontent-%COMP%]{margin:0;position:absolute;max-width:100%;opacity:1;top:0;z-index:-1}#titleText[_ngcontent-%COMP%]{font-size:50px;width:30%;height:auto;margin:80px 40% 80px 20px}#main[_ngcontent-%COMP%]{width:80%;margin:1% 10%;height:auto;padding:0}h1[_ngcontent-%COMP%]{text-align:center;padding:20px 0;font-family:Roboto,Helvetica Neue,sans-serif}p[_ngcontent-%COMP%]{padding:0 30px 20px;text-align:justify;font-size:15px}img[_ngcontent-%COMP%]{position:fixed;width:100%;overflow:hidden}.main[_ngcontent-%COMP%]{width:80%;margin:70% 10% 0}.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly;max-width:60%;margin:1% 20%}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]{width:30%}#devGif[_ngcontent-%COMP%]{max-width:80%}#developing[_ngcontent-%COMP%]{background-color:#fff;width:30%;position:relative;left:60%;margin-bottom:20px}@media screen and (max-width:1700px){mat-card[_ngcontent-%COMP%]{margin:10px 50px;width:90%;height:auto}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]{width:100%;padding:1px auto}#devGif[_ngcontent-%COMP%]{max-width:80%}#developing[_ngcontent-%COMP%]{left:30%;right:35%;width:30%}p[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width:1550px){#titleText[_ngcontent-%COMP%]{width:50%}}@media screen and (max-width:900px){#titleText[_ngcontent-%COMP%]{font-size:20px;width:auto;height:auto;margin:10px auto 80px 0}#bckgrndIMG[_ngcontent-%COMP%]{margin:0;position:absolute;max-width:100%;opacity:1;top:60px;z-index:-1}.main[_ngcontent-%COMP%]{margin:50% 5px 5px;width:auto}}@media screen and (max-width:600px){mat-card[_ngcontent-%COMP%]{margin:10px;width:auto;height:auto}#main[_ngcontent-%COMP%]{width:90%;margin:5px;height:auto;padding:1%}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]{width:100%;padding:1px auto}#devGif[_ngcontent-%COMP%]{max-width:80%}#developing[_ngcontent-%COMP%]{left:30%;right:35%;width:30%}p[_ngcontent-%COMP%]{font-size:12px}}"]}),t})();var ww=n("n6bG");function Ew(t,e,n,r){return Object(ww.a)(n)&&(r=n,n=void 0),r?Ew(t,e,n).pipe(Object(At.a)(t=>Object(N_.a)(t)?r(...t):r(t))):new vt.a(r=>{Sw(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function Sw(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)Sw(t[s],e,n,r,i)}r.add(s)}n("3N8a"),n("IjjT"),n("7Hc7");class Cw{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Ow(t,this.durationSelector))}}class Ow extends am.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(am.c)(n,new am.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Iw=n("Y7HM");function xw(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Tw(t,e=bt.a){return n=()=>function(t=0,e,n){let r=-1;return Object(Iw.a)(e)?r=Number(e)<1?1:Number(e):Object(Ct.a)(e)&&(n=e),Object(Ct.a)(n)||(n=bt.a),new vt.a(e=>{const i=Object(Iw.a)(t)?t:+t-n.now();return n.schedule(xw,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new Cw(n))};var n}function kw(t){return e=>e.lift(new Aw(t))}class Aw{constructor(t){this.notifier=t}call(t,e){const n=new Dw(t),r=Object(am.c)(this.notifier,new am.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Dw extends am.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let Nw=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new sm.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new vt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Tw(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(wt.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Mt(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=Zb(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ew(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.t),r.Mb(tv),r.Mb(a,8))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(r.t),Object(r.Mb)(tv),Object(r.Mb)(a,8))},token:t,providedIn:"root"}),t})(),jw=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new sm.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Tw(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(tv),r.Mb(r.t),r.Mb(a,8))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(tv),Object(r.Mb)(r.t),Object(r.Mb)(a,8))},token:t,providedIn:"root"}),t})(),Rw=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)}}),t})(),Pw=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[jv,ev,Rw],jv,Rw]}),t})();class Mw{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Fw extends Mw{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Lw extends Mw{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Vw extends Mw{constructor(t){super(),this.element=t instanceof r.i?t.nativeElement:t}}class Bw{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Fw?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Lw?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Vw?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Hw extends Bw{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let qw=(()=>{class t extends Bw{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.k,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.g),r.Db(r.J),r.Db(a))},t.\u0275dir=r.yb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.qb]}),t})(),Uw=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)}}),t})();const zw=cv();class Kw{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Yb(-this._previousScrollPosition.left),t.style.top=Yb(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),zw&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),zw&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class Ww{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Gw{enable(){}disable(){}attach(){}}function Qw(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function $w(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Yw{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Qw(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Zw=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Gw,this.close=t=>new Ww(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Kw(this._viewportRuler,this._document),this.reposition=t=>new Yw(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Nw),r.Mb(jw),r.Mb(r.t),r.Mb(a))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(Nw),Object(r.Mb)(jw),Object(r.Mb)(r.t),Object(r.Mb)(a))},token:t,providedIn:"root"}),t})();class Xw{constructor(t){if(this.scrollStrategy=new Gw,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Jw{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class tE{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let eE=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(a))},token:t,providedIn:"root"}),t})(),nE=(()=>{class t extends eE{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(a))},token:t,providedIn:"root"}),t})(),rE=(()=>{class t extends eE{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a),r.Mb(tv))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(a),Object(r.Mb)(tv))},token:t,providedIn:"root"}),t})();const iE=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let sE=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||iE){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),iE?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a),r.Mb(tv))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(a),Object(r.Mb)(tv))},token:t,providedIn:"root"}),t})();class oE{constructor(t,e,n,r,i,s,o,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new sm.a,this._attachments=new sm.a,this._detachments=new sm.a,this._locationChanges=dm.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new sm.a,this._outsidePointerEvents=new sm.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(wm(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Yb(this._config.width),t.height=Yb(this._config.height),t.minWidth=Yb(this._config.minWidth),t.minHeight=Yb(this._config.minHeight),t.maxWidth=Yb(this._config.maxWidth),t.maxHeight=Yb(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;$b(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(kw(Object(om.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const aE="cdk-overlay-connected-position-bounding-box",cE=/([A-Za-z%]+)$/;class uE{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new sm.a,this._resizeSubscription=dm.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(aE),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&lE(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(aE),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=dE(e);let{x:s,y:o}=t,a=this._getOffset(r,"x"),c=this._getOffset(r,"y");a&&(s+=a),c&&(o+=c);let u=0-o,l=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,u,l),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=hE(this._overlayRef.getConfig().minHeight),o=hE(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=dE(e),i=this._viewportRect,s=Math.max(t.x+r.width-i.width,0),o=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),c=Math.max(i.left-n.left-t.x,0);let u=0,l=0;return u=r.width<=i.width?c||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=r.height<=i.height?a||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:u,y:l},{x:t.x+u,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new tE(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,c,u;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:s,left:c,bottom:o,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Yb(n.height),r.top=Yb(n.top),r.bottom=Yb(n.bottom),r.width=Yb(n.width),r.left=Yb(n.left),r.right=Yb(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=Yb(t)),i&&(r.maxWidth=Yb(i))}this._lastBoundingBoxSize=n,lE(this._boundingBox.style,r)}_resetBoundingBoxStyles(){lE(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){lE(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();lE(n,this._getExactOverlayY(e,t,r)),lE(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=Yb(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Yb(s.maxWidth):i&&(n.maxWidth="")),lE(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=Yb(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Yb(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:$w(t,n),isOriginOutsideView:Qw(t,n),isOverlayClipped:$w(e,n),isOverlayOutsideView:Qw(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&$b(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.i)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function lE(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function hE(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(cE);return n&&"px"!==n?null:parseFloat(e)}return t||null}function dE(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class fE{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new uE(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new Jw(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const pE="cdk-global-overlay-wrapper";class mE{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(pE),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(pE),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let gE=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new mE}connectedTo(t,e,n){return new fE(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new uE(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(jw),r.Mb(a),r.Mb(tv),r.Mb(sE))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(jw),Object(r.Mb)(a),Object(r.Mb)(tv),Object(r.Mb)(sE))},token:t,providedIn:"root"}),t})(),yE=0,bE=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new Xw(t);return i.direction=i.direction||this._directionality.value,new oE(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+yE++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.e)),new Hw(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Zw),r.Mb(sE),r.Mb(r.g),r.Mb(gE),r.Mb(nE),r.Mb(r.n),r.Mb(r.t),r.Mb(a),r.Mb(Nv),r.Mb(_),r.Mb(rE))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();const vE={provide:new r.m("cdk-connected-overlay-scroll-strategy"),deps:[bE],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let _E=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[bE,vE],imports:[[jv,Uw,Pw],Pw]}),t})();function wE(t,e){}class EE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const SE={dialogContainer:ag("dialogContainer",[hg("void, exit",lg({opacity:0,transform:"scale(0.7)"})),hg("enter",lg({transform:"none"})),dg("* => enter",cg("150ms cubic-bezier(0, 0, 0.2, 1)",lg({transform:"none",opacity:1}))),dg("* => void, * => exit",cg("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",lg({opacity:0})))])};let CE=(()=>{class t extends Bw{constructor(t,e,n,i,s,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._focusMonitor=o,this._animationStateChanged=new r.k,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._getActiveElement(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._getActiveElement();return t===e||t.contains(e)}_getActiveElement(){var t;const e=this._document.activeElement;return(null===(t=null==e?void 0:e.shadowRoot)||void 0===t?void 0:t.activeElement)||e}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.i),r.Db(yv),r.Db(r.f),r.Db(a,8),r.Db(EE),r.Db(Ov))},t.\u0275dir=r.yb({type:t,viewQuery:function(t,e){if(1&t&&r.cc(qw,!0),2&t){let t;r.Wb(t=r.Qb())&&(e._portalOutlet=t.first)}},features:[r.qb]}),t})(),OE=(()=>{class t extends CE{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return IE(e||t)},t.\u0275cmp=r.xb({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.ec("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(r.Lb("id",e._id),r.ub("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.fc("@dialogContainer",e._state))},features:[r.qb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.gc(0,wE,0,0,"ng-template",0)},directives:[qw],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[SE.dialogContainer]}}),t})();const IE=r.Kb(OE);let xE=0;class TE{constructor(t,e,n="mat-dialog-"+xE++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new sm.a,this._afterClosed=new sm.a,this._beforeClosed=new sm.a,this._state=0,e._id=n,e._animationStateChanged.pipe(Mt(t=>"opened"===t.state),wm(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Mt(t=>"closed"===t.state),wm(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Mt(t=>27===t.keyCode&&!this.disableClose&&!function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t))).subscribe(t=>{t.preventDefault(),kE(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():kE(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Mt(t=>"closing"===t.state),wm(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function kE(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const AE=new r.m("MatDialogData"),DE=new r.m("mat-dialog-default-options"),NE=new r.m("mat-dialog-scroll-strategy"),jE={provide:NE,deps:[bE],useFactory:function(t){return()=>t.scrollStrategies.block()}};let RE=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){var u;this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new sm.a,this._afterOpenedAtThisLevel=new sm.a,this._ariaHiddenElements=new Map,this.afterAllClosed=(u=()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ot(void 0)),new vt.a(t=>{let e;try{e=u()}catch(n){return void t.error(n)}return(e?Object(_t.a)(e):Object(_m.b)()).subscribe(t)})),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new EE)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new Xw({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.n.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:EE,useValue:e}]}),i=new Fw(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const s=new this._dialogRefConstructor(n,e,i.id);if(t instanceof r.E)e.attachTemplatePortal(new Lw(t,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,e),r=e.attachComponentPortal(new Fw(t,i.viewContainerRef,n));s.componentInstance=r.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(Nv,null)||s.push({provide:Nv,useValue:{value:t.direction,change:Object(wt.a)()}}),r.n.create({parent:i||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Db(bE),r.Db(r.n),r.Db(void 0),r.Db(void 0),r.Db(sE),r.Db(void 0),r.Db(r.G),r.Db(r.G),r.Db(r.m))},t.\u0275dir=r.yb({type:t}),t})(),PE=(()=>{class t extends RE{constructor(t,e,n,r,i,s,o){super(t,e,r,s,o,i,TE,OE,AE)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(bE),r.Mb(r.n),r.Mb(_,8),r.Mb(DE,8),r.Mb(NE),r.Mb(t,12),r.Mb(sE))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})(),ME=0,FE=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=HE(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}_onButtonClick(t){kE(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return t.\u0275fac=function(e){return new(e||t)(r.Db(TE,8),r.Db(r.i),r.Db(PE))},t.\u0275dir=r.yb({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Pb("click",function(t){return e._onButtonClick(t)}),2&t&&r.ub("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.rb]}),t})(),LE=(()=>{class t{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id="mat-dialog-title-"+ME++}ngOnInit(){this._dialogRef||(this._dialogRef=HE(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(r.Db(TE,8),r.Db(r.i),r.Db(PE))},t.\u0275dir=r.yb({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&r.Lb("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),VE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),BE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})();function HE(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}let qE=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[PE,jE],imports:[[_E,Uw,Fv],Fv]}),t})(),UE=(()=>{class t{constructor(t){this.dialog=t}ngOnInit(){}openDialog(){this.dialog.open(zE)}}return t.\u0275fac=function(e){return new(e||t)(r.Db(PE))},t.\u0275cmp=r.xb({type:t,selectors:[["app-about-me"]],decls:19,vars:0,consts:[["mat-card-avatar","","src","../../../assets/images/avatar.jpg","alt","just me"],[1,"wrText"],["mat-card-image","","src","../../../assets/images/avatar.jpg","alt","Just me but bigger"],[2,"text-align","justify"],["mat-stroked-button","",3,"click"]],template:function(t,e){1&t&&(r.Ib(0,"div"),r.Ib(1,"mat-card"),r.Ib(2,"mat-card-header"),r.Eb(3,"img",0),r.Ib(4,"mat-card-title",1),r.ic(5,"Krist\xf3f K\xf3cz\xe1n"),r.Hb(),r.Ib(6,"mat-card-subtitle"),r.ic(7,"Photographer / Coffee addict / Frontend developer"),r.Hb(),r.Hb(),r.Eb(8,"img",2),r.Ib(9,"mat-card-content"),r.Ib(10,"p",3),r.ic(11," Hi, My name is Krist\xf3f and that's my website powered by Google's Angular. Currently I am a student of IT Engineering part of SZTE. The university of Szeged is one of the greatest university of Hungary with an a purposeful set of students and teachers in each area of Science."),r.Eb(12,"br"),r.ic(13," I work for the Scolia technologies as a half-time job for now, as a student. "),r.Eb(14,"br"),r.ic(15," My addictions are photography and coffee - of course you know that...probably.... I mean You're here which means you know me, right? If nope, just leave me alone with my coffee you creep. Oh, and tell your mom you love her! Btw wanna grab a coffee sometimes? I have some great ones in my drawer so...call me. "),r.Hb(),r.Hb(),r.Ib(16,"mat-card-actions"),r.Ib(17,"button",4),r.Pb("click",function(){return e.openDialog()}),r.ic(18,"Contact Me"),r.Hb(),r.Hb(),r.Hb(),r.Hb())},directives:[w_,E_,__,g_,y_,v_,m_,b_,k_],styles:["div[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:30px}mat-card[_ngcontent-%COMP%]{width:500px}@media screen and (max-width:600px){mat-card[_ngcontent-%COMP%]{margin:10px;width:auto;height:auto}}"]}),t})(),zE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.xb({type:t,selectors:[["dialog-elements-example-dialog"]],decls:14,vars:0,consts:[["mat-dialog-title","",1,"center"],["mat-dialog-content","",1,"wrText"],["href","https://www.instagram.com/koczan.kristof/",1,"wrText",2,"text-decoration","none"],["mat-dialog-actions","",1,"center"],["mat-button","","mat-dialog-close",""]],template:function(t,e){1&t&&(r.Ib(0,"h1",0),r.ic(1,"Contact me here"),r.Hb(),r.Ib(2,"span",1),r.Ib(3,"b"),r.ic(4,"Email: "),r.Hb(),r.ic(5," kristofkoczan@gmail.com"),r.Hb(),r.Ib(6,"span",1),r.Ib(7,"b"),r.ic(8,"Insta: "),r.Hb(),r.Ib(9,"a",2),r.ic(10,"@koczan.kristof"),r.Hb(),r.Hb(),r.Ib(11,"div",3),r.Ib(12,"button",4),r.ic(13,"Close"),r.Hb(),r.Hb())},directives:[LE,VE,BE,k_,FE],encapsulation:2}),t})();function KE(t,e){if(1&t&&r.Eb(0,"img",6),2&t){const t=r.Rb(2);r.Vb("alt",t.course.title),r.Ub("src",t.course.img,r.Zb)}}function WE(t,e){if(1&t&&r.Eb(0,"img",7),2&t){const t=r.Rb(2);r.Vb("alt",t.course.title)}}function GE(t,e){if(1&t&&(r.Ib(0,"mat-card",2),r.Ib(1,"mat-card-header"),r.Ib(2,"mat-card-title",3),r.ic(3),r.Hb(),r.Ib(4,"mat-card-subtitle"),r.ic(5),r.Hb(),r.Hb(),r.gc(6,KE,1,2,"img",4),r.gc(7,WE,1,1,"ng-template",null,5,r.hc),r.Hb()),2&t){const t=r.Xb(8),e=r.Rb();r.tb(3),r.jc(e.course.title),r.tb(2),r.jc(e.course.courseCode),r.tb(1),r.Ub("ngIf",e.course.img)("ngIfElse",t)}}function QE(t,e){if(1&t&&r.Eb(0,"img",6),2&t){const t=r.Rb(3);r.Vb("alt",t.course.title),r.Ub("src",t.course.img,r.Zb)}}function $E(t,e){if(1&t&&r.Eb(0,"img",7),2&t){const t=r.Rb(3);r.Vb("alt",t.course.title)}}function YE(t,e){if(1&t&&(r.Ib(0,"mat-card",9),r.Ib(1,"mat-card-header"),r.Ib(2,"mat-card-title"),r.ic(3),r.Hb(),r.Ib(4,"mat-card-subtitle",9),r.ic(5),r.Hb(),r.Hb(),r.gc(6,QE,1,2,"img",4),r.gc(7,$E,1,1,"ng-template",null,5,r.hc),r.Hb()),2&t){const t=r.Xb(8),e=r.Rb(2);r.tb(3),r.jc(e.course.title),r.tb(2),r.jc(e.course.courseCode),r.tb(1),r.Ub("ngIf",e.course.img)("ngIfElse",t)}}function ZE(t,e){if(1&t&&r.gc(0,YE,9,4,"mat-card",8),2&t){const t=r.Rb();r.Ub("ngIf",t.course)}}let XE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.xb({type:t,selectors:[["app-course-card"]],inputs:{course:"course"},decls:3,vars:2,consts:[["class","available",4,"ngIf","ngIfElse"],["notAvailable",""],[1,"available"],[1,"wrText"],["mat-card-image","",3,"src","alt",4,"ngIf","ngIfElse"],["elseBlock",""],["mat-card-image","",3,"src","alt"],["mat-card-image","","src","../../../../assets/images/default.png",3,"alt"],["class","notAvailable",4,"ngIf"],[1,"notAvailable"]],template:function(t,e){if(1&t&&(r.gc(0,GE,9,4,"mat-card",0),r.gc(1,ZE,1,1,"ng-template",null,1,r.hc)),2&t){const t=r.Xb(2);r.Ub("ngIf",e.course&&e.course.available)("ngIfElse",t)}},directives:[A,w_,E_,g_,y_,v_],styles:[".available[_ngcontent-%COMP%]{cursor:pointer}.notAvailable[_ngcontent-%COMP%]{color:#777}mat-card[_ngcontent-%COMP%]{min-height:180px}mat-card-header[_ngcontent-%COMP%]{min-height:80px}"]}),t})();function JE(t){return null==t||0===t.length}function tS(t){return null!=t&&"number"==typeof t.length}const eS=new r.m("NgValidators"),nS=new r.m("NgAsyncValidators"),rS=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class iS{static min(t){return e=>{if(JE(e.value)||JE(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(JE(e.value)||JE(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return JE(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return JE(t.value)||rS.test(t.value)?null:{email:!0}}static minLength(t){return e=>JE(e.value)||!tS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>tS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return iS.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(JE(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(sS);return 0==e.length?null:function(t){return aS(cS(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(sS);return 0==e.length?null:function(t){return R_(cS(t,e).map(oS)).pipe(Object(At.a)(aS))}}}function sS(t){return null!=t}function oS(t){const e=Object(r.lb)(t)?Object(_t.a)(t):t;return Object(r.kb)(e),e}function aS(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function cS(t,e){return e.map(e=>e(t))}function uS(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function lS(t){return null!=t?iS.compose(uS(t)):null}function hS(t){return null!=t?iS.composeAsync(uS(t)):null}function dS(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function fS(t){return t._rawValidators}function pS(t){return t._rawAsyncValidators}let mS=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=lS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=hS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t}),t})(),gS=(()=>{class t extends mS{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return yS(e||t)},t.\u0275dir=r.yb({type:t,features:[r.qb]}),t})();const yS=r.Kb(gS);class bS extends mS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let vS=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Db(gS,10))},t.\u0275dir=r.yb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.vb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.qb]}),t})(),_S=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();function wS(t,e){SS(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&OS(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&OS(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ES(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function SS(t,e,n){const r=fS(t);null!==e.validator?t.setValidators(dS(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=pS(t);if(null!==e.asyncValidator?t.setAsyncValidators(dS(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();ES(e._rawValidators,n),ES(e._rawAsyncValidators,n)}}function CS(t,e,n){if(null!==t){if(null!==e.validator){const n=fS(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=pS(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};ES(e._rawValidators,t),ES(e._rawAsyncValidators,t)}}function OS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function IS(t,e){SS(t,e,!1)}function xS(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function TS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const kS="VALID",AS="INVALID",DS="PENDING",NS="DISABLED";function jS(t){return(FS(t)?t.validators:t)||null}function RS(t){return Array.isArray(t)?lS(t):t||null}function PS(t,e){return(FS(e)?e.asyncValidators:t)||null}function MS(t){return Array.isArray(t)?hS(t):t||null}function FS(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class LS{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=RS(this._rawValidators),this._composedAsyncValidatorFn=MS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===kS}get invalid(){return this.status===AS}get pending(){return this.status==DS}get disabled(){return this.status===NS}get enabled(){return this.status!==NS}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=RS(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=MS(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=DS,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=NS,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=kS,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==kS&&this.status!==DS||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?NS:kS}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=DS,this._hasOwnPendingAsyncValidator=!0;const e=oS(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof BS?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof HS&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.k,this.statusChanges=new r.k}_calculateStatus(){return this._allControlsDisabled()?NS:this.errors?AS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(DS)?DS:this._anyControlsHaveStatus(AS)?AS:kS}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){FS(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class VS extends LS{constructor(t=null,e,n){super(jS(e),PS(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){TS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){TS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class BS extends LS{constructor(t,e,n){super(jS(e),PS(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof VS?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class HS extends LS{constructor(t,e,n){super(jS(e),PS(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof VS?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const qS={provide:gS,useExisting:Object(r.N)(()=>zS)},US=(()=>Promise.resolve(null))();let zS=(()=>{class t extends gS{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.k,this.form=new BS({},lS(t),hS(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){US.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),wS(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){US.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),TS(this._directives,t)})}addFormGroup(t){US.then(()=>{const e=this._findContainer(t.path),n=new BS({});IS(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){US.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){US.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,xS(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Db(eS,10),r.Db(nS,10))},t.\u0275dir=r.yb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Pb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.sb([qS]),r.qb]}),t})(),KS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const WS=new r.m("NgModelWithFormControlWarning"),GS={provide:gS,useExisting:Object(r.N)(()=>QS)};let QS=(()=>{class t extends gS{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.k,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return wS(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){TS(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);IS(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);IS(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,xS(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),CS(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&wS(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){SS(this.form,this,!1),this._oldForm&&CS(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Db(eS,10),r.Db(nS,10))},t.\u0275dir=r.yb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Pb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.sb([GS]),r.qb,r.rb]}),t})(),$S=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)}}),t})(),YS=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new BS(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new VS(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new HS(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof VS||t instanceof BS||t instanceof HS?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})(),ZS=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:WS,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[YS,_S],imports:[$S]}),t})();const XS=["underline"],JS=["connectionContainer"],tC=["inputContainer"],eC=["label"];function nC(t,e){1&t&&(r.Gb(0),r.Ib(1,"div",14),r.Eb(2,"div",15),r.Eb(3,"div",16),r.Eb(4,"div",17),r.Hb(),r.Ib(5,"div",18),r.Eb(6,"div",15),r.Eb(7,"div",16),r.Eb(8,"div",17),r.Hb(),r.Fb())}function rC(t,e){1&t&&(r.Ib(0,"div",19),r.Sb(1,1),r.Hb())}function iC(t,e){if(1&t&&(r.Gb(0),r.Sb(1,2),r.Ib(2,"span"),r.ic(3),r.Hb(),r.Fb()),2&t){const t=r.Rb(2);r.tb(3),r.jc(t._control.placeholder)}}function sC(t,e){1&t&&r.Sb(0,3,["*ngSwitchCase","true"])}function oC(t,e){1&t&&(r.Ib(0,"span",23),r.ic(1," *"),r.Hb())}function aC(t,e){if(1&t){const t=r.Jb();r.Ib(0,"label",20,21),r.Pb("cdkObserveContent",function(){return r.Yb(t),r.Rb().updateOutlineGap()}),r.gc(2,iC,4,1,"ng-container",12),r.gc(3,sC,1,0,"ng-content",12),r.gc(4,oC,2,0,"span",22),r.Hb()}if(2&t){const t=r.Rb();r.vb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.Ub("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.ub("for",t._control.id)("aria-owns",t._control.id),r.tb(2),r.Ub("ngSwitchCase",!1),r.tb(1),r.Ub("ngSwitchCase",!0),r.tb(1),r.Ub("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function cC(t,e){1&t&&(r.Ib(0,"div",24),r.Sb(1,4),r.Hb())}function uC(t,e){if(1&t&&(r.Ib(0,"div",25,26),r.Eb(2,"span",27),r.Hb()),2&t){const t=r.Rb();r.tb(2),r.vb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function lC(t,e){if(1&t&&(r.Ib(0,"div"),r.Sb(1,5),r.Hb()),2&t){const t=r.Rb();r.Ub("@transitionMessages",t._subscriptAnimationState)}}function hC(t,e){if(1&t&&(r.Ib(0,"div",31),r.ic(1),r.Hb()),2&t){const t=r.Rb(2);r.Ub("id",t._hintLabelId),r.tb(1),r.jc(t.hintLabel)}}function dC(t,e){if(1&t&&(r.Ib(0,"div",28),r.gc(1,hC,2,2,"div",29),r.Sb(2,6),r.Eb(3,"div",30),r.Sb(4,7),r.Hb()),2&t){const t=r.Rb();r.Ub("@transitionMessages",t._subscriptAnimationState),r.tb(1),r.Ub("ngIf",t.hintLabel)}}const fC=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],pC=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],mC=new r.m("MatError"),gC={transitionMessages:ag("transitionMessages",[hg("enter",lg({opacity:1,transform:"translateY(0%)"})),dg("void => enter",[lg({opacity:0,transform:"translateY(-5px)"}),cg("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let yC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t}),t})(),bC=0;const vC=new r.m("MatHint");let _C=(()=>{class t{constructor(){this.align="start",this.id="mat-hint-"+bC++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(r.ub("id",e.id)("align",null),r.vb("mat-form-field-hint-end","end"===e.align))},inputs:{align:"align",id:"id"},features:[r.sb([{provide:vC,useExisting:t}])]}),t})(),wC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["mat-label"]]}),t})(),EC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["mat-placeholder"]]}),t})();const SC=new r.m("MatPrefix"),CC=new r.m("MatSuffix");let OC=0;class IC{constructor(t){this._elementRef=t}}const xC=Vv(IC,"primary"),TC=new r.m("MAT_FORM_FIELD_DEFAULT_OPTIONS"),kC=new r.m("MatFormField");let AC=(()=>{class t extends xC{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new sm.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+OC++,this._labelId="mat-form-field-label-"+OC++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Qb(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(Ot(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(kw(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(kw(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(om.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ot(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ot(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(kw(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ew(this._label.nativeElement,"transitionend").pipe(wm(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let c=0;for(let t=0;t<o.length;t++)c+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=c>0?.75*c+10:0}for(let o=0;o<i.length;o++)i[o].style.width=e+"px";for(let o=0;o<s.length;o++)s[o].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.i),r.Db(r.f),r.Db(r.i),r.Db(Nv,8),r.Db(TC,8),r.Db(tv),r.Db(r.t),r.Db(Bb,8))},t.\u0275cmp=r.xb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(r.wb(n,yC,!0),r.bc(n,yC,!0),r.wb(n,wC,!0),r.bc(n,wC,!0),r.wb(n,EC,!0),r.wb(n,mC,!0),r.wb(n,vC,!0),r.wb(n,SC,!0),r.wb(n,CC,!0)),2&t){let t;r.Wb(t=r.Qb())&&(e._controlNonStatic=t.first),r.Wb(t=r.Qb())&&(e._controlStatic=t.first),r.Wb(t=r.Qb())&&(e._labelChildNonStatic=t.first),r.Wb(t=r.Qb())&&(e._labelChildStatic=t.first),r.Wb(t=r.Qb())&&(e._placeholderChild=t.first),r.Wb(t=r.Qb())&&(e._errorChildren=t),r.Wb(t=r.Qb())&&(e._hintChildren=t),r.Wb(t=r.Qb())&&(e._prefixChildren=t),r.Wb(t=r.Qb())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(r.lc(XS,!0),r.cc(JS,!0),r.lc(tC,!0),r.lc(eC,!0)),2&t){let t;r.Wb(t=r.Qb())&&(e.underlineRef=t.first),r.Wb(t=r.Qb())&&(e._connectionContainerRef=t.first),r.Wb(t=r.Qb())&&(e._inputContainerRef=t.first),r.Wb(t=r.Qb())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&r.vb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.sb([{provide:kC,useExisting:t}]),r.qb],ngContentSelectors:pC,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.Tb(fC),r.Ib(0,"div",0),r.Ib(1,"div",1,2),r.Pb("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),r.gc(3,nC,9,0,"ng-container",3),r.gc(4,rC,2,0,"div",4),r.Ib(5,"div",5,6),r.Sb(7),r.Ib(8,"span",7),r.gc(9,aC,5,16,"label",8),r.Hb(),r.Hb(),r.gc(10,cC,2,0,"div",9),r.Hb(),r.gc(11,uC,3,4,"div",10),r.Ib(12,"div",11),r.gc(13,lC,2,1,"div",12),r.gc(14,dC,5,2,"div",13),r.Hb(),r.Hb()),2&t&&(r.tb(3),r.Ub("ngIf","outline"==e.appearance),r.tb(1),r.Ub("ngIf",e._prefixChildren.length),r.tb(5),r.Ub("ngIf",e._hasFloatingLabel()),r.tb(1),r.Ub("ngIf",e._suffixChildren.length),r.tb(1),r.Ub("ngIf","outline"!=e.appearance),r.tb(1),r.Ub("ngSwitch",e._getDisplayedMessages()),r.tb(1),r.Ub("ngSwitchCase","error"),r.tb(1),r.Ub("ngSwitchCase","hint"))},directives:[A,R,P,hv],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[gC.transitionMessages]},changeDetection:0}),t})(),DC=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[F,Fv,dv],Fv]}),t})();const NC=av({passive:!0});let jC=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return _m.a;const e=Zb(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new sm.a,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,NC),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,NC)}}),r}stopMonitoring(t){const e=Zb(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(tv),r.Mb(r.t))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(tv),Object(r.Mb)(r.t))},token:t,providedIn:"root"}),t})(),RC=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[ev]]}),t})();const PC=new r.m("MAT_INPUT_VALUE_ACCESSOR"),MC=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let FC=0;class LC{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const VC=Hv(LC);let BC=(()=>{class t extends VC{constructor(t,e,n,r,i,s,o,a,c,u){super(s,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=u,this._uid="mat-input-"+FC++,this.focused=!1,this.stateChanges=new sm.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>rv().has(t));const l=this._elementRef.nativeElement,h=l.nodeName.toLowerCase();this._inputValueAccessor=o||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Qb(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Qb(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&rv().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Qb(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){MC.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.i),r.Db(tv),r.Db(bS,10),r.Db(zS,8),r.Db(QS,8),r.Db(e_),r.Db(PC,10),r.Db(jC),r.Db(r.t),r.Db(kC,8))},t.\u0275dir=r.yb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&r.Pb("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(r.Lb("disabled",e.disabled)("required",e.required),r.ub("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState&&!e.empty)("aria-required",e.required),r.vb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r.sb([{provide:yC,useExisting:t}]),r.qb,r.rb]}),t})(),HC=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[e_],imports:[[RC,DC,Fv],RC,DC]}),t})(),qC=(()=>{class t{constructor(t){this.service=t,this.form=new BS({author:new VS("Anonim",iS.required),text:new VS("",iS.required)})}addComment(t){return Object(Gi.b)(this,void 0,void 0,function*(){let e=gt[0].name;""==e&&(e="Anonymn");let n,r={author:e,text:t},i=[];const s=this.service.get("Courses").subscribe(t=>{t.filter(t=>t.courseCode==this.courseID?n=t.id:""),t.filter(t=>t.courseCode===this.courseID?i=t.comments:""),i.unshift(r),this.service.updater("Courses",i,n,"comments"),s.unsubscribe()})})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Db(ig))},t.\u0275cmp=r.xb({type:t,selectors:[["app-comment-input"]],inputs:{courseID:"courseID"},decls:11,vars:2,consts:[["color","accent",1,"example-form","commentSection",3,"formGroup"],["color","accent",1,"example-full-width"],["matInput","","maxlength","256","placeholder","Pl. \xc9rdekl\u0151dn\xe9k, hogy mikor...","cdkTextAutoresie",""],["message",""],["align","end"],["mat-raised-button","",1,"wrText",3,"click"]],template:function(t,e){if(1&t){const t=r.Jb();r.Ib(0,"form",0),r.Ib(1,"mat-form-field",1),r.Ib(2,"mat-label"),r.ic(3,"\xdczenet"),r.Hb(),r.Eb(4,"input",2,3),r.Ib(6,"mat-hint",4),r.ic(7),r.Hb(),r.Hb(),r.Eb(8,"br"),r.Ib(9,"button",5),r.Pb("click",function(){r.Yb(t);const n=r.Xb(5);return e.addComment(n.value)}),r.ic(10,"K\xfcld"),r.Hb(),r.Hb()}if(2&t){const t=r.Xb(5);r.Ub("formGroup",e.form),r.tb(7),r.kc("",t.value.length," / 256")}},directives:[KS,vS,QS,AC,wC,BC,_C,k_],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;left:0}.example-full-width[_ngcontent-%COMP%]{width:100%}.commentSection[_ngcontent-%COMP%]{background-color:#444;border-radius:5px;padding:15px}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:hover{color:#fff}input[_ngcontent-%COMP%]{color:#ddd}@media screen and (max-width:600px){.commentSection[_ngcontent-%COMP%]{width:auto;padding:5px}}"]}),t})(),UC=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.xb({type:t,selectors:[["app-comment"]],inputs:{comment:"comment"},decls:8,vars:2,consts:[["appOnHover",""]],template:function(t,e){1&t&&(r.Ib(0,"mat-card",0),r.Ib(1,"mat-card-subtitle"),r.ic(2),r.Hb(),r.Eb(3,"br"),r.Eb(4,"br"),r.Ib(5,"mat-card-content"),r.ic(6),r.Hb(),r.Hb(),r.Eb(7,"br")),2&t&&(r.tb(2),r.kc("",e.comment.author,":"),r.tb(4),r.jc(e.comment.text))},directives:[w_,vw,y_,m_],styles:["mat-card-subtitle[_ngcontent-%COMP%]{float:left}mat-card-content[_ngcontent-%COMP%]{width:100%;text-align:justify}"]}),t})();function zC(t,e){1&t&&r.Eb(0,"app-comment",9),2&t&&r.Ub("comment",e.$implicit)}function KC(t,e){if(1&t&&(r.Ib(0,"div"),r.Ib(1,"div",3),r.Ib(2,"div",4),r.Ib(3,"mat-card"),r.Ib(4,"mat-card-title",5),r.ic(5),r.Hb(),r.Eb(6,"br"),r.Ib(7,"mat-card-subtitle"),r.ic(8),r.Hb(),r.Eb(9,"br"),r.Ib(10,"mat-card-content"),r.Ib(11,"h4"),r.ic(12),r.Hb(),r.Eb(13,"hr"),r.Hb(),r.Hb(),r.Hb(),r.Eb(14,"br"),r.Ib(15,"div",6),r.gc(16,zC,1,1,"app-comment",7),r.Eb(17,"app-comment-input",8),r.Hb(),r.Hb(),r.Hb()),2&t){const t=r.Rb();r.tb(5),r.jc(t.item.title),r.tb(3),r.jc(t.item.courseCode),r.tb(4),r.jc(t.item.longDescription),r.tb(4),r.Ub("ngForOf",t.comments),r.tb(1),r.Ub("courseID",t.courseID)}}function WC(t,e){if(1&t&&(r.Ib(0,"div"),r.Ib(1,"mat-card",10),r.Ib(2,"mat-card-title",5),r.ic(3),r.Hb(),r.Eb(4,"br"),r.Ib(5,"mat-card-subtitle"),r.ic(6),r.Hb(),r.Eb(7,"br"),r.Ib(8,"mat-card-content"),r.Ib(9,"h4"),r.ic(10),r.Hb(),r.Eb(11,"hr"),r.Hb(),r.Hb(),r.Ib(12,"div",11),r.Eb(13,"app-comment-input",8),r.Hb(),r.Hb()),2&t){const t=r.Rb();r.tb(3),r.jc(t.item.title),r.tb(3),r.jc(t.item.courseCode),r.tb(4),r.jc(t.item.longDescription),r.tb(3),r.Ub("courseID",t.courseID)}}let GC=(()=>{class t{constructor(t){this.service=t,this.item={id:"",courseCode:"",title:"",description:"",longDescription:"",available:!1}}getCourses(){return Object(Gi.b)(this,void 0,void 0,function*(){yield this.service.get("Courses").subscribe(t=>{this.courses=t;let e=t.filter(t=>t.courseCode===this.courseID);this.item=e[0],this.item.comments&&this.item.comments.length>0&&(this.forum=!0,this.comments=this.item.comments)})})}ngOnInit(){this.getCourses()}}return t.\u0275fac=function(e){return new(e||t)(r.Db(ig))},t.\u0275cmp=r.xb({type:t,selectors:[["app-course"]],inputs:{courseID:"courseID"},decls:3,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","withForum"],["id","desciptionSection"],[1,"wgText","zoom"],["id","commentSection"],[3,"comment",4,"ngFor","ngForOf"],[3,"courseID"],[3,"comment"],["id","withoutForum"],["id","commentSection2"]],template:function(t,e){1&t&&(r.Ib(0,"div",0),r.gc(1,KC,18,5,"div",1),r.gc(2,WC,14,4,"div",2),r.Hb()),2&t&&(r.Ub("ngSwitch",e.forum),r.tb(1),r.Ub("ngSwitchCase",!0))},directives:[R,P,M,w_,g_,y_,m_,T,qC,UC],styles:["#withoutForum[_ngcontent-%COMP%]{width:60%;margin:1% 20%;height:auto;padding:0}#commentSection[_ngcontent-%COMP%]{width:30%;margin-left:10%}#commentSection2[_ngcontent-%COMP%]{width:30%;margin-left:36%}#desciptionSection[_ngcontent-%COMP%]{width:60%}#withForum[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:30px 80px}mat-card-title[_ngcontent-%COMP%]{padding:30px 0 0}mat-card-subtitle[_ngcontent-%COMP%]{padding:0}mat-card-content[_ngcontent-%COMP%]{padding:20px 80px 50px;text-align:justify}@media screen and (max-width:600px){#withForum[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:10px;width:auto}#commentSection[_ngcontent-%COMP%], #desciptionSection[_ngcontent-%COMP%]{width:100%;margin:2px}mat-card-title[_ngcontent-%COMP%]{padding:30px 0 0}mat-card-subtitle[_ngcontent-%COMP%]{padding:0}mat-card-content[_ngcontent-%COMP%]{padding:20px 0 5px;text-align:justify}#withoutForum[_ngcontent-%COMP%]{width:90%;margin:1% 5%;height:auto;padding:6px}}"]}),t})();function QC(t,e){1&t&&(r.Ib(0,"div"),r.Eb(1,"app-homeitem"),r.Hb())}function $C(t,e){1&t&&(r.Ib(0,"div"),r.Eb(1,"app-about-me"),r.Hb())}function YC(t,e){1&t&&r.Eb(0,"div")}function ZC(t,e){if(1&t){const t=r.Jb();r.Ib(0,"app-course-card",10),r.Pb("click",function(){r.Yb(t);const n=e.$implicit;return r.Rb(3).selectCourse(n.courseCode)}),r.Hb()}2&t&&r.Ub("course",e.$implicit)}function XC(t,e){if(1&t&&(r.Ib(0,"div",8),r.gc(1,ZC,1,1,"app-course-card",9),r.Hb()),2&t){const t=r.Rb(2);r.tb(1),r.Ub("ngForOf",t.courses)}}function JC(t,e){if(1&t){const t=r.Jb();r.Ib(0,"div"),r.Eb(1,"app-course",11),r.Ib(2,"div",8),r.Ib(3,"button",12),r.Pb("click",function(){return r.Yb(t),r.Rb(3).selectCourseBack("")}),r.ic(4,"Back"),r.Hb(),r.Hb(),r.Hb()}if(2&t){const t=r.Rb().$implicit;r.tb(1),r.Ub("courseID",t.courseCode)}}function tO(t,e){if(1&t&&(r.Ib(0,"div"),r.gc(1,JC,5,1,"div",2),r.Hb()),2&t){const t=e.$implicit;r.tb(1),r.Ub("ngSwitchCase",t.courseCode)}}function eO(t,e){if(1&t&&(r.Ib(0,"div",5),r.Ib(1,"div",1),r.gc(2,XC,2,1,"div",6),r.gc(3,tO,2,1,"div",7),r.Hb(),r.Hb()),2&t){const t=r.Rb();r.tb(1),r.Ub("ngSwitch",t.courseSelected),r.tb(1),r.Ub("ngSwitchCase",""),r.tb(1),r.Ub("ngForOf",t.courses)}}function nO(t,e){1&t&&(r.Ib(0,"span"),r.ic(1," ohm, what? "),r.Hb())}let rO=(()=>{class t{constructor(t){this.service=t,this.pages=yt,this.page="",this.courseSelected="",this.callLogOut=new r.k}getCourses(){this.service.get("Courses").subscribe(t=>{this.courses=t})}ngOnInit(){this.page="home",this.courseSelected="",this.getCourses()}ngOnDestroy(){delete this.page,delete this.courseSelected}onSelect(t){this.page=t,this.courseSelected=""}selectCourse(t){const e=this.courses.find(e=>e.courseCode===t);this.courseSelected=e.available?t:""}selectCourseBack(t){this.courseSelected=""}logout(t){this.callLogOut.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Db(ig))},t.\u0275cmp=r.xb({type:t,selectors:[["app-home"]],outputs:{callLogOut:"callLogOut"},decls:7,vars:6,consts:[[3,"pages","callSelectC","callLogOut"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","center",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"center"],["class","container",4,"ngSwitchCase"],[4,"ngFor","ngForOf"],[1,"container"],["appOnHover","",3,"course","click",4,"ngFor","ngForOf"],["appOnHover","",3,"course","click"],[3,"courseID"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(r.Ib(0,"app-nav",0),r.Pb("callSelectC",function(t){return e.onSelect(t)})("callLogOut",function(t){return e.logout(t)}),r.Hb(),r.Ib(1,"div",1),r.gc(2,QC,2,0,"div",2),r.gc(3,$C,2,0,"div",2),r.gc(4,YC,1,0,"div",2),r.gc(5,eO,4,3,"div",3),r.gc(6,nO,2,0,"span",4),r.Hb()),2&t&&(r.Ub("pages",e.pages),r.tb(1),r.Ub("ngSwitch",e.page),r.tb(1),r.Ub("ngSwitchCase","home"),r.tb(1),r.Ub("ngSwitchCase","about"),r.tb(1),r.Ub("ngSwitchCase","photography"),r.tb(1),r.Ub("ngSwitchCase","courses"))},directives:[bw,R,P,M,_w,UE,T,XE,vw,GC,k_],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:5px 16px}app-course-card[_ngcontent-%COMP%]{min-width:200px;max-width:300px;flex:1;margin:4px;transition:all .3s cubic-bezier(.25,.8,.25,1)}"]}),t})();class iO extends It.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class sO extends It.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var oO=n("SeVD");function aO(t,e,n,r,i=new sO(t,n,r)){if(!i.closed)return e instanceof vt.a?e.subscribe(i):Object(oO.a)(e)(i)}var cO=n("yCtX");const uO={};class lO{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new hO(t,this.resultSelector))}}class hO extends iO{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(uO),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(aO(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===uO?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class dO{constructor(t){this.total=t}call(t,e){return e.subscribe(new fO(t,this.total))}}class fO extends It.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const pO=new Set;let mO,gO=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):yO}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!pO.has(t))try{mO||(mO=document.createElement("style"),mO.setAttribute("type","text/css"),document.head.appendChild(mO)),mO.sheet&&(mO.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),pO.add(t))}catch(tm){console.error(tm)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(tv))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(tv))},token:t,providedIn:"root"}),t})();function yO(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let bO=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new sm.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return vO($b(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=function(...t){let e=void 0,n=void 0;return Object(Ct.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(N_.a)(t[0])&&(t=t[0]),Object(cO.a)(t,n).lift(new lO(e))}(vO($b(t)).map(t=>this._registerQuery(t).observable));return e=St(e.pipe(wm(1)),e.pipe(t=>t.lift(new dO(1)),zb(0))),e.pipe(Object(At.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new vt.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Ot(e),Object(At.a)(({matches:e})=>({query:t,matches:e})),kw(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(gO),r.Mb(r.t))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(gO),Object(r.Mb)(r.t))},token:t,providedIn:"root"}),t})();function vO(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function _O(t,e){if(1&t){const t=r.Jb();r.Ib(0,"div",1),r.Ib(1,"button",2),r.Pb("click",function(){return r.Yb(t),r.Rb().action()}),r.ic(2),r.Hb(),r.Hb()}if(2&t){const t=r.Rb();r.tb(2),r.jc(t.data.action)}}function wO(t,e){}const EO=new r.m("MatSnackBarData");class SO{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const CO=Math.pow(2,31)-1;class OO{constructor(t,e){this._overlayRef=e,this._afterDismissed=new sm.a,this._afterOpened=new sm.a,this._onAction=new sm.a,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,CO))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let IO=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(r.Db(OO),r.Db(EO))},t.\u0275cmp=r.xb({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(r.Ib(0,"span"),r.ic(1),r.Hb(),r.gc(2,_O,3,1,"div",0)),2&t&&(r.tb(1),r.jc(e.data.message),r.tb(1),r.Ub("ngIf",e.hasAction))},directives:[A,k_],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const xO={snackBarState:ag("state",[hg("void, hidden",lg({transform:"scale(0.8)",opacity:0})),hg("visible",lg({transform:"scale(1)",opacity:1})),dg("* => visible",cg("150ms cubic-bezier(0, 0, 0.2, 1)")),dg("* => void, * => hidden",cg("75ms cubic-bezier(0.4, 0.0, 1, 1)",lg({opacity:0})))])};let TO=(()=>{class t extends Bw{constructor(t,e,n,r,i){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this._platform=r,this.snackBarConfig=i,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new sm.a,this._onExit=new sm.a,this._onEnter=new sm.a,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._live="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(wm(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),null==n||n.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.t),r.Db(r.i),r.Db(r.f),r.Db(tv),r.Db(SO))},t.\u0275cmp=r.xb({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){if(1&t&&r.cc(qw,!0),2&t){let t;r.Wb(t=r.Qb())&&(e._portalOutlet=t.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,e){1&t&&r.ec("@state.done",function(t){return e.onAnimationEnd(t)}),2&t&&r.fc("@state",e._animationState)},features:[r.qb],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,e){1&t&&(r.Ib(0,"div",0),r.gc(1,wO,0,0,"ng-template",1),r.Hb(),r.Eb(2,"div")),2&t&&(r.tb(2),r.ub("aria-live",e._live)("role",e._role))},directives:[qw],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[xO.snackBarState]}}),t})(),kO=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[_E,Uw,F,A_,Fv],Fv]}),t})();const AO=new r.m("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new SO}});let DO=(()=>{class t{constructor(t,e,n,r,i,s){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=s,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=IO,this.snackBarContainerComponent=TO,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const r=Object.assign(Object.assign({},this._defaultConfig),n);return r.data={message:t,action:e},r.announcementMessage===t&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=r.n.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:SO,useValue:e}]}),i=new Fw(this.snackBarContainerComponent,e.viewContainerRef,n),s=t.attach(i);return s.instance.snackBarConfig=e,s.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new SO),this._defaultConfig),e),i=this._createOverlay(n),s=this._attachSnackBarContainer(i,n),o=new OO(s,i);if(t instanceof r.E){const e=new Lw(t,null,{$implicit:n.data,snackBarRef:o});o.instance=s.attachTemplatePortal(e)}else{const e=this._createInjector(n,o),r=new Fw(t,void 0,e),i=s.attachComponentPortal(r);o.instance=i.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(kw(i.detachments())).subscribe(t=>{const e=i.overlayElement.classList;t.matches?e.add(this.handsetCssClass):e.remove(this.handsetCssClass)}),n.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){const e=new Xw;e.direction=t.direction;let n=this._overlay.position().global();const r="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,s=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):s?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return r.n.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:OO,useValue:e},{provide:EO,useValue:t.data}]})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(bE),r.Mb(_v),r.Mb(r.n),r.Mb(bO),r.Mb(t,12),r.Mb(AO))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(bE),Object(r.Mb)(_v),Object(r.Mb)(r.l),Object(r.Mb)(bO),Object(r.Mb)(t,12),Object(r.Mb)(AO))},token:t,providedIn:kO}),t})(),NO=(()=>{class t{constructor(t,e){this.service=t,this._snackBar=e,this.callSelectM=new r.k,this.reg="reg",this.profil=[],this.durationInSeconds=5}ngOnInit(){this.getProfils(),console.log(this.profil)}getProfils(){this.service.get("Profils").subscribe(t=>{this.profil=t[0].profile})}select(t){console.log(this.profil),this.callSelectM.emit(t)}openSnackBar(){this._snackBar.openFromComponent(jO,{duration:1e3*this.durationInSeconds})}readData(t,e){const n=this.profil.find(n=>n.email===t&&n.password===e);void 0===n?(this.callSelectM.emit("log"),console.log("Hib\xe1s email c\xedm vagy jelsz\xf3!"),this.openSnackBar()):(gt.push({email:n.email,name:n.name,password:n.password,rights:n.rights}),this.callSelectM.emit(""))}}return t.\u0275fac=function(e){return new(e||t)(r.Db(ig),r.Db(DO))},t.\u0275cmp=r.xb({type:t,selectors:[["app-login"]],outputs:{callSelectM:"callSelectM"},decls:22,vars:0,consts:[["appOnHover",""],["method","POST",1,"example-form","center"],[1,"wgText","zoom"],["color","accent",1,"example-full-width"],["matInput","","type","text","id","email","name","email","placeholder","valaki@email.com"],["email",""],["matInput","","type","password","id","pwd","name","pwd"],["pwd",""],["mat-raised-button","",1,"center",3,"click"],["mat-raised-button","",3,"click"]],template:function(t,e){if(1&t){const t=r.Jb();r.Ib(0,"mat-card",0),r.Ib(1,"form",1),r.Ib(2,"div"),r.Ib(3,"mat-label"),r.Ib(4,"h1",2),r.ic(5,"Bejelentkez\xe9s"),r.Hb(),r.Hb(),r.Ib(6,"mat-form-field",3),r.Ib(7,"mat-label"),r.ic(8,"Email"),r.Hb(),r.Eb(9,"input",4,5),r.Hb(),r.Ib(11,"mat-form-field",3),r.Ib(12,"mat-label"),r.ic(13,"Jelsz\xf3"),r.Hb(),r.Eb(14,"input",6,7),r.Hb(),r.Hb(),r.Hb(),r.Ib(16,"button",8),r.Pb("click",function(){r.Yb(t);const n=r.Xb(10),i=r.Xb(15);return e.readData(n.value,i.value)}),r.ic(17,"Bejelentkez\xe9s"),r.Hb(),r.Eb(18,"br"),r.Eb(19,"br"),r.Ib(20,"button",9),r.Pb("click",function(){return e.select(e.reg)}),r.ic(21,"M\xe9g nem Regisztr\xe1ltam"),r.Hb(),r.Hb()}},directives:[w_,vw,wC,AC,BC,k_],styles:[".example-form[_ngcontent-%COMP%], .example-full-width[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{padding-right:8px}mat-card[_ngcontent-%COMP%]{width:40%;margin:5% 30%;object-fit:contain}mat-card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border:1px solid #fff}.mat-form-field[_ngcontent-%COMP%]{margin-right:8px}@media screen and (max-width:1055px){mat-card[_ngcontent-%COMP%]{margin:10px;width:auto;height:auto}}"]}),t})(),jO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.xb({type:t,selectors:[["error"]],decls:2,vars:0,consts:[[1,"error-msg"]],template:function(t,e){1&t&&(r.Ib(0,"span",0),r.ic(1," Hib\xe1s email c\xedm vagy jelsz\xf3!\n"),r.Hb())},styles:[".error-msg[_ngcontent-%COMP%] {\n      color: gray;\n    }"]}),t})();const RO=".error[_ngcontent-%COMP%] {\n      color: grey;\n    }";let PO=(()=>{class t{constructor(t,e){this.service=t,this._snackBar=e,this.callSelectM=new r.k,this.log="log",this.profil=[],this.profilId="",this.durationInSeconds=5}ngOnInit(){this.getProfils()}openSnackBar(){this._snackBar.openFromComponent(MO,{duration:1e3*this.durationInSeconds})}openSnackBarUsedEmail(){this._snackBar.openFromComponent(FO,{duration:1e3*this.durationInSeconds})}getProfils(){this.service.get("Profils").subscribe(t=>{this.profil=t[0].profile,this.profilId=t[0].id})}select(t){this.callSelectM.emit(t)}reg(t,e,n,r,i){const s=this.profil.find(t=>t.email===n);r!==i?(console.log("Hiba, a jelsz\xf3 \xe9s a meger\u0151s\xedt\xe9s nem egyezik!"),this.openSnackBar(),this.callSelectM.emit("reg")):void 0!==s?(this.openSnackBarUsedEmail(),console.log("Az email c\xedm m\xe1r foglalt!"),this.callSelectM.emit("reg")):(this.profil.unshift({email:n,name:e+" "+t,password:r,rights:[]}),this.service.updater("Profils",this.profil,this.profilId,"profile"),console.log("Sikeres regisztraci\xf3!"),this.callSelectM.emit("log"))}}return t.\u0275fac=function(e){return new(e||t)(r.Db(ig),r.Db(DO))},t.\u0275cmp=r.xb({type:t,selectors:[["app-registration"]],outputs:{callSelectM:"callSelectM"},decls:39,vars:0,consts:[["appOnHover",""],[1,"example-form","center"],[1,"wgText","zoom"],["color","accent",1,"example-full-width"],["matInput","","required",""],["firstName",""],["secondName",""],["matInput","","type","text","name","email","placeholder","valaki@email.com","required",""],["email",""],[1,"wgText",2,"float","left"],["matInput","","type","password","name","pwd","required",""],["pwd",""],["matInput","","type","password","name","pwd2","required",""],["pwd2",""],["mat-raised-button","",3,"click"]],template:function(t,e){if(1&t){const t=r.Jb();r.Ib(0,"mat-card",0),r.Ib(1,"form",1),r.Ib(2,"div"),r.Ib(3,"mat-label"),r.Ib(4,"h1",2),r.ic(5,"Regisztr\xe1ci\xf3"),r.Hb(),r.Hb(),r.Ib(6,"mat-form-field",3),r.Ib(7,"mat-label"),r.ic(8,"Keresztn\xe9v"),r.Hb(),r.Eb(9,"input",4,5),r.Hb(),r.Ib(11,"mat-form-field",3),r.Ib(12,"mat-label"),r.ic(13,"Csal\xe1dn\xe9v"),r.Hb(),r.Eb(14,"input",4,6),r.Hb(),r.Ib(16,"mat-form-field",3),r.Ib(17,"mat-label"),r.ic(18,"Email"),r.Hb(),r.Eb(19,"input",7,8),r.Hb(),r.Ib(21,"h4",9),r.ic(22,"K\xe9rlek, olyan jelsz\xf3t haszn\xe1lj, amelyet m\xe1s weblapokon nem haszn\xe1lsz."),r.Hb(),r.Ib(23,"mat-form-field",3),r.Ib(24,"mat-label"),r.ic(25,"Jelsz\xf3"),r.Hb(),r.Eb(26,"input",10,11),r.Hb(),r.Ib(28,"mat-form-field",3),r.Ib(29,"mat-label"),r.ic(30,"Jelsz\xf3 meger\u0151s\xedt\xe9se"),r.Hb(),r.Eb(31,"input",12,13),r.Hb(),r.Hb(),r.Hb(),r.Ib(33,"button",14),r.Pb("click",function(){r.Yb(t);const n=r.Xb(10),i=r.Xb(15),s=r.Xb(20),o=r.Xb(27),a=r.Xb(32);return e.reg(n.value,i.value,s.value,o.value,a.value)}),r.ic(34,"Regisztr\xe1ci\xf3"),r.Hb(),r.Eb(35,"br"),r.Eb(36,"br"),r.Ib(37,"button",14),r.Pb("click",function(){return e.select(e.log)}),r.ic(38,"M\xe1r regisztr\xe1ltam"),r.Hb(),r.Hb()}},directives:[w_,vw,wC,AC,BC,k_],styles:[".example-form[_ngcontent-%COMP%], .example-full-width[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{padding-right:8px}mat-card[_ngcontent-%COMP%]{width:40%;margin:5% 30%;object-fit:contain}mat-card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border:1px solid #fff}.mat-form-field[_ngcontent-%COMP%]{margin-right:8px}@media screen and (max-width:1055px){mat-card[_ngcontent-%COMP%]{margin:10px;width:auto;height:auto}}"]}),t})(),MO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.xb({type:t,selectors:[["error"]],decls:2,vars:0,consts:[[1,"error"]],template:function(t,e){1&t&&(r.Ib(0,"span",0),r.ic(1," Hiba, a jelsz\xf3 \xe9s a meger\u0151s\xedt\xe9s nem egyezik!\n"),r.Hb())},styles:[RO]}),t})(),FO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.xb({type:t,selectors:[["error-email"]],decls:2,vars:0,consts:[[1,"error"]],template:function(t,e){1&t&&(r.Ib(0,"span",0),r.ic(1," Ez az email c\xedm m\xe1r foglalt!\n"),r.Hb())},styles:[RO]}),t})();function LO(t,e){if(1&t){const t=r.Jb();r.Ib(0,"app-home",4),r.Pb("callLogOut",function(e){return r.Yb(t),r.Rb().logout(e)}),r.Hb()}}function VO(t,e){if(1&t){const t=r.Jb();r.Ib(0,"app-login",5),r.Pb("callSelectM",function(e){return r.Yb(t),r.Rb().onSelect(e)}),r.Hb()}}function BO(t,e){if(1&t){const t=r.Jb();r.Ib(0,"app-registration",5),r.Pb("callSelectM",function(e){return r.Yb(t),r.Rb().onSelect(e)}),r.Hb()}}function HO(t,e){1&t&&(r.Ib(0,"div"),r.Ib(1,"h1"),r.ic(2,"404"),r.Hb(),r.Hb())}let qO=(()=>{class t{constructor(){this.param="",this.main=""}ngOnInit(){this.main=1===gt.length?"":"log"}onSelect(t){this.main=t}logout(t){this.main=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.xb({type:t,selectors:[["app-main"]],decls:5,vars:4,consts:[[3,"ngSwitch"],[3,"callLogOut",4,"ngSwitchCase"],[3,"callSelectM",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"callLogOut"],[3,"callSelectM"]],template:function(t,e){1&t&&(r.Ib(0,"div",0),r.gc(1,LO,1,0,"app-home",1),r.gc(2,VO,1,0,"app-login",2),r.gc(3,BO,1,0,"app-registration",2),r.gc(4,HO,3,0,"div",3),r.Hb()),2&t&&(r.Ub("ngSwitch",e.main),r.tb(1),r.Ub("ngSwitchCase",""),r.tb(1),r.Ub("ngSwitchCase","log"),r.tb(1),r.Ub("ngSwitchCase","reg"))},directives:[R,P,M,rO,NO,PO],styles:[""]}),t})(),UO=(()=>{class t{constructor(){this.title="kristofkoczan"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.xb({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[["src","../../assets/images/coffee.png","alt","background image coffee",1,"backgroundImage"]],template:function(t,e){1&t&&(r.Eb(0,"app-main"),r.Eb(1,"img",0))},directives:[qO],styles:[""]}),t})(),zO=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[F,S_,A_,gw]]}),t})(),KO=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[F]]}),t})(),WO=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[F,S_,KO]]}),t})(),GO=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[F,S_,A_,qE,gw]]}),t})(),QO=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[F,S_]]}),t})(),$O=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[F,S_,KO]]}),t})(),YO=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[F,HC,DC,A_,ZS]]}),t})(),ZO=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[F,S_,$O,YO]]}),t})(),XO=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[zO,F,WO,GO,QO,KO,A_,S_,ZO]]}),t})(),JO=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[F,A_,DC,HC,S_,kO,KO]]}),t})(),tI=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[F,A_,DC,HC,S_,kO,KO]]}),t})(),eI=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[F,XO,JO,tI]]}),t})(),nI=(()=>{class t{}return t.\u0275mod=r.Bb({type:t,bootstrap:[UO]}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[],imports:[[XO,Bt.a.initializeApp(i),rg,Hm,mt,qb,t_,eI]]}),t})();Object(r.M)(),ft().bootstrapModule(nI).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);